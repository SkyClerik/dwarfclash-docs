<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dwarf Clash Game: 4.2</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Dwarf Clash Game
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__dwarf-clash-game_2_assets_2_spine_2_c_h_a_n_g_e_l_o_g.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">4.2 </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1"></a>
C</h1>
<ul>
<li><b>Additions</b><ul>
<li>Added physics support<ul>
<li>Added <span class="tt">spPhysicsConstraintTimeline</span> and <span class="tt">spPhysicsConstraintResetTimeline</span></li>
<li>Added <span class="tt">spPhysics</span> to be passed to <span class="tt">spSkeleton_updateWorldTransform()</span></li>
<li>Added <span class="tt">spSkeletonData_findPhysicsConstraint()</span> to query a physics constraint by name</li>
<li>Added <span class="tt">spSkeleton_findPhysicsConstraint()</span> to query a physics constraint by name</li>
<li>Added <span class="tt">spSkeleton_physicsTranslate()</span> to translate all physics constraints by some distances in the skeleton coordinate system</li>
<li>Added <span class="tt">spSkeleton_physicsRotate()</span> to rotate all physics constraints by some distances in the skeleton coordinate system</li>
<li>Added <span class="tt">spSkeleton::time</span> to keep track of time for physics simulations</li>
<li>See also breaking changes for <span class="tt">spSkeleton_updateWorldTransform()</span> and the requirement to call <span class="tt">spSkeleton_update()</span> to advance pyhsics each frame.</li>
</ul>
</li>
<li>Added <span class="tt">spInheritTimeline</span></li>
<li>Added <a href="http://esotericsoftware.com/spine-api-reference#TrackEntry-alphaAttachmentThreshold"><span class="tt">spTrackEntry::alphaAttachmentThreshold</span></a></li>
<li>Removed <span class="tt">const</span> qualifiers where appropriate</li>
<li>Added <span class="tt">spTrackEntry_setMixDuration()</span> to set the mix duration in conjunction with a delay</li>
<li>Added <span class="tt">spTrackEntry_wasApplied()</span> to check if the entry has been applied</li>
<li>Added <span class="tt">spBone_worldToParent()</span> to transform coordinates from world space to the parent space of a bone</li>
<li>Added <span class="tt">spBone_localToParent()</span> to transform coordinates from a bone's local space to its parent space</li>
<li>Added non essential fields <span class="tt">icon</span> and <span class="tt">visible</span> to <span class="tt">spBoneData</span></li>
<li>Added non essential fields <span class="tt">path</span> and <span class="tt">visible</span> to <span class="tt">spSlotData</span></li>
</ul>
</li>
<li><b>Breaking changes</b><ul>
<li>Renamed <span class="tt">spTrackEntry::attachmentThreshold</span> to <span class="tt">spTrackEntry::mixAttachmentThreshold</span></li>
<li>Renamed <span class="tt">spTrackEntry::drawOrderThreshold</span> to <span class="tt">spTrackEntry::mixDrawOrdertThreshold</span></li>
<li>Renamed <span class="tt">spTransformMode</span> to <span class="tt">spInherit</span> and all <span class="tt">SP_TRANSFORMMODE_*</span> enums to <span class="tt">SP_INHERIT_*</span></li>
<li>Changed <span class="tt">spMeshAttachment::edges</span> from <span class="tt">int *</span> to <span class="tt">unsigned short *</span></li>
<li>You must call <span class="tt">spSkeleton_update(delta)</span> before calling <span class="tt">spSkeleton_updateWorldTransform()</span> if the frame time has advanced. This is needed to update physics accordingly</li>
<li><span class="tt">spSkeleton_updateWorldTransform()</span> takes an additional <span class="tt">spPhysics</span> parameter. See the <span class="tt">spPhysics</span> documentation for information on what the different enum values do</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
SFML</h2>
<ul>
<li>Added physics examples</li>
<li><span class="tt">SkeletonDrawable::update()</span> now takes an additional <span class="tt">spPhysics physics</span> parameter that specifies how physics should be updated</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md3"></a>
SDL</h2>
<ul>
<li><span class="tt">spSkeletonDrawable_update()</span> now takes an additional <span class="tt">spPhysics physics</span> parameter that specifies how physics should be updated</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
C++</h1>
<ul>
<li>Added physics support<ul>
<li>Added <span class="tt">PhysicsConstraintXXXTimeline</span> and <span class="tt">PhysicsConstraintResetTimeline</span></li>
<li>Added <span class="tt">Physics</span> to be passed to <span class="tt">Skeleton::updateWorldTransform()</span></li>
<li>Added <span class="tt">SkeletonData::findPhysicsConstraint()</span> and <span class="tt">SkeletonData::getPhysicsConstraints()</span> to query physics constraints</li>
<li>Added <span class="tt">Skeleton::findPhysicsConstraint()</span> and <span class="tt">Skeleton::getPhysicsConstraints()</span> to query physics constraints</li>
<li>Added <span class="tt">Skeleton::physicsTranslate()</span> to translate all physics constraints by some distances in the skeleton coordinate system</li>
<li>Added <span class="tt">Skeleton::physicsRotate()</span> to rotate all physics constraints by some distances in the skeleton coordinate system</li>
<li>Added <span class="tt">Skeleton::time</span> to keep track of time for physics simulations</li>
<li>See also breaking changes for <span class="tt">Skeleton::updateWorldTransform()</span> and the requirement to call <span class="tt">Skeleton::update()</span> to advance pyhsics each frame.</li>
</ul>
</li>
<li>Added <span class="tt">InheritTimeline</span></li>
<li>Added <a href="http://esotericsoftware.com/spine-api-reference#TrackEntry-alphaAttachmentThreshold"><span class="tt">TrackEntry::_alphaAttachmentThreshold</span></a></li>
<li>Added <span class="tt">TrackEntry::setMixDuration()</span> to set the mix duration in conjunction with a delay</li>
<li>Added <span class="tt">TrackEntry::wasApplied()</span> to check if the entry has been applied</li>
<li>Added <span class="tt">Bone::worldToParent()</span> to transform coordinates from world space to the parent space of a bone</li>
<li>Added <span class="tt">Bone::localToParent()</span> to transform coordinates from a bone's local space to its parent space</li>
<li>Added non essential fields <span class="tt">icon</span> and <span class="tt">visible</span> to <span class="tt">BoneData</span></li>
<li>Added non essential fields <span class="tt">path</span> and <span class="tt">visible</span> to <span class="tt">SlotData</span></li>
<li>Added <span class="tt">setToSetupPose()</span> to all contraint classes</li>
<li><b>Breaking changes</b><ul>
<li>Renamed <span class="tt">TrackEntry::attachmentThreshold</span> to <span class="tt">TrackEntry::mixAttachmentThreshold</span></li>
<li>Renamed <span class="tt">TrackEntry::drawOrderThreshold</span> to <span class="tt">TrackEntry::mixDrawOrdertThreshold</span></li>
<li>Renamed <span class="tt">TransformMode</span> to <span class="tt">Inherit</span> and all <span class="tt">TransformMode_*</span> enums to <span class="tt">Inherit_*</span></li>
<li>You must call <span class="tt">Skeleton::update(delta)</span> before calling <span class="tt">Skeleton::updateWorldTransform()</span> if the frame time has advanced. This is needed to update physics accordingly</li>
<li><span class="tt">Skeleton::updateWorldTransform()</span> takes an additional <span class="tt">Physics</span> parameter. See the <span class="tt">Physics</span> documentation for information on what the different enum values do</li>
<li>All <span class="tt">Updatable</span> sub-classes like <span class="tt">Bone</span> and constraints now take an additional <span class="tt">Physics</span> parameter for their <span class="tt">update()</span> methods</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md5"></a>
Cocos2d-x</h2>
<ul>
<li>Added physics example</li>
<li>Improved build system and build documentation</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
SFML</h2>
<ul>
<li><span class="tt">SkeletonDrawable::update()</span> now takes an additional <span class="tt">Physics physics</span> parameter that specifies how physics should be updated</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md7"></a>
SDL</h2>
<ul>
<li><span class="tt">SkeletonDrawable::update()</span> now takes an additional <span class="tt">Physics physics</span> parameter that specifies how physics should be updated</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
UE4</h2>
<ul>
<li><b>Breaking</b>: Renamed runtime folder from <span class="tt">spine-ue4</span> to <span class="tt">spine-ue</span></li>
<li><b>Breaking</b>: Renamed plugin <span class="tt">SpinePlugin</span>. You must update your project's <span class="tt">Build.cs</span> file accordingly</li>
<li><b>Breaking</b>: Starting with Unreal Engine 5.3 imported <span class="tt">.skel</span>/<span class="tt">.json</span> and <span class="tt">.atlas</span> files in the same folder must NOT have a common prefix. E.g. <span class="tt">skeleton.json</span> and <span class="tt">skeleton.atlas</span> will not work. Make sure to rename at least one of the two files so there is no prefix collision, e.g. <span class="tt">skeleton-data.json</span> and <span class="tt">skeleton.atlas</span>.</li>
<li>Added compatibility with UE 5.3</li>
<li>Added more example maps</li>
<li>Added blueprint-callable methods <span class="tt">PhysicsTranslate()</span>, <span class="tt">PhysicsRotate()</span> and <span class="tt">ResetPhysicsConstraints()</span> (which will reset all physics constraints in the skeleton) to <span class="tt">SpineSkeletonComponent</span> and <span class="tt">SpineWidget</span>.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
Godot</h2>
<ul>
<li><b>Breaking</b>: Renamed <span class="tt">TrackEntry.set_attachment_threshold</span> and <span class="tt">TrackEntry.get_attachment_threshold</span> to <span class="tt">TrackEntry.set_mix_attachment_threshold</span> and <span class="tt">TrackEntry.get_mix_attachment_threshold</span></li>
<li><b>Breaking</b>: Renamed <span class="tt">TrackEntry.set_draw_order_threshold</span> and <span class="tt">TrackEntry.get_draw_order_threshold</span> to <span class="tt">TrackEntry.set_mix_draw_order_threshold</span> and <span class="tt">TrackEntry.get_mix_draw_order_threshold</span></li>
<li><b>BReaking</b>: <span class="tt">SpineSkeleton.update_world_transform</span> takes an additional <span class="tt">physics</span> parameter that specifies how physics should be updated</li>
<li>Added compatibility for Godot 4.1, 4.2 and C#, see builds at <a href="https://esotericsoftware.com/spine-godot">https://esotericsoftware.com/spine-godot</a></li>
<li>Added physics examples</li>
<li>Added <span class="tt">SpineBone.world_to_parent</span> to transform coordinates from world space to the parent space of a bone</li>
<li>Added <span class="tt">SpineBone.local_to_parent</span> to transform coordinates from a bone's local space to its parent space</li>
<li>Physics support<ul>
<li>Added <span class="tt">SpineBone.get_inherit</span>/<span class="tt">SpineBone.set_inherit</span></li>
<li>Added <span class="tt">SpinePhysicsConstraint</span> and <span class="tt">SpinePhysicsConstraintData</span></li>
<li>Added <span class="tt">SpineSkeleton.update()</span> to advance the physics time</li>
<li>ADded <span class="tt">SpineSkeleton.get_time</span>/<span class="tt">SpineSkeleton.set_time</span> to access the physics time</li>
<li>Added <span class="tt">SpineSkeleton.physics_translate()</span> to translate all physics constraints by some distances in the skeleton coordinate system</li>
<li>Added <span class="tt">SpineSkeleton.physics_rotate()</span> to rotate all physics constraints by some distances in the skeleton coordinate system</li>
<li>Added <span class="tt">SpineSkeleotnDataResource.set_reference_scale</span>/<span class="tt">SpineSkeletonDataResource.get_reference_scale</span> to access the reference scale of the loaded skeleton data</li>
</ul>
</li>
<li>Added <a href="http://esotericsoftware.com/spine-api-reference#TrackEntry-alphaAttachmentThreshold"><span class="tt">TrackEntry.set_alpha_attachment_threshold</span></a></li>
<li>Added <span class="tt">TrackEntry.set_mix_duration_and_delay()</span> to set the mix duration in conjunction with a delay</li>
<li>Added <span class="tt">TrackEntry::was_applied()</span> to check if the entry has been applied</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md10"></a>
C</h1>
<ul>
<li><b>Additions</b><ul>
<li>Added <a href="http://esotericsoftware.com/spine-api-reference#TrackEntry-alphaAttachmentThreshold"><span class="tt">TrackEntry.AlphaAttachmentThreshold</span></a>.</li>
</ul>
</li>
<li><b>Breaking changes</b><ul>
<li>Renamed <span class="tt">TrackEntry</span> <span class="tt">AttachmentThreshold</span> to <span class="tt">MixAttachmentThreshold</span>, renamed <span class="tt">DrawOrderThreshold</span> to <span class="tt">MixDrawOrderThreshold</span>.</li>
<li>Changed signature of <span class="tt">Skeleton.UpdateWorldTransform()</span> to <span class="tt">UpdateWorldTransform(Skeleton.Physics physics)</span>. The default replacement for <span class="tt">skeleton.UpdateWorldTransform()</span> calls is <span class="tt">skeleton.UpdateWorldTransform(Skeleton.Physics.Update)</span>. If you are certain that a subsequent call to <span class="tt">skeleton.UpdateWorldTransform(Skeleton.Physics.Update)</span> follows in the same frame, you can pass <span class="tt">Skeleton.Physics.Pose</span> as argument instead of <span class="tt">Skeleton.Physics.Update</span>.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md11"></a>
Unity</h2>
<ul>
<li><b>Officially supported Unity versions are 2017.1-6000.1</b>.</li>
<li><b>Additions</b><ul>
<li><span class="tt">OnPostProcessVertices</span> callback parameter <span class="tt">MeshGeneratorBuffers</span> now provides access to <span class="tt">uv2Buffer</span> and <span class="tt">uv3Buffer</span> properties of <span class="tt">MeshGenerator</span>, automatically allocating buffers upon access if <span class="tt">tintBlack</span> is disabled. This allows for passing own vertex data to a shader on second and third uv channels.</li>
<li>Added <span class="tt">Spine/SkeletonGraphic Grayscale</span> shader to provide a basic grayscale shader for SkeletonGraphic as well. SkeletonGraphic Material <span class="tt">SkeletonGraphicDefaultGrayscale</span> uses this shader and can be assigned at <span class="tt">SkeletonGraphic</span> components as usual.</li>
<li><span class="tt">SkeletonGraphic</span> now supports automatic scaling based on its <span class="tt">RectTransform</span> bounds. Automatic scaling can be enabled by setting the added <span class="tt">Layout Scale Mode</span> Inspector property to either <span class="tt">Width Controls Height</span>, <span class="tt">Height Controls Width</span>, <span class="tt">FitInParent</span> or <span class="tt">EnvelopeParent</span>. It is set to <span class="tt">None</span> by default to keep previous behaviour and avoid breaking existing projects. To modify the reference layout bounds, hit the additional <span class="tt">Edit Layout Bounds</span> toggle button to switch into edit mode, adjust the bounds or hit <span class="tt">Match RectTransform with Mesh</span>, and hit the button again when done adjusting. The skeleton will now be scaled accordingly to fit the reference layout bounds to the object's <span class="tt">RectTransform</span>.</li>
<li>Added previously missing unlit URP 2D shader variant, available under <span class="tt">Universal Render Pipeline/2D/Spine/Skeleton</span>.</li>
<li>Added support for light cookies at <span class="tt">Universal Render Pipeline/Spine/Sprite</span> shader.</li>
<li>Timeline extension package: An additional <a class="el" href="namespace_spine.html">Spine</a> preferences parameter <span class="tt">Timeline</span> - <span class="tt">Default Mix Duration</span> has been added, setting newly added <span class="tt">SpineAnimationStateClip</span> clips accordingly, defaults to false. This <a class="el" href="namespace_spine.html">Spine</a> preferences parameter can be enabled to default to the previous behaviour before this update.</li>
<li>Tint Black: Added support for <a href="http://en.esotericsoftware.com/spine-slots#Tint-black">Tint Black</a> functionality at all <a class="el" href="namespace_spine.html">Spine</a> URP shaders (2D and 3D shaders) and at all standard pipeline <span class="tt">Spine/Sprite</span> shaders. This feature can be enabled via the <span class="tt">Tint Black</span> material parameter in the Inspector. Note: The URP Sprite shaders provided in the <a class="el" href="namespace_spine.html">Spine</a> URP Shaders extension UPM package require the latest version of the spine-unity runtime (package version 4.1.12, 2023-05-31 or newer) to display the added material parameters in the Inspector GUI.</li>
<li>Added <span class="tt">SkeletonGraphic.MeshScale</span> property to allow access to calculated mesh scale. <span class="tt">MeshScale</span> is based on (1) Canvas pixels per unit, and (2) <span class="tt">RectTransform</span> bounds when using <span class="tt">Layout Scale Mode</span> other than <span class="tt">None</span> at <span class="tt">SkeletonGraphic</span> which scales the skeleton mesh to fit the parent <span class="tt">RectTransform</span> bounds accordingly.</li>
<li>Added <span class="tt">updateSeparatorPartScale</span> property to <span class="tt">SkeletonGraphic</span> to let render separator parts follow the scale (lossy scale) of the <span class="tt">SkeletonGraphic</span> GameObject. Defaults to <span class="tt">false</span> to maintain existing behaviour.</li>
<li>Added experimental <span class="tt">EditorSkeletonPlayer</span> component to allow Editor playback of the initial animation set at <span class="tt">SkeletonAnimation</span> or <span class="tt">SkeletonGraphic</span> components. Add this component to your skeleton GameObject to enable the in-editor animation preview. Allows configurations for continuous playback when selected, deselected, and alternative single-frame preview by setting <span class="tt">Fixed Track Time</span> to any value other than 0. Limitations: At skeletons with variable material count the Inspector preview may be too unresponsive. It is then recommended to disable the <span class="tt">EditorSkeletonPlayer</span> component (at the top of the Inspector) to make it responsive again, then you can disable <span class="tt">Play When Selected</span> and re-enable the component to preview playback only when deselected.</li>
<li>Added example component <span class="tt">RenderCombinedMesh</span> to render a combined mesh of multiple meshes or submeshes. This is required by <span class="tt">OutlineOnly</span> shaders to render a combined outline when using <span class="tt">SkeletonRenderSeparator</span> or multiple atlas pages which would normally lead to outlines around individual parts. To add a combined outline to your SkeletenRenderer:<ol type="1">
<li>Add a child GameObject and move it a bit back (e.g. position Z = 0.01).</li>
<li>Add a <span class="tt">RenderCombinedMesh</span> component, provided in the <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Examples/Scripts/Sample Components</span> directory.</li>
<li>Copy the original material, add __Outline_ to its name and set the shader to your outline-only shader like <span class="tt">Universal Render Pipeline/Spine/Outline/Skeleton-OutlineOnly</span> or <span class="tt">Spine/Outline/OutlineOnly-ZWrite</span>.</li>
<li>Assign this __Outline_ material at the new child GameObject's <span class="tt">MeshRenderer</span> component. If you are using <span class="tt">SkeletonRenderSeparator</span> and need to enable and disable the <span class="tt">SkeletonRenderSeparator</span> component at runtime, you can increase the <span class="tt">RenderCombinedMesh</span> <span class="tt">Reference Renderers</span> array by one and assign the <span class="tt">SkeletonRenderer</span> itself at the last entry after the parts renderers. Disabled <span class="tt">MeshRenderer</span> components will be skipped when combining the final mesh, so the combined mesh is automatically filled from the desired active renderers.</li>
</ol>
</li>
<li>Timeline extension package: Added static <span class="tt">EditorEvent</span> callback to allow editor scripts to react to animation events outside of play-mode. Register to the events via <span class="tt">Spine.Unity.Playables.SpineAnimationStateMixerBehaviour.EditorEvent += YourCallback;</span>.</li>
<li>URP Shaders: Added <span class="tt">Depth Write</span> property to shaders <span class="tt">Universal Render Pipeline/Spine/Skeleton</span> and <span class="tt">Universal Render Pipeline/Spine/Skeleton Lit</span>. Defaults to false to maintain existing behaviour.</li>
<li>Added <span class="tt">Animation Update</span> mode (called <span class="tt">UpdateTiming</span> in code) <span class="tt">In Late Update</span> for <span class="tt">SkeletonAnimation</span>, <span class="tt">SkeletonMecanim</span> and <span class="tt">SkeletonGraphic</span>. This allows you to update the <span class="tt">SkeletonMecanim</span> skeleton in the same frame that the Mecanim Animator updated its state, which happens between <span class="tt">Update</span> and <span class="tt">LateUpdate</span>.</li>
<li>URP Shaders: Added URP "Blend Mode" shader variants for both URP 3D and URP 2D renderers. They are listed under shader name "Universal Render Pipeline/Spine/Blend Modes/" and "Universal Render Pipeline/2D/Spine/Blend Modes/" respectively.</li>
<li>URP Shaders: Added support for <a href="http://en.esotericsoftware.com/spine-slots#Tint-black">Tint Black</a> functionality at "Blend Modes" <a class="el" href="namespace_spine.html">Spine</a> URP shaders (2D and 3D shaders).</li>
<li>PhysicsConstraints: Skeleton GameObjects now automatically apply Transform translation and rotation to the skeleton's <span class="tt">PhysicsConstraints</span>. You can disable applying translation or rotation at the Skeleton component Inspector under <span class="tt">Advanced - Physics Inheritance</span> by setting <span class="tt">Position</span> to (0,0)and <span class="tt">Rotation</span> to 0, or by setting the properties <span class="tt">physicsPositionInheritanceFactor</span> to <span class="tt">Vector2.zero</span> and <span class="tt">physicsRotationInheritanceFactor</span> to <span class="tt">0</span> at the skeleton component via code.</li>
<li>Added <span class="tt">Physics Constraints</span> example scene (located in <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Examples/Other Examples</span>) together with <span class="tt">celestial-circus</span> example skeleton assets. This scene demonstrates Transform movement automatically affecting physics constraints of a skeleton.</li>
<li>PhysicsConstraints: Skeleton components now allow you to use relative instead of world-space Transform movement by assigning a Transform (typically the parent) to the new <span class="tt">Movement relative to</span> property. Leave this property at <span class="tt">null</span> (the default) to use world-space Transform movement for physics.</li>
<li>PhysicsConstraints: Added <a class="el" href="namespace_spine.html">Spine</a> Preferences settings <span class="tt">Editor Instantiation</span> - <span class="tt">Physics Inheritance</span> - <span class="tt">Default Position</span> and <span class="tt">Default Rotation</span> to initialize skeletons physics settings with the desired Transform position and rotation inheritance factors when added to a scene via drag-and-drop.</li>
<li>SkeletonGraphic: Added Tint Black blend mode shaders <span class="tt">Spine/SkeletonGraphic Tint Black Additive</span>, <span class="tt">Spine/SkeletonGraphic Tint Black Multiply</span> and <span class="tt">Spine/SkeletonGraphic Tint Black Screen</span>.</li>
<li>SkeletonGraphic: Added pre-defined SkeletonGraphic material sets for main workflow parameters in folders <span class="tt">spine-unity/Materials</span> instead of requiring manual copies: <span class="tt">SkeletonGraphic-PMATexture</span> containing materials for premultiplied-alpha texture workflow (<span class="tt">Straight Alpha Texture</span> disabled) and <span class="tt">SkeletonGraphic-StaightAlphaTexture</span> containing materials for straight alpha texture workflow (<span class="tt">Straight Alpha Texture</span> enabled). These directories contain a set of materials with <span class="tt">CanvasGroup Compatible</span> disabled for usage with <span class="tt">Advanced - PMA Vertex Color</span> enabled at the component. Each directory also provides a subdirectory <span class="tt">CanvasGroupCompatible</span> with materials with <span class="tt">CanvasGroup Compatible</span> enabled for usage with <span class="tt">CanvasGroup</span> alpha (requiring <span class="tt">Advanced - PMA Vertex Color</span> disabled at the component).</li>
<li>SkeletonGraphic: Added auto-detect functionality for parameters <span class="tt">Advanced</span> - <span class="tt">Tint Black</span>, <span class="tt">CanvasGroup Compatible</span> and <span class="tt">PMA Vertex Color</span>. If unsure which settings are correct, hit the <span class="tt">Detect</span> button next to each parameter, in top to bottom order, or the <span class="tt">Detect Settings</span> to detect all three. Also added automatic material assignment via a <span class="tt">Detect Material</span> button in the <span class="tt">Advanced</span> section and a <span class="tt">Detect</span> button next to the <span class="tt">Material</span> property at the top of the component Inspector, as well as next to the <span class="tt">Blend Mode Materials</span> section when using multiple canvas renderers with blend modes. The suitable material is selected based on these three settings, combined with texture settings (PMA or straight alpha texture settings). If you receive incorrect results, likely your texture settings are incorrectly setup for your PMA or Straight alpha texture export settings.</li>
<li><span class="tt">SkeletonRenderTexture</span> example components now provide a <span class="tt">shaderPasses</span> parameter to customize which passes are rendered to the <span class="tt">RenderTexture</span>. It defaults to <span class="tt">-1</span> for all passes to keep the existing behaviour. You might want to set it to <span class="tt">0</span> to only render the first pass e.g. to avoid issues when using a URP shader at the original skeleton.</li>
<li><span class="tt">SkeletonGraphicRenderTexture</span> example component now also received a <span class="tt">quadMaterial</span> property, defaulting to the newly added Material asset <span class="tt">RenderQuadGraphicMaterial</span> which applies proper premultiplied-alpha blending of the render texture. The <span class="tt">quadMaterial</span> member variable was moved from <span class="tt">SkeletonRenderTexture</span> to the common base class <span class="tt">SkeletonRenderTextureBase</span>.</li>
<li>All <a class="el" href="namespace_spine.html">Spine</a> Outline shaders, including the URP outline shader, now provide an additional parameter <span class="tt">Width in Screen Space</span>. Enable it to keep the outline width constant in screen space instead of texture space. Requires more expensive computations, so enable only where necessary. Defaults to <span class="tt">disabled</span> to maintain existing behaviour.</li>
<li>Added support for BlendModeMaterials at runtime instantiation from files via an additional method <span class="tt">SkeletonDataAsset.SetupRuntimeBlendModeMaterials</span>. See example scene <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Examples/Other Examples/Instantiate from Script</span> for a usage example.</li>
<li>SkeletonGraphic: You can now offset the skeleton mesh relative to the pivot via a newly added green circle handle. This allows you to e.g. frame only the face of a skeleton inside a masked frame. Previously offsetting the pivot downwards fails when <span class="tt">Layout Scale Mode</span> scales the mesh smaller and towards the pivot (e.g. the feet) and thus out of the frame. Now you can keep the pivot in the center of the <span class="tt">RectTransform</span> while offsetting only the mesh downwards, keeping the desired skeleton area (e.g. the face) centered while resizing. Moving the new larger green circle handle moves the mesh offset, while moving the blue pivot circle handle moves the pivot as usual.</li>
<li><span class="tt">Universal Render Pipeline/Spine/Skeleton</span> shader now performs proper alpha-testing when <span class="tt">Depth Write</span> is enabled, using the existing <span class="tt">Shadow alpha cutoff</span> parameter.</li>
<li><span class="tt">SkeletonRootMotion</span> components now provide a public <span class="tt">Initialize()</span> method which is automatically called when calling <span class="tt">skeletonAnimation.Initialize(true)</span> to update the necessary skeleton references. If a different root bone shall be used, be sure to set <span class="tt">skeletonRootMotion.rootMotionBoneName</span> before calling <span class="tt">skeletonAnimation.Initialize(true)</span>.</li>
<li>Skeleton Mecanim: Added new <span class="tt">Mix Mode</span> <span class="tt">Match</span>. When selected, <a class="el" href="namespace_spine.html">Spine</a> animation weights are calculated to best match the provided Mecanim clip weights. This mix mode is recommended on any layer using blend tree nodes.</li>
<li>URP Shaders: Added <span class="tt">ZWrite</span> variant of outline shader <span class="tt">Universal Render Pipeline/Spine/Outline/Skeleton-OutlineOnly ZWrite</span>. Suitable for e.g. depth of field (DoF) effect where writing to the depth buffer is required. Note that for DoF effect, <span class="tt">Render Queue</span> needs to be set to <span class="tt">Alpha Test</span>.</li>
<li>SkeletonGraphic: Exposed <span class="tt">SetScaledPivotOffset</span> as public method outside of the editor to support programatically moving mesh offsets at runtime based on mesh bounds.</li>
<li>SkeletonMecanim: Added <span class="tt">Scene Preview</span> option to preview an Animation Clip for e.g. easier event placement. When enabled, the Animation Clip selected in the Animation window is previewed in the Scene and Game views. Lock the <span class="tt">SkeletonMecanim</span> Inspector window, open the Animation window and select the Animation Clip. Then in the Animation window scrub through the timeline to see the current animation frame previewed.</li>
<li><span class="tt">Universal Render Pipeline/Spine/Skeleton Lit</span> shader now supports <a href="https://docs.unity3d.com/6000.0/Documentation/Manual/urp/probevolumes-concept.html">Adaptive Probe Volumes (APV)</a> introduced in Unity 6. The shader also provides a new material property <span class="tt">APV per Pixel</span> to either calculate APV lighting contribution per pixel (the default) or per vertex.</li>
<li><span class="tt">Universal Render Pipeline/Spine/Sprite</span> shader now also supports <a href="https://docs.unity3d.com/6000.0/Documentation/Manual/urp/probevolumes-concept.html">Adaptive Probe Volumes (APV)</a> introduced in Unity 6. APV lighting contribution is automatically calculated per pixel.</li>
<li>All <a class="el" href="namespace_spine.html">Spine</a> Outline shaders, including the URP outline shaders, now provide an additional parameter <span class="tt">Fill</span>. Enable it to also fill the opaque area inside the outline with the outline color. Prevents a semi-transparent gap between outline and skeleton. Defaults to <span class="tt">disabled</span> to maintain existing behaviour.</li>
<li>Added example component <span class="tt">RenderExistingMeshGraphic</span> (similar to <span class="tt">RenderExistingMesh</span>) to render a <span class="tt">SkeletonGraphic</span> mesh again with different materials. This might be required by e.g. URP and SkeletonGraphic outline shaders skipping additional render passes. To add a second outline variant of your SkeletonGraphic:<ol type="1">
<li>Add a GameObject at the same hierarchy level as the reference SkeletonGraphic and move it before the reference SkeletonGraphic to render behind.</li>
<li>Add a <span class="tt">RenderExistingMeshGraphic</span> component.</li>
<li>In the <span class="tt">RenderExistingMeshGraphic</span> component Inspector at <span class="tt">Reference Skeleton Graphic</span> assign the original <span class="tt">SkeletonGraphic</span> object.</li>
<li>At <span class="tt">Replacement Material</span> assign e.g. the included <em>SkeletonGraphicDefaultOutline</em> material to replace all materials with this material. Alternatively, if <span class="tt">Multiple CanvasRenderers</span> is enabled at the reference SkeletonGraphic, you can add entries to the <span class="tt">Replacement Materials</span> list and at each entry assign the original SkeletonGraphic material (e.g. <em>SkeletonGraphicDefault</em>) to be replaced and the respective <span class="tt">Replacement Material</span> (e.g. <em>SkeletonGraphicDefaultOutline</em>).</li>
</ol>
</li>
<li>Added option for unsafe direct data loading when loading skeleton binary data to avoid some allocations, enabled via build define <span class="tt">SPINE_ALLOW_UNSAFE</span>. This define can be set via <a class="el" href="namespace_spine.html">Spine</a> Preferences, setting <span class="tt">Unsafe Build Defines - Direct data access</span>. The define is disabled by default to maintain existing behaviour. Changed asmdef setting for spine-unity assembly to allow unsafe code, has no effect other than allowing setting the <span class="tt">SPINE_ALLOW_UNSAFE</span> define.</li>
<li>Added option to <span class="tt">BoneFollower</span> components to follow attachment Z spacing offset. The Inspector component property can be found under <span class="tt">Follow Z Position</span> - <span class="tt">Attachment Z Spacing</span>. Defaults to <span class="tt">false</span> to maintain existing behaviour.</li>
</ul>
</li>
<li><b>Breaking changes</b><ul>
<li>Changed <span class="tt"><a class="el" href="class_spine_shader_with_outline_g_u_i.html">SpineShaderWithOutlineGUI</a></span> outline related methods from <span class="tt">private</span> to <span class="tt">protected virtual</span> to allow for custom shader GUI subclasses to switch to different outline shaders.</li>
<li>Changed <span class="tt">BoneFollower</span> and <span class="tt">BoneFollowerGraphic</span> methods <span class="tt">LateUpdate</span> and <span class="tt">Initialize</span> to <span class="tt">virtual</span> to allow easier overriding for e.g. positional offset in custom subclasses.</li>
<li><span class="tt">MeshGenerator</span> received a new optimization option to avoid rendering fully transparent attachments at slot alpha 0 by default. Comment out <span class="tt">#define SLOT_ALPHA_DISABLES_ATTACHMENT</span> in <span class="tt"><a class="el" href="_mesh_generator_8cs_source.html">MeshGenerator.cs</a></span> to revert to previous behaviour. You may only need this option disabled when utilizing a custom shader which uses vertex color alpha for purposes other than transparency.</li>
<li>PhysicsConstraints: bool properties <span class="tt">ApplyTranslationToPhysics</span> and <span class="tt">ApplyRotationToPhysics</span> were changed to <span class="tt">Vector2 PhysicsPositionInheritanceFactor</span> and <span class="tt">float PhysicsRotationInheritanceFactor</span> to allow the Transform movement the be scaled by a factor before being applied to the skeleton. You can set the properties to <span class="tt">Vector2.zero</span> and <span class="tt">0</span> respectively to disable applying any Transform movement at all. The <span class="tt">Advanced</span> Inspector section <span class="tt">Physics Constraints</span> was renamed to <span class="tt">Physics Inheritance</span>, the properties in the section are now called <span class="tt">Position</span> and <span class="tt">Rotation</span>.</li>
<li>SkeletonGraphic Materials: Since the addition of new material sets for the <span class="tt">CanvasGroupCompatible</span> parameters, the default SkeletonGraphic materials all have <span class="tt">CanvasGroup Compatible</span> disabled. Please assign the respective material from the <span class="tt">CanvasGroupCompatible</span> material subdirectory if you want <span class="tt">CanvasGroup Compatible</span> enabled at your SkeletonGraphic.</li>
<li>SkeletonGraphic: The parameter <span class="tt">SkeletonGraphic.MeshGenerator.settings.canvasGroupTintBlack</span> was changed to <span class="tt">canvasGroupCompatible</span> to help with auto-detecting correct Vertex <a class="el" href="namespace_data.html">Data</a> and Material settings. Set the parameter to true if the SkeletonGraphic component is located below a <span class="tt">CanvasGroup</span> component. The parameter value is automatically migrated from <span class="tt">canvasGroupTintBlack</span>.</li>
<li>Inspector: String attribute <span class="tt">SpineSkin()</span> now allows to include <span class="tt">&lt;None&gt;</span> in the list of parameters. Previously the <span class="tt">includeNone=true</span> parameter of the <span class="tt">SpineSkin()</span> attribute defaulted to <span class="tt">true</span> but was ignored. Now it defaults to <span class="tt">false</span> and has an effect on the list. Only the Inspector GUI is affected by this behaviour change.</li>
<li><span class="tt">SkeletonGraphicRenderTexture</span> example component: <span class="tt">protected RawImage quadRawImage</span> was changed to <span class="tt">protected SkeletonSubmeshGraphic quadMaskableGraphic</span> for a bugfix. This is only relevant for subclasses of <span class="tt">SkeletonGraphicRenderTexture</span> or when querying the <span class="tt">RawImage</span> component via e.g. <span class="tt">skeletonGraphicRenderTexture.quad.GetComponent&lt;RawImage&gt;()</span>.</li>
<li>Fixed a bug where when Linear color space is used and <span class="tt">PMA vertex colors</span> enabled, additive slots add a too dark (too transparent) color value. If you want the old incorrect behaviour (darker additive slots) or are not using Linear but Gamma color space, you can comment-out the define <span class="tt">LINEAR_COLOR_SPACE_FIX_ADDITIVE_ALPHA</span> in <span class="tt"><a class="el" href="_mesh_generator_8cs_source.html">MeshGenerator.cs</a></span> to deactivate the fix or just to skip unnecessary instructions.</li>
<li>Fixed SkeletonRootMotion components ignoring parent bone scale when set by transform constraints. Using applied scale of parent bone now. If you need the old behaviour, comment out the line <span class="tt">#define USE_APPLIED_PARENT_SCALE</span> in <a class="el" href="_skeleton_root_motion_base_8cs_source.html">SkeletonRootMotionBase.cs</a>.</li>
<li>Fixed SkeletonUtility callback update order when used with SkeletonRootMotion components so that the position when following a bone is updated after SkeletonRootMotion clears root-bone position. The order of SkeletonUtilityBone callbacks is changed to be later to achieve this. This is a breaking change in the unlikely case that you are using SkeletonRootMotion together with SkeletonUtility and subscribed to <span class="tt">UpdateLocal</span>, <span class="tt">UpdateWorld</span> or <span class="tt">UpdateComplete</span> yourself and relied on a certain callback order. One solution is to then resubscribe your own callback events accordingly by calling <span class="tt">.UpdateLocal -= Callback; .UpdateLocal += Callback;</span>.</li>
</ul>
</li>
<li><b>Changes of default values</b></li>
<li><b>Deprecated</b></li>
<li><b>Restructuring (Non-Breaking)</b></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
XNA/MonoGame</h2>
<ul>
<li><b>Additions</b><ul>
<li>Apply external movement to physics: If you are not directly modifying <span class="tt">Skeleton.X</span> or <span class="tt">Skeleton.Y</span>, you can apply external game object movement to skeleton physics as follows: Add a <span class="tt">Vector2 lastPosition;</span> member variable to your class interacting with the skeleton. Then call e.g. the following code each frame: <div class="fragment"><div class="line">Vector2 currentPosition = &lt;current world position&gt;;</div>
<div class="line">Vector2 externalPositionDelta = currentPosition - lastPosition;</div>
<div class="line">skeleton.PhysicsTranslate(externalPositionDelta.x, externalPositionDelta.y);</div>
<div class="line">lastPosition = currentPosition;</div>
</div><!-- fragment --></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
Java</h1>
<ul>
<li>Added physics support<ul>
<li>Added <span class="tt">PhysicsConstraintXXXTimeline</span> and <span class="tt">PhysicsConstraintResetTimeline</span></li>
<li>Added <span class="tt">Physics</span> to be passed to <span class="tt">Skeleton#updateWorldTransform()</span></li>
<li>Added <span class="tt">SkeletonData#findPhysicsConstraint()</span> and <span class="tt">SkeletonData#getPhysicsConstraints()</span> to query physics constraints</li>
<li>Added <span class="tt">Skeleton#findPhysicsConstraint()</span> and <span class="tt">Skeleton#getPhysicsConstraints()</span> to query physics constraints</li>
<li>Added <span class="tt">Skeleton#physicsTranslate()</span> to translate all physics constraints by some distances in the skeleton coordinate system</li>
<li>Added <span class="tt">Skeleton#physicsRotate()</span> to rotate all physics constraints by some distances in the skeleton coordinate system</li>
<li>Added <span class="tt">Skeleton#time</span> and respective setters/getters to keep track of time for physics simulations</li>
<li>See also breaking changes for <span class="tt">Skeleton#updateWorldTransform()</span> and the requirement to call <span class="tt">Skeleton#update()</span> to advance pyhsics each frame.</li>
</ul>
</li>
<li>Added <span class="tt">InheritTimeline</span></li>
<li>Added <a href="http://esotericsoftware.com/spine-api-reference#TrackEntry-alphaAttachmentThreshold"><span class="tt">TrackEntry#alphaAttachmentThreshold</span></a></li>
<li>Added <span class="tt">TrackEntry#setMixDuration()</span> to set the mix duration in conjunction with a delay</li>
<li>Added <span class="tt">TrackEntry#wasApplied()</span> to check if the entry has been applied</li>
<li>Added <span class="tt">Bone#worldToParent()</span> to transform coordinates from world space to the parent space of a bone</li>
<li>Added <span class="tt">Bone#localToParent()</span> to transform coordinates from a bone's local space to its parent space</li>
<li>Added non essential fields <span class="tt">icon</span> and <span class="tt">visible</span> to <span class="tt">BoneData</span></li>
<li>Added non essential fields <span class="tt">path</span> and <span class="tt">visible</span> to <span class="tt">SlotData</span></li>
<li>Added <span class="tt">setToSetupPose()</span> to all contraint classes</li>
<li><b>Breaking changes</b><ul>
<li>Renamed <span class="tt">TrackEntry#attachmentThreshold</span> to <span class="tt">TrackEntry#mixAttachmentThreshold</span> along with respective getters/settesr</li>
<li>Renamed <span class="tt">TrackEntry::drawOrderThreshold</span> to <span class="tt">TrackEntry#mixDrawOrdertThreshold</span> along with respective getters/settesr</li>
<li>Renamed <span class="tt">TransformMode</span> to <span class="tt">Inherit</span> and all <span class="tt">TransformMode_*</span> enums to <span class="tt">Inherit_*</span></li>
<li>You must call <span class="tt">Skeleton#update(delta)</span> before calling <span class="tt">Skeleton#updateWorldTransform()</span> if the frame time has advanced. This is needed to update physics accordingly</li>
<li><span class="tt">Skeleton#updateWorldTransform()</span> takes an additional <span class="tt">Physics</span> parameter. See the <span class="tt">Physics</span> documentation for information on what the different enum values do</li>
<li>All <span class="tt">Updatable</span> sub-classes like <span class="tt">Bone</span> and constraints now take an additional <span class="tt">Physics</span> parameter for their <span class="tt">update()</span> methods</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
libGDX</h2>
<ul>
<li>Added physics examples</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15"></a>
Typescript/Javascript</h1>
<ul>
<li>Added physics support<ul>
<li>Added <span class="tt">PhysicsConstraintXXXTimeline</span> and <span class="tt">PhysicsConstraintResetTimeline</span></li>
<li>Added <span class="tt">Physics</span> to be passed to <span class="tt">Skeleton#updateWorldTransform()</span></li>
<li>Added <span class="tt">SkeletonData#findPhysicsConstraint()</span> and <span class="tt">SkeletonData#getPhysicsConstraints()</span> to query physics constraints</li>
<li>Added <span class="tt">Skeleton#findPhysicsConstraint()</span> and <span class="tt">Skeleton#getPhysicsConstraints()</span> to query physics constraints</li>
<li>Added <span class="tt">Skeleton#physicsTranslate()</span> to translate all physics constraints by some distances in the skeleton coordinate system</li>
<li>Added <span class="tt">Skeleton#physicsRotate()</span> to rotate all physics constraints by some distances in the skeleton coordinate system</li>
<li>Added <span class="tt">Skeleton#time</span> and respective setters/getters to keep track of time for physics simulations</li>
<li>See also breaking changes for <span class="tt">Skeleton#updateWorldTransform()</span> and the requirement to call <span class="tt">Skeleton#update()</span> to advance pyhsics each frame.</li>
</ul>
</li>
<li>Added <span class="tt">InheritTimeline</span></li>
<li>Added <a href="http://esotericsoftware.com/spine-api-reference#TrackEntry-alphaAttachmentThreshold"><span class="tt">TrackEntry#alphaAttachmentThreshold</span></a></li>
<li>Added <span class="tt">TrackEntry#setMixDuration()</span> to set the mix duration in conjunction with a delay</li>
<li>Added <span class="tt">TrackEntry#wasApplied()</span> to check if the entry has been applied</li>
<li>Added <span class="tt">Bone#worldToParent()</span> to transform coordinates from world space to the parent space of a bone</li>
<li>Added <span class="tt">Bone#localToParent()</span> to transform coordinates from a bone's local space to its parent space</li>
<li>Added non essential fields <span class="tt">icon</span> and <span class="tt">visible</span> to <span class="tt">BoneData</span></li>
<li>Added non essential fields <span class="tt">path</span> and <span class="tt">visible</span> to <span class="tt">SlotData</span></li>
<li>Added <span class="tt">setToSetupPose()</span> to all contraint classes</li>
<li><b>Breaking changes</b><ul>
<li>Renamed <span class="tt">TrackEntry#attachmentThreshold</span> to <span class="tt">TrackEntry#mixAttachmentThreshold</span> along with respective getters/settesr</li>
<li>Renamed <span class="tt">TrackEntry::drawOrderThreshold</span> to <span class="tt">TrackEntry#mixDrawOrdertThreshold</span> along with respective getters/settesr</li>
<li>Renamed <span class="tt">TransformMode</span> to <span class="tt">Inherit</span> and all <span class="tt">TransformMode_*</span> enums to <span class="tt">Inherit_*</span></li>
<li>You must call <span class="tt">Skeleton#update(delta)</span> before calling <span class="tt">Skeleton#updateWorldTransform()</span> if the frame time has advanced. This is needed to update physics accordingly</li>
<li><span class="tt">Skeleton#updateWorldTransform()</span> takes an additional <span class="tt">Physics</span> parameter. See the <span class="tt">Physics</span> documentation for information on what the different enum values do</li>
<li>All <span class="tt">Updatable</span> sub-classes like <span class="tt">Bone</span> and constraints now take an additional <span class="tt">Physics</span> parameter for their <span class="tt">update()</span> methods</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md16"></a>
WebGL backend</h2>
<ul>
<li>Added physics examples</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md17"></a>
Canvas backend</h2>
<h2 class="doxsection"><a class="anchor" id="autotoc_md18"></a>
CanvasKit backend</h2>
<ul>
<li>Added spine-canvaskit runtime. See <a href="https://esotericsoftware.com/spine-canvaskit">https://esotericsoftware.com/spine-canvaskit</a></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md19"></a>
Three.js backend</h2>
<ul>
<li>Added physics support</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md20"></a>
Player</h2>
<ul>
<li>Added physics support</li>
<li>Added <span class="tt">scale</span> field to configuration which defines the scale to load the skeleton at</li>
<li>Added <span class="tt">updateWorldTransform</span> field to configuration which expects a function that updates the skeleton. Defaults to player.skeleton.updateWorldTransform(spine.Physics.update)</li>
<li>Added <span class="tt">skeleton</span> to <span class="tt">SpinePlayerConfig</span> to specify the URL of the skeleton .json or .skel file. Deprecated <span class="tt">jsonURL</span> and <span class="tt">binaryURL</span>. The old fields can still be used, but will be removed in <a class="el" href="namespace_spine.html">Spine</a> 4.3</li>
<li>Added <span class="tt">atlas</span> to <span class="tt">SpinePlayerConfig</span> to specify the URL of the .atlas file. Deprecated <span class="tt">atlasURL</span>. The old field can still be used, but will be removed in <a class="el" href="namespace_spine.html">Spine</a> 4.3.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md21"></a>
Pixi</h2>
<ul>
<li>Added spine-pixi runtime, also backported to <a class="el" href="namespace_spine.html">Spine</a> 4.1. See <a href="https://esotericsoftware.com/spine-pixi">https://esotericsoftware.com/spine-pixi</a></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md22"></a>
Phaser</h2>
<ul>
<li>Added spine-phaser runtime, also backported to <a class="el" href="namespace_spine.html">Spine</a> 4.1. See <a href="https://esotericsoftware.com/spine-phaser">https://esotericsoftware.com/spine-phaser</a></li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md23"></a>
Haxe</h1>
<ul>
<li>Added spine-haxe runtime, also backported to <a class="el" href="namespace_spine.html">Spine</a> 4.1. See <a href="https://esotericsoftware.com/spine-haxe">https://esotericsoftware.com/spine-haxe</a></li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md24"></a>
Flutter</h1>
<ul>
<li>Added spine-flutter runtime, also backported to <a class="el" href="namespace_spine.html">Spine</a> 4.1. See <a href="https://esotericsoftware.com/spine-flutter">https://esotericsoftware.com/spine-flutter</a></li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md25"></a>
4.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md26"></a>
C</h2>
<ul>
<li><b>Additions</b><ul>
<li>Support for sequences.</li>
<li>Support for <span class="tt">shortestRotation</span> in animation state. See <a href="https://github.com/esotericsoftware/spine-runtimes/issues/2027">https://github.com/esotericsoftware/spine-runtimes/issues/2027</a>.</li>
<li>Added CMake parameter <span class="tt">SPINE_SANITIZE</span> which will enable sanitizers on macOS and Linux.</li>
<li>Added <span class="tt">SPINE_MAJOR_VERSION</span>, <span class="tt">SPINE_MINOR_VERSION</span>, and <span class="tt">SPINE_VERSION_STRING</span>. Parsing skeleton .JSON and .skel files will report an error if the skeleton version does not match the runtime version.</li>
</ul>
</li>
<li><b>Breaking changes</b><ul>
<li><span class="tt">spRegionAttachment</span> and <span class="tt">spMeshAttachment</span> now contain a <span class="tt">spTextureRegion*</span> instead of encoding region fields directly.</li>
<li><span class="tt">sp_AttachmentLoader_newRegionAttachment()</span> and <span class="tt">spAttachmentLoader_newMeshAttachment()</span> now take an additional <span class="tt">Sequence*</span> parameter.</li>
<li><span class="tt">spMeshAttachment_updateUVs()</span> was renamed to <span class="tt">spMeshAttachment_updateRegion()</span>.</li>
<li><span class="tt">spRegionAttachment_updateOffset()</span> was renamed to <span class="tt">spRegionAttachment_updateRegion()</span>, <span class="tt">spRegionAttachment_setUVs()</span> was merged into <span class="tt">spRegionAttachment_updateRegion()</span>.</li>
<li><span class="tt">spSlot_getAttachmentTime()</span> and <span class="tt">spSlot_setAttachmentTime()</span> have been removed.</li>
<li><span class="tt">spVertexAttachment-&gt;deformAttachment</span> was renamed to <span class="tt">spVertexAttachment-&gt;timelineAttachment</span>.</li>
<li><span class="tt">spSkeleton_update()</span> has been removed.</li>
<li><span class="tt">spSkeleton-&gt;time</span> has been removed.</li>
<li><span class="tt">spVertexEffect</span> has been removed.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md27"></a>
SFML</h3>
<ul>
<li>Updated example to use SFML 2.5.1.</li>
<li>Added dragon example.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md28"></a>
C++</h2>
<ul>
<li><b>Additions</b><ul>
<li>Support for sequences.</li>
<li>Support for <span class="tt">shortestRotation</span> in animation state. See <a href="https://github.com/esotericsoftware/spine-runtimes/issues/2027">https://github.com/esotericsoftware/spine-runtimes/issues/2027</a>.</li>
<li>Added CMake parameter <span class="tt">SPINE_SANITIZE</span> which will enable sanitizers on macOS and Linux.<ul>
<li>Added <span class="tt">SPINE_MAJOR_VERSION</span>, <span class="tt">SPINE_MINOR_VERSION</span>, and <span class="tt">SPINE_VERSION_STRING</span>. Parsing skeleton .JSON and .skel files will report an error if the skeleton version does not match the runtime version.</li>
</ul>
</li>
<li>Added <span class="tt">SkeletonBounds::getBoundingBox()</span>, <span class="tt">SkeletonBounds::getPolygons()</span>, and <span class="tt">SkeletonBounds::getBoundingBoxes()</span>.</li>
</ul>
</li>
<li><b>Breaking changes</b><ul>
<li><span class="tt">RegionAttachment</span> and <span class="tt">MeshAttachment</span> no longer implement <span class="tt">HasRendererObject</span>.</li>
<li><span class="tt">RegionAttachment</span> and <span class="tt">MeshAttachment</span> now contain a <span class="tt">TextureRegion*</span> instead of encoding region fields directly.</li>
<li><span class="tt">AttachmentLoader::newRegionAttachment()</span> and <span class="tt">AttachmentLoader::newMeshAttachment()</span> now take an additional <span class="tt">Sequence*</span> parameter.</li>
<li><span class="tt">MeshAttachment::updateUVs()</span> was renamed to <span class="tt">MeshAttachment::updateRegion()</span>.</li>
<li><span class="tt">RegionAttachment::updateOffset()</span> was renamed to <span class="tt">RegionAttachment::updateRegion()</span>, <span class="tt">RegionAttachment::setUVs()</span> was merged into <span class="tt">updateRegion()</span>.</li>
<li><span class="tt">Slot::getAttachmentTime()</span> and <span class="tt">Slot::setAttachmentTime()</span> have been removed.</li>
<li><span class="tt">VertexAttachment::getDeformAttachment()</span> was renamed to <span class="tt">VertexAttachment::getTimelineAttachment()</span>.</li>
<li><span class="tt">Skeleton::update()</span> has been removed.</li>
<li><span class="tt">Skeleton::getTime()</span> has been removed.</li>
<li><span class="tt">VertexEffect</span> has been removed.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md29"></a>
Cocos2d-x</h3>
<ul>
<li>Renamed <span class="tt">SkeletonRenderer</span> to <span class="tt">SkeletonRendererCocos2dX</span> to avoid name clash with spine-cpp class.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md30"></a>
SFML</h3>
<ul>
<li>Updated example to use SFML 2.5.1.</li>
<li>Added dragon example.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md31"></a>
UE4</h3>
<ul>
<li>Updated example project to UE 4.27</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md32"></a>
C</h2>
<ul>
<li><b>Additions</b><ul>
<li>Full support for sequences.</li>
<li>Support for <span class="tt">shortestRotation</span> in animation state. See <a href="https://github.com/esotericsoftware/spine-runtimes/issues/2027">https://github.com/esotericsoftware/spine-runtimes/issues/2027</a>.</li>
<li><span class="tt">RegionAttachment</span> and <span class="tt">MeshAttachment</span> now provide a <span class="tt">Region</span> property. Use this property instead of the removed <span class="tt">RendererObject</span> property (see section <em>Breaking Changes</em> below).</li>
</ul>
</li>
<li><b>Breaking changes</b><ul>
<li>Removed <span class="tt">RendererObject</span> property from <span class="tt">RegionAttachment</span> and <span class="tt">MeshAttachment</span>. Use <span class="tt">attachment.Region</span> property instead. Removed removed <span class="tt">IHasRendererObject</span> interface. Use <span class="tt">IHasTextureRegion</span> instead.</li>
<li>Replaced <span class="tt">RegionAttachment.UpdateOffset</span> and <span class="tt">MeshAttachment.UpdateUVs</span> with <span class="tt">Attachment.UpdateRegion</span>. The caller must ensure that the attachment's region is not <span class="tt">null</span>.</li>
<li>Removed <span class="tt">AttachmentRegionExtensions</span> methods <span class="tt">Attachment.SetRegion</span>, <span class="tt">MeshAttachment.SetRegion</span> and <span class="tt">RegionAttachment.SetRegion(region, update)</span>. Use <span class="tt">attachment.Region = region; if (update) attachment.UpdateRegion()</span> instead.</li>
<li><span class="tt">AttachmentLoader.NewRegionAttachment()</span> and <span class="tt">AttachmentLoader.NewMeshAttachment()</span> take an additional <span class="tt">Sequence</span> parameter.</li>
<li><span class="tt">VertexAttachment.DeformAttachment</span> property has been replaced with <span class="tt">VertexAttachment.TimelineAttachment</span>.</li>
<li><span class="tt">RegionAttachment.ComputeWorldVertices()</span> takes a <span class="tt">Slot</span> instead of a <span class="tt">Bone</span> as the first argument.</li>
<li>Removed <span class="tt">Skeleton.Update(float deltaTime)</span> method.</li>
<li>Removed <span class="tt">Slot.AttachmentTime</span> property.</li>
<li>Removed extension method <span class="tt">AtlasRegion.GetSpineAtlasRect()</span> parameter <span class="tt">includeRotate</span> (with default value <span class="tt">true</span>). Most likely this method was never used with <span class="tt">includeRotate=false</span> in user code so no changes are required.</li>
<li><span class="tt">AtlasRegion.PackedWidth</span> and <span class="tt">AtlasRegion.PackedHeight</span> are swapped compared to 4.0 when packing rotation is equal to 90 degrees. Most likely this property was never accessed in user code so no changes are required.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md33"></a>
Unity</h3>
<ul>
<li><b>Officially supported Unity versions are 2017.1-2023.1</b>.</li>
<li><b>Additions</b><ul>
<li><span class="tt">SpineAtlasAsset.CreateRuntimeInstance</span> methods now provide an optional <span class="tt">newCustomTextureLoader</span> parameter (defaults to <span class="tt">null</span>) which can be set to e.g. <span class="tt">(a) =&gt; new YourCustomTextureLoader(a)</span> to use your own <span class="tt">TextureLoader</span> subclass instead of <span class="tt">MaterialsTextureLoader</span>.</li>
<li><span class="tt">SkeletonAnimation</span>, <span class="tt">SkeletonMecanim</span> and <span class="tt">SkeletonGraphic</span> now provide an Inspector parameter <span class="tt">Advanced</span> - <span class="tt">Animation Update</span> with modes <span class="tt">In Update</span> <b>(previous behaviour, the default)</b>, <span class="tt">In FixedUpdate</span> and <span class="tt">Manual Update</span>. This allows to update animation in <span class="tt">FixedUpdate</span> when using the <span class="tt">SkeletonRootMotion</span> component (which is the recommended combination now, issuing a warning otherwise). The reason is that when root motion leads to a collision with a physics collider, it can introduce jittery excess movement when updating animation in <span class="tt">Update</span> due to more <span class="tt">Update</span> calls following a single <span class="tt">FixedUpdate</span> call.</li>
<li>Added <span class="tt">SkeletonRootMotion</span> properties <span class="tt">PreviousRigidbodyRootMotion</span> and <span class="tt">AdditionalRigidbody2DMovement</span>. Setting or querying these movement vectors can be necessary when multiple scripts call <span class="tt">Rigidbody2D.MovePosition</span> on the same object where the last call overwrites the effect of preceding ones.</li>
<li><span class="tt">BoneFollower</span> and <span class="tt">BoneFollowerGraphic</span> now provide an additional <span class="tt">Follow Parent World Scale</span> parameter to allow following simple scale of parent bones (rotated/skewed scale can't be supported).</li>
<li>Improved <span class="tt">Advanced - Fix Prefab Override MeshFilter</span> property for <span class="tt">SkeletonRenderer</span> (and subclasses<span class="tt">SkeletonAnimation</span> and <span class="tt">SkeletonMecanim</span>), now providing an additional option to use a global value which can be set in <span class="tt">Edit - Preferences - <a class="el" href="namespace_spine.html">Spine</a></span>.</li>
<li>Timeline naming improvements: <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> AnimationState Clip</span> Inspector parameter <span class="tt">Custom Duration</span> changed and inverted to <span class="tt">Default Mix Duration</span> for more clarity. Shortened all Timeline add track menu entries from: <span class="tt">Spine.Unity.Playables - &lt;track type&gt;</span> to <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> - &lt;track type&gt;</span>, <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Animation State Track</span> to <span class="tt">SkeletonAnimation Track</span>, <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> AnimationState Graphic Track</span> to <span class="tt">SkeletonGraphic Track</span>, and <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Skeleton Flip Track</span> to <span class="tt">Skeleton Flip Track</span>.</li>
<li>Timeline track appearance and Inspector: Tracks now show icons and track colors to make them easier to distinguish. When a Track is selected, the Inspector now shows an editable track name which was previously only editable at the Timeline asset.</li>
<li>Added example component <span class="tt">SkeletonRenderTexture</span> to render a <span class="tt">SkeletonRenderer</span> to a <span class="tt">RenderTexture</span>, mainly for proper transparency. Added an example scene named <span class="tt">RenderTexture FadeOut Transparency</span> that demonstrates usage for a fadeout transparency effect.</li>
<li>Added another fadeout example component named <span class="tt">SkeletonRenderTextureFadeout</span> which takes over transparency fadeout when enabled. You can use this component as-is, attach it in disabled state and enable it to start a fadeout effect.</li>
<li>Timeline clips now offer an additional <span class="tt">Alpha</span> parameter for setting a custom constant mix alpha value other than 1.0, just as <span class="tt">TrackEntry.Alpha</span>. Defaults to 1.0.</li>
<li><span class="tt">GetRemappedClone</span> copying from <span class="tt">Sprite</span> now provides additional <span class="tt">pmaCloneTextureFormat</span> and <span class="tt">pmaCloneMipmaps</span> parameters to explicitly specify the texture format of a newly created PMA texture.</li>
<li><a class="el" href="namespace_spine.html">Spine</a> property Inspector fields (<span class="tt">Animation Name</span>, <span class="tt">Bone Name</span>, <span class="tt">Slot</span> and similar) now display the name in red when the respective animation/bone/etc no longer exists at the skeleton data. This may be helpful when such items have been renamed or deleted.</li>
<li>Added <span class="tt">UnscaledTime</span> property at <span class="tt">SkeletonAnimation</span> as well, behaving like <span class="tt">SkeletonGraphic.UnscaledTime</span>. If enabled, AnimationState uses unscaled game time (<span class="tt">Time.unscaledDeltaTime</span>), running animations independent of e.g. game pause (<span class="tt">Time.timeScale</span>).</li>
<li><span class="tt">SkeletonAnimation</span>, <span class="tt">SkeletonMecanim</span> and <span class="tt">SkeletonGraphic</span> now provide an additional <span class="tt">OnAnimationRebuild</span> callback delegate which is issued after both the skeleton and the animation state have been initialized.</li>
<li>Timeline <span class="tt">SkeletonAnimation Track</span> and <span class="tt">SkeletonGraphic Track</span> now provide an <span class="tt">Unscaled Time</span> property. Whenever starting a new animation clip of this track, <span class="tt">SkeletonAnimation.UnscaledTime</span> or <span class="tt">SkeletonGraphic.UnscaledTime</span> will be set to this value. This allows you to play back Timeline clips either in normal game time or unscaled game time. Note that <span class="tt">PlayableDirector.UpdateMethod</span> is ignored and replaced by this property, which allows more fine-granular control per Timeline track.</li>
<li>Added <span class="tt">SkeletonRootMotion</span> callback delegates <span class="tt">ProcessRootMotionOverride</span> and <span class="tt">PhysicsUpdateRootMotionOverride</span> to customize how root motion is applied. The new property <span class="tt">disableOnOverride</span> determines whether the callback will be issued in addition or instead of normally applying root motion. Added property <span class="tt">rootMotionScaleRotation</span> to allow scaling rotational root-motion to match e.g. a 90 degree rotation to a custom target angle.</li>
<li>Added outline shader parameter <span class="tt">Advanced - Opaque Alpha</span> which can be used to exclude problematic semi-transparent areas, which may receive an undesired large outline color overlay otherwise.</li>
<li>Added <a class="el" href="namespace_spine.html">Spine</a> Preferences setting <span class="tt">Prefabs</span> - <span class="tt">Optimize Preview Meshes</span>. When enabled, <a class="el" href="namespace_spine.html">Spine</a> prefab preview meshes will be removed in a pre-build step to reduce build size. This increases build time as all prefabs in the project will be processed. Defaults to false to not slow down builds substantially every time.</li>
<li>Added <a class="el" href="namespace_spine.html">Spine</a> Preferences setting <span class="tt">Reload SkeletonData after Play</span>. When enabled, the shared <span class="tt">SkeletonData</span> of all skeletons in the active scene is reloaded (from the <span class="tt">.json</span> or <span class="tt">.skel.bytes</span> file) after exiting play-mode. You can disable this setting to avoid the reloading delay if you can ensure that there are no (accidental) modifications to the shared <span class="tt">SkeletonData</span> during play-mode (otherwise it would carry over its effect into subsequent plays). Defaults to <span class="tt">true</span> (the safe setting), which maintains existing behaviour.</li>
<li>Added <span class="tt">SkeletonAnimationMulti</span> sample component methods <span class="tt">SetActiveSkeleton(int index)</span> and getter property <span class="tt">SkeletonAnimations</span> to more easily apply changes at all SkeletonAnimation instances instead of only the active one.</li>
<li>PMA textures now have <span class="tt">sRGB (Color Texture)</span> disabled by default, the preset template <span class="tt">PMATexturePreset.preset</span> has been adjusted accordingly. As PMA textures are only allowed with Gamma color space, <span class="tt">sRGB (Color Texture)</span> shall be disabled to prevent border artifacts when mipmaps are enabled. In Gamma color space having this setting disabled has no drawbacks, only benefits.</li>
<li><span class="tt">SkeletonRenderTexture</span> and <span class="tt">SkeletonGraphicRenderTexture</span> components now support automatic down-scaling when required size on screen exceeds <span class="tt">Max Render Texture Size</span>.</li>
<li>Added <span class="tt">Spine/SkeletonGraphic Fill</span> shader to provide functionality of <span class="tt">Spine/Skeleton Fill</span> shader for <span class="tt">SkeletonGraphic</span>.</li>
<li>Lit <a class="el" href="namespace_spine.html">Spine</a> URP shaders (<span class="tt">Universal Render Pipeline/Spine/Sprite</span> and <span class="tt">Universal Render Pipeline/Spine/Skeleton Lit</span>) now support <span class="tt">Forward+</span> rendering path as introduced by Unity 2022.2 and URP version 14.</li>
<li><span class="tt">SkeletonGraphic</span> now supports automatic scaling based on its <span class="tt">RectTransform</span> bounds. Automatic scaling can be enabled by setting the added <span class="tt">Layout Scale Mode</span> Inspector property to either <span class="tt">Width Controls Height</span>, <span class="tt">Height Controls Width</span>, <span class="tt">FitInParent</span> or <span class="tt">EnvelopeParent</span>. It is set to <span class="tt">None</span> by default to keep previous behaviour and avoid breaking existing projects. To modify the reference layout bounds, hit the additional <span class="tt">Edit Layout Bounds</span> toggle button to switch into edit mode, adjust the bounds or hit <span class="tt">Match RectTransform with Mesh</span>, and hit the button again when done adjusting. The skeleton will now be scaled accordingly to fit the reference layout bounds to the object's <span class="tt">RectTransform</span>.</li>
<li>Added previously missing unlit URP 2D shader variant, available under <span class="tt">Universal Render Pipeline/2D/Spine/Skeleton</span>.</li>
<li>Added support for light cookies at <span class="tt">Universal Render Pipeline/Spine/Sprite</span> shader.</li>
<li>Timeline extension package: An additional <a class="el" href="namespace_spine.html">Spine</a> preferences parameter <span class="tt">Timeline</span> - <span class="tt">Default Mix Duration</span> has been added, setting newly added <span class="tt">SpineAnimationStateClip</span> clips accordingly, defaults to false. This <a class="el" href="namespace_spine.html">Spine</a> preferences parameter can be enabled to default to the previous behaviour before this update.</li>
<li>Tint Black: Added support for <a href="http://en.esotericsoftware.com/spine-slots#Tint-black">Tint Black</a> functionality at all <a class="el" href="namespace_spine.html">Spine</a> URP shaders (2D and 3D shaders) and at all standard pipeline <span class="tt">Spine/Sprite</span> shaders. This feature can be enabled via the <span class="tt">Tint Black</span> material parameter in the Inspector. Note: The URP Sprite shaders provided in the <a class="el" href="namespace_spine.html">Spine</a> URP Shaders extension UPM package require the latest version of the spine-unity runtime (package version 4.1.12, 2023-05-31 or newer) to display the added material parameters in the Inspector GUI.</li>
<li>Added <span class="tt">SkeletonGraphic.MeshScale</span> property to allow access to calculated mesh scale. <span class="tt">MeshScale</span> is based on (1) Canvas pixels per unit, and (2) <span class="tt">RectTransform</span> bounds when using <span class="tt">Layout Scale Mode</span> other than <span class="tt">None</span> at <span class="tt">SkeletonGraphic</span> which scales the skeleton mesh to fit the parent <span class="tt">RectTransform</span> bounds accordingly.</li>
<li>Added <span class="tt">updateSeparatorPartScale</span> property to <span class="tt">SkeletonGraphic</span> to let render separator parts follow the scale (lossy scale) of the <span class="tt">SkeletonGraphic</span> GameObject. Defaults to <span class="tt">false</span> to maintain existing behaviour.</li>
<li>Added experimental <span class="tt">EditorSkeletonPlayer</span> component to allow Editor playback of the initial animation set at <span class="tt">SkeletonAnimation</span> or <span class="tt">SkeletonGraphic</span> components. Add this component to your skeleton GameObject to enable the in-editor animation preview. Allows configurations for continuous playback when selected, deselected, and alternative single-frame preview by setting <span class="tt">Fixed Track Time</span> to any value other than 0. Limitations: At skeletons with variable material count the Inspector preview may be too unresponsive. It is then recommended to disable the <span class="tt">EditorSkeletonPlayer</span> component (at the top of the Inspector) to make it responsive again, then you can disable <span class="tt">Play When Selected</span> and re-enable the component to preview playback only when deselected.</li>
<li>Added example component <span class="tt">RenderCombinedMesh</span> to render a combined mesh of multiple meshes or submeshes. This is required by <span class="tt">OutlineOnly</span> shaders to render a combined outline when using <span class="tt">SkeletonRenderSeparator</span> or multiple atlas pages which would normally lead to outlines around individual parts. To add a combined outline to your SkeletenRenderer:<ol type="1">
<li>Add a child GameObject and move it a bit back (e.g. position Z = 0.01).</li>
<li>Add a <span class="tt">RenderCombinedMesh</span> component, provided in the <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Examples/Scripts/Sample Components</span> directory.</li>
<li>Copy the original material, add __Outline_ to its name and set the shader to your outline-only shader like <span class="tt">Universal Render Pipeline/Spine/Outline/Skeleton-OutlineOnly</span> or <span class="tt">Spine/Outline/OutlineOnly-ZWrite</span>.</li>
<li>Assign this __Outline_ material at the new child GameObject's <span class="tt">MeshRenderer</span> component. If you are using <span class="tt">SkeletonRenderSeparator</span> and need to enable and disable the <span class="tt">SkeletonRenderSeparator</span> component at runtime, you can increase the <span class="tt">RenderCombinedMesh</span> <span class="tt">Reference Renderers</span> array by one and assign the <span class="tt">SkeletonRenderer</span> itself at the last entry after the parts renderers. Disabled <span class="tt">MeshRenderer</span> components will be skipped when combining the final mesh, so the combined mesh is automatically filled from the desired active renderers.</li>
</ol>
</li>
<li>Timeline extension package: Added static <span class="tt">EditorEvent</span> callback to allow editor scripts to react to animation events outside of play-mode. Register to the events via <span class="tt">Spine.Unity.Playables.SpineAnimationStateMixerBehaviour.EditorEvent += YourCallback;</span>.</li>
<li>URP Shaders: Added <span class="tt">Depth Write</span> property to shaders <span class="tt">Universal Render Pipeline/Spine/Skeleton</span> and <span class="tt">Universal Render Pipeline/Spine/Skeleton Lit</span>. Defaults to false to maintain existing behaviour.</li>
<li>Added <span class="tt">Animation Update</span> mode (called <span class="tt">UpdateTiming</span> in code) <span class="tt">In Late Update</span> for <span class="tt">SkeletonAnimation</span>, <span class="tt">SkeletonMecanim</span> and <span class="tt">SkeletonGraphic</span>. This allows you to update the <span class="tt">SkeletonMecanim</span> skeleton in the same frame that the Mecanim Animator updated its state, which happens between <span class="tt">Update</span> and <span class="tt">LateUpdate</span>.</li>
<li>URP Shaders: Added URP "Blend Mode" shader variants for both URP 3D and URP 2D renderers. They are listed under shader name "Universal Render Pipeline/Spine/Blend Modes/" and "Universal Render Pipeline/2D/Spine/Blend Modes/" respectively.</li>
<li>URP Shaders: Added support for <a href="http://en.esotericsoftware.com/spine-slots#Tint-black">Tint Black</a> functionality at "Blend Modes" <a class="el" href="namespace_spine.html">Spine</a> URP shaders (2D and 3D shaders).</li>
</ul>
</li>
<li><b>Breaking changes</b><ul>
<li>Made <span class="tt">SkeletonGraphic.unscaledTime</span> parameter protected, use the new property <span class="tt">UnscaledTime</span> instead.</li>
<li><span class="tt">SkeletonGraphic</span> <span class="tt">OnRebuild</span> callback delegate is now issued after the skeleton has been initialized, before the <span class="tt">AnimationState</span> component is initialized. This makes behaviour consistent with <span class="tt">SkeletonAnimation</span> and <span class="tt">SkeletonMecanim</span> component behaviour. Use the new callback <span class="tt">OnAnimationRebuild</span> if you want to receive a callback after the <span class="tt">SkeletonGraphic</span> <span class="tt">AnimationState</span> has been initialized.</li>
<li>Changed name of prefab skeleton meshes stored at prefabs from <span class="tt">Skeleton Prefab Mesh "name"</span> to <span class="tt">Skeleton Prefab Mesh [name]</span> to avoid issues with quotes in mesh asset names (see <a href="https://github.com/EsotericSoftware/spine-runtimes/issues/2572">this issue</a>). Likely this change poses no problems at all, however if you are parsing the prefab's mesh name for whatever reason, be sure to adjust the pattern accordingly.</li>
</ul>
</li>
<li><b>Changes of default values</b></li>
<li><b>Deprecated</b><ul>
<li>Shader macro <span class="tt">RETURN_UNLIT_IF_ADDITIVE_SLOT</span> in <span class="tt">spine-unity/Shaders/Sprite/CGIncludes/ShaderShared.cginc</span> has been deprecated and will be removed in spine-unity 4.2. Use RETURN_UNLIT_IF_ADDITIVE_SLOT_TINT instead.</li>
</ul>
</li>
<li><b>Restructuring (Non-Breaking)</b><ul>
<li>Moved <a class="el" href="namespace_spine.html">Spine</a> URP Shaders Examples directory from the main package directory to Samples which can be installed via the Unity Package Manager. To import, select the <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Universal RP Shaders</span> package in the Package Manager window, expand <span class="tt">Samples</span> at the bottom and hit <span class="tt">Import</span> next to <span class="tt">Examples</span>. This follows the standard <a href="https://docs.unity3d.com/Manual/cus-samples.html">samples guideline</a> and prevents warning messages about unexpectedly altered immutable assets.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md34"></a>
XNA/MonoGame</h3>
<ul>
<li><b>Breaking change</b>: Removed spine-xna in favor of spine-monogame. See <a href="https://github.com/EsotericSoftware/spine-runtimes/issues/1949">https://github.com/EsotericSoftware/spine-runtimes/issues/1949</a></li>
<li>Added new spine-monogame solution. See spine-monogame/README.md for updated instructions on how to use spine-monogame.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md35"></a>
Java</h2>
<ul>
<li><b>Additions</b><ul>
<li>Support for <span class="tt">shortestRotation</span> in animation state. See <a href="https://github.com/esotericsoftware/spine-runtimes/issues/2027">https://github.com/esotericsoftware/spine-runtimes/issues/2027</a>.</li>
<li>Support for sequences.</li>
</ul>
</li>
<li><b>Breaking changes</b><ul>
<li><span class="tt">AttachmentLoader#newRegionAttachment()</span> and <span class="tt">AttachmentLoader#newMeshAttachment()</span> take an additional <span class="tt">Sequence</span> parameter.</li>
<li><span class="tt">Slot#setAttachmentTime()</span> and <span class="tt">Slot#getAttachmentTime()</span> have been removed.</li>
<li><span class="tt">VertexAttachment#setDeformAttachment()</span> and <span class="tt">VertexAttachment#getDeformAttachment()</span> have been replaced with <span class="tt">VertexAttachment#setTimelineAttachment()</span> and <span class="tt">VertexAttachment#getTimelineAttachment()</span>.</li>
<li><span class="tt">RegionAttachment#updateOffset()</span> has been renamed to <span class="tt">RegionAttachment#updateRegion()</span>. The caller must ensure that the attachment's region is not <span class="tt">null</span>.</li>
<li><span class="tt">RegionAttachment#computeWorldVertices()</span> takes a <span class="tt">Slot</span> instead of a <span class="tt">Bone</span> as the first argument.</li>
<li><span class="tt">VertexEffect</span> has been removed.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md36"></a>
libGDX</h3>
<ul>
<li><span class="tt">spine-libgdx</span>, <span class="tt">spine-libgdx-tests</span>, and <span class="tt">spine-skeletonviewer</span> are now fully Gradle-ified.</li>
<li><span class="tt">spine-skeletonviewer</span> now supports quickly loading skeletons by dragging and dropping <span class="tt">.json</span> or <span class="tt">.skel</span> skeleton files onto the window.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md37"></a>
Typescript/Javascript</h2>
<ul>
<li><b>Additions</b><ul>
<li>full support for sequences.</li>
<li>Added <span class="tt">Promise</span> based <span class="tt">AssetManager.loadAll()</span>. Allows synchronous waiting via <span class="tt">await assetManager.loadAll()</span>, simplifying loader logic in applications.</li>
<li>Support for <span class="tt">shortestRotation</span> in animation state. See <a href="https://github.com/esotericsoftware/spine-runtimes/issues/2027">https://github.com/esotericsoftware/spine-runtimes/issues/2027</a>.</li>
<li>Full support for sequences.</li>
</ul>
</li>
<li><b>Breaking changes</b><ul>
<li><span class="tt">AttachmentLoader#newRegionAttachment()</span> and <span class="tt">AttachmentLoader#newMeshAttachment()</span> take an additional <span class="tt">Sequence</span> parameter.</li>
<li><span class="tt">Slot#attachmentTime</span> and has been removed.</li>
<li><span class="tt">VertexAttachment#deformAttachment</span> has been replaced with <span class="tt">VertexAttachment#timelineAttachment</span>.</li>
<li><span class="tt">RegionAttachment#updateOffset()</span> has been renamed to <span class="tt">RegionAttachment#updateRegion()</span>. The caller must ensure that the attachment's region is not <span class="tt">null</span>.</li>
<li><span class="tt">RegionAttachment#computeWorldVertices()</span> takes a <span class="tt">Slot</span> instead of a <span class="tt">Bone</span> as the first argument.</li>
<li>Removed <span class="tt">PlayerEditor</span>.</li>
<li><span class="tt">VertexEffect</span> has been removed.</li>
<li>Removed <span class="tt">RegionAttachment.rendererObject</span>.</li>
<li>Renamed <span class="tt">TextureRegion.renderObject</span> to <span class="tt">TextureRegion.texture</span>.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md38"></a>
WebGL backend</h3>
<ul>
<li><span class="tt">PolygonBatcher</span> can now disable culling automatically if the static variable <span class="tt">PolygonBatcher.disableCulling</span> is set to true.</li>
<li>Added <span class="tt">SpineCanvas</span>, a simpler way to render a scene via spine-webgl. See <span class="tt">spine-ts/spine-webgl/examples/barebones.html</span> and <span class="tt">spine-ts/spine-webgl/examples/mix-and-match.html</span>.</li>
<li>Added <span class="tt">SpineCanavs.dispose()</span> to halt the updating and rendering of the canvas.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md39"></a>
Canvas backend</h3>
<ul>
<li>Improved example.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md40"></a>
Three.js backend</h3>
<ul>
<li>Added orbital controls to THREJS example.</li>
<li><span class="tt">SkeletonMesh</span> takes an optional <span class="tt">SkeletonMeshMaterialCustomizer</span>, allowing modification of materials used by <span class="tt">SkeletonMesh</span>.</li>
<li>Added <span class="tt">SkeletonMeshMaterial.alphaTest</span>, when &gt; 0, alpha testing will be performed and fragments will not be written to the depth buffer, if depth writes are enabled.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md41"></a>
Player</h3>
<ul>
<li>Added <span class="tt">SpinePlayer.dispose()</span> to explicitely dispose of all resources the player holds on to.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md42"></a>
4.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md43"></a>
AS3</h2>
<p><b>NOTE: <a class="el" href="namespace_spine.html">Spine</a> 4.0 will be the last release supporting spine-as3. Starting from <a class="el" href="namespace_spine.html">Spine</a> 4.1, spine-as3 will no longer be supported or maintained.</b></p>
<ul>
<li>Switched projects from FDT to Visual Studio Code. See updated <span class="tt">README.md</span> files for instructions.</li>
<li>Expose non-essential colors on bones, bounding box, clipping, and path attachments.</li>
<li>Timeline API has been extended to support component-wise timelines exported by <a class="el" href="namespace_spine.html">Spine</a> 4.0.</li>
<li>Added <span class="tt">AnimationState.clearNext()</span> which removes the given <span class="tt">TrackEntry</span> and all entries after it.</li>
<li>Added support for texture atlas key value pairs, see <span class="tt">AtlasRegion.names</span> and <span class="tt">AtlasRegion.values</span>.</li>
<li>Added support for reverse animation playback via <span class="tt">TrackEntry.reverse</span>.</li>
<li>Added proportional spacing mode support for path constraints.</li>
<li>Added support for uniform scaling for two bone IK.</li>
<li>Fixed applying a constraint reverting changes from other constraints.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md44"></a>
Starling</h3>
<p><b>NOTE: <a class="el" href="namespace_spine.html">Spine</a> 4.0 will be the last release supporting spine-starling. Starting from <a class="el" href="namespace_spine.html">Spine</a> 4.1, spine-starling will no longer be supported or maintained.</b></p>
<ul>
<li>Switched projects from FDT to Visual Studio Code. See updated <span class="tt">README.md</span> files for instructions.</li>
<li>Updated to Starling 2.6 and Air SDK 33.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md45"></a>
C</h2>
<ul>
<li><b>Breaking change:</b> Removed <span class="tt">SPINE_SHORT_NAMES</span> define and C++ constructors.</li>
<li>Timeline API has been extended to support component-wise timelines exported by <a class="el" href="namespace_spine.html">Spine</a> 4.0.</li>
<li>Added <span class="tt">spAnimationState_clearNext()</span> which removes the given <span class="tt">spTrackEntry</span> and all entries after it.</li>
<li>Added support for texture atlas key value pairs, see <span class="tt">spAtlasRegion.keyValues</span>.</li>
<li>Added support for reverse animation playback via <span class="tt">spTrackEntry.reverse</span>.</li>
<li>Added proportional spacing mode support for path constraints.</li>
<li>Added support for uniform scaling for two bone IK.</li>
<li>Fixed applying a constraint reverting changes from other constraints.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md46"></a>
Cocos2d-Objc</h3>
<p><b>NOTE: <a class="el" href="namespace_spine.html">Spine</a> 4.0 will be the last release supporting spine-cocos2d-objc. Starting from <a class="el" href="namespace_spine.html">Spine</a> 4.1, spine-cocos2d-objc will no longer be supported or maintained.</b></p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md47"></a>
SFML</h3>
<ul>
<li>Added <span class="tt">ikDemo()</span> in <span class="tt">main.cpp</span>. to illustrate how to drive a bone and IK chain through mouse movement.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md48"></a>
C++</h2>
<ul>
<li>Removed dependency on STL throughout the code base, cutting down on the LOC that need parsing by 66%.</li>
<li>Exposed <span class="tt">x</span> and <span class="tt">y</span> on <span class="tt">SkeletonData</span> through getters and setters.</li>
<li>Expose non-essential colors on bones, bounding box, clipping, and path attachments.</li>
<li>Timeline API has been extended to support component-wise timelines exported by <a class="el" href="namespace_spine.html">Spine</a> 4.0.</li>
<li>Added <span class="tt">AnimationState.clearNext()</span> which removes the given <span class="tt">TrackEntry</span> and all entries after it.</li>
<li>Added support for texture atlas key value pairs, see <span class="tt">AtlasRegion.names</span> and <span class="tt">AtlasRegion.values</span>.</li>
<li>Added support for reverse animation playback via <span class="tt">TrackEntry.reverse</span>.</li>
<li>Added proportional spacing mode support for path constraints.</li>
<li>Added support for uniform scaling for two bone IK.</li>
<li>Fixed applying a constraint reverting changes from other constraints.</li>
<li>spine-cpp now requires C++11.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md49"></a>
Cocos2d-x</h3>
<ul>
<li>Added <span class="tt">IKExample</span> scene to illustrate how to drive a bone and IK chain through mouse movement.</li>
<li>Added <span class="tt">SkeletonAnimation::setPreUpdateWorldTransformsListener()</span> and <span class="tt">SkeletonAnimation::setPostUpdateWorldTransformsListener()</span>. This allows users to modify bone transforms and other skeleton properties before and after the world transforms of all bones are calculated. See the <span class="tt">IKExample</span> for a usage example.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md50"></a>
SFML</h3>
<ul>
<li>Added <span class="tt">ikDemo()</span> in <span class="tt">main.cpp</span>. to illustrate how to drive a bone and IK chain through mouse movement.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md51"></a>
UE4</h3>
<ul>
<li><span class="tt">SpineWidget</span> now supports the full widget transform, including rendering scale/shear.</li>
<li>Materials on <span class="tt">SkeletonRendererComponent</span> are now blueprint read and writeable. This allows setting dynamic material instances at runtime.</li>
<li>Added <span class="tt">InitialSkin</span> property to <span class="tt">USpineWidget</span>. This allows previewing different skins in the UMG Designer. Initial skins can still be overridden via blueprint events such as <span class="tt">On Initialized</span>.</li>
<li><b>Breaking change:</b> <span class="tt">SpineWidget</span> no longer has the <span class="tt">Scale</span> property. Instead the size x/y properties can be used.</li>
<li>Added <span class="tt">SetSlotColor</span> on <span class="tt">USpineSkeletonComponent</span> to easily set the color of a slot via blueprints.</li>
<li>Changed mixes set on an <span class="tt">SkeletonDataAsset</span> will now be applied to instances of <span class="tt">USpineSkeletonComponent</span>.</li>
<li>Generated normals are now correctly flipped for back faces.</li>
<li>Modifying parent materials updates material instances accordingly.</li>
<li>Only <span class="tt">.json</span> files that are actually encoding <a class="el" href="namespace_spine.html">Spine</a> skeletons will be loaded. Other <span class="tt">.json</span> files will be left to other importers.</li>
<li>Updated example project to UE 4.27.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md52"></a>
C</h2>
<ul>
<li>Timeline API has been extended to support component-wise timelines exported by <a class="el" href="namespace_spine.html">Spine</a> 4.0.</li>
<li>Added <span class="tt">AnimationState.clearNext()</span> which removes the given <span class="tt">TrackEntry</span> and all entries after it.</li>
<li>Added support for texture atlas key value pairs, see <span class="tt">AtlasRegion.names</span> and <span class="tt">AtlasRegion.values</span>.</li>
<li>Added support for reverse animation playback via <span class="tt">TrackEntry.Reverse</span>.</li>
<li>Added proportional spacing mode support for path constraints.</li>
<li>Added support for uniform scaling for two bone IK.</li>
<li>Fixed applying a constraint reverting changes from other constraints.</li>
<li><b>Breaking change:</b> Removed <span class="tt">SkeletonData</span> and <span class="tt">Skeleton</span> methods: <span class="tt">FindBoneIndex</span>, <span class="tt">FindSlotIndex</span>. Bones and slots have an <span class="tt">Index</span> field that should be used instead. Be sure to check for e.g. <span class="tt">bone == null</span> accordingly before accessing <span class="tt">bone.Index</span>.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md53"></a>
Unity</h3>
<ul>
<li><b>Officially supported Unity versions are 2017.1-2022.1</b>.</li>
<li><b>Breaking changes</b><ul>
<li>Removed all <span class="tt">Spine.Unity.AttachmentTools.SkinUtilities</span> Skin extension methods. These have become obsoleted and error-prone since the introduction of the new Skin API in 3.8. To fix any compile errors, replace any usage of <span class="tt">Skin</span> extension methods with their counterparts, e.g. replace occurrances of <span class="tt">skin.AddAttachments()</span> with <span class="tt">skin.AddSkin()</span>. Please see the example scene <span class="tt">Mix and Match Skins</span> on how to use the new Skin API to combine skins, or the updated old example scenes <span class="tt">Mix and Match</span> and <span class="tt">Mix and Match Equip</span> on how you can update an existing project using the old workflow. If you are using <span class="tt">skeletonAnimation.Skeleton.UnshareSkin()</span> in your code, you can replace it with <span class="tt">Skin customSkin = new Skin("custom skin"); customSkin.AddSkin(skeletonAnimation.Skeleton.Skin);</span>.</li>
<li><span class="tt">Skin.GetAttachments()</span> has been replaced by <span class="tt">Skin.Attachments</span>, returning an <span class="tt">ICollection&lt;SkinEntry&gt;</span>. This makes access more consistent and intuitive. To fix any compile errors, replace any occurrances of <span class="tt">Skin.GetAttachments()</span> by <span class="tt">Skin.Attachments</span>.</li>
<li>Removed redundant <span class="tt"><a class="el" href="class_spine_1_1_unity_1_1_attachment_tools_1_1_attachment_clone_extensions.html">Spine.Unity.AttachmentTools.AttachmentCloneExtensions</a></span> extension methods <span class="tt">Attachment.GetCopy()</span> and <span class="tt">Attachment.GetLinkedMesh()</span>. To fix any compile errors, replace any occurrances with <span class="tt">Attachment.Copy()</span> and <span class="tt">Attachment.NewLinkedMesh()</span>.</li>
<li>Removed <span class="tt"><a class="el" href="class_spine_1_1_unity_1_1_attachment_tools_1_1_attachment_region_extensions.html">Spine.Unity.AttachmentTools.AttachmentRegionExtensions</a></span> extension methods <span class="tt">Attachment.GetRegion()</span>. Use <span class="tt">Attachment.RendererObject as AtlasRegion</span> instead.</li>
<li><p class="startli">Removed redundant <span class="tt">Spine.SkeletonExtensions</span> extension methods: Replace:</p><ul>
<li><span class="tt">Skeleton.SetPropertyToSetupPose()</span></li>
<li><span class="tt">Skeleton.SetDrawOrderToSetupPose()</span></li>
<li><span class="tt">Skeleton.SetSlotAttachmentsToSetupPose()</span></li>
<li><span class="tt">Skeleton.SetSlotAttachmentToSetupPose()</span></li>
</ul>
<p class="startli">with <span class="tt">Skeleton.SetSlotsToSetupPose()</span>. Replace:</p><ul>
<li><span class="tt">Slot.SetColorToSetupPose()</span></li>
<li><span class="tt">Slot.SetAttachmentToSetupPose()</span></li>
</ul>
<p class="startli">with <span class="tt">Slot.SetToSetupPose()</span>.</p>
<p class="startli">Also removed less commonly used extension methods: <span class="tt">TrackEntry.AllowImmediateQueue()</span>, <span class="tt">Animation.SetKeyedItemsToSetupPose()</span> and <span class="tt">Attachment.IsRenderable()</span>.</p>
</li>
<li><b><span class="tt">SkeletonGraphic</span> now no longer uses a <span class="tt">RawImage</span> component at each submesh renderer</b> GameObject when <span class="tt">allowMultipleCanvasRenderers</span> is true. Instead, a new custom component <span class="tt">SkeletonSubmeshGraphic</span> is used which is more resource friendly. Replacement of these components will be performed automatically through editor scripting, saving scenes or prefabs will persist the upgrade.</li>
<li><b>Linear color space:</b> Previously Slot colors were not displayed the same in Unity as in the <a class="el" href="namespace_spine.html">Spine</a> Editor. This is now fixed at all shaders, including URP and LWRP shaders. See section <em>Additions</em> below for more details. If you have tweaked Slot colors to look correct in <span class="tt">Linear</span> color space in Unity but incorrect in <a class="el" href="namespace_spine.html">Spine</a>, you might want to adjust the tweaked colors. Slot colors displayed in Unity should now match colors displayed in the <a class="el" href="namespace_spine.html">Spine</a> Editor when configured to display as <span class="tt">Linear</span> color space in the <a class="el" href="namespace_spine.html">Spine</a> Editor Settings.</li>
<li><b>Additive Slots have always been lit</b> before they were written to the target buffer. Now all lit shaders provide an additional parameter <span class="tt">Light Affects Additive</span> which defaults to <span class="tt">false</span>, as it is the more intuitive default value. You can enable the old behaviour by setting this parameter to <span class="tt">true</span>.</li>
<li><b>Corrected blending behaviour of all <span class="tt">Sprite</span> shaders</b> in <span class="tt">Premultiply Alpha</span> blend mode (including URP and LWRP packages). Previously vertex color alpha was premultiplied again, even though <span class="tt">Premultiply Alpha</span> blend mode assumes PMA texture and PMA vertex color input. Slot-alpha blending will thus be correctly lighter after upgrading to 4.0. If you have compensated this problem by disabling <span class="tt">Advanced - PMA Vertex Colors</span> you can now re-enable this parameter, also allowing for rendering Additive slots in a single pass.</li>
<li><b>Corrected all <span class="tt">Outline</span> shaders outline thickness</b> when <span class="tt">Advanced - Sample 8 Neighbourhood</span> is disabled (thus using <span class="tt">4 Neighbourhood</span>). Previously weighting was incorrectly thick (4x as thick) compared to 8 neighbourhood, now it is more consistent. This might require adjustment of all your outline materials where <span class="tt">Sample 8 Neighbourhood</span> is disabled to restore the previous outline thickness, by adjusting the <span class="tt">Outline Threshold</span> parameter through adding a <span class="tt">/4</span> to make the threshold 4 times smaller.</li>
<li>Reverted changes: <span class="tt">BoneFollower</span> property <span class="tt">followLocalScale</span> has intermediately been renamed to <span class="tt">followScale</span> but was renamed back to <span class="tt">followLocalScale</span>. Serialized values (scenes and prefabs) will automatically be upgraded, only code accessing <span class="tt">followScale</span> needs to be adapted.</li>
<li>Fixed Timeline not pausing (and resuming) clip playback on Director pause, this is now the default behaviour. If you require the old behaviour (e.g. to continue playing an idle animation during Director pause), there is now an additional parameter <span class="tt">Don't Pause with Director</span> provided that can be enabled for each Timeline clip.</li>
<li>Fixed Timeline <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> AnimationState Clips</span> ignoring empty space on the Timeline after a clip's end. Timeline clips now also offer <span class="tt">Don't End with Clip</span> and <span class="tt">Clip End Mix Out Duration</span> parameters if you prefer the old behaviour of previous versions. By default when empty space follows the clip on the timeline, the empty animation is set on the track with a MixDuration of <span class="tt">Clip End Mix Out Duration</span>. Set <span class="tt">Don't End with Clip</span> to <span class="tt">true</span> to continue playing the clip's animation instead and mimic the old 3.8 behaviour. If you prefer pausing the animation instead of mixing out to the empty animation, set <span class="tt">Clip End Mix Out Duration</span> to a value less than 0, then the animation is paused instead.</li>
</ul>
</li>
<li><b>Additions and Improvements</b><ul>
<li>Additional <b>Fix Draw Order</b> parameter at SkeletonRenderer, defaults to <span class="tt">disabled</span> (previous behaviour). Applies only when 3+ submeshes are used (2+ materials with alternating order, e.g. "A B A"). If <span class="tt">true</span>, MaterialPropertyBlocks are assigned at each material to prevent aggressive batching of submeshes by e.g. the LWRP renderer, leading to incorrect draw order (e.g. "A1 B A2" changed to "A1A2 B"). You can leave this parameter disabled when everything is drawn correctly to save the additional performance cost.</li>
<li><b>Additional Timeline features.</b> SpineAnimationStateClip now provides a <span class="tt">Speed Multiplier</span>, a start time offset parameter <span class="tt">Clip In</span>, support for blending successive animations by overlapping tracks. An additional <span class="tt">Use Blend Duration</span> parameter <em>(defaults to true)</em> allows for automatic synchronisation of MixDuration with the current overlap blend duration. An additional <a class="el" href="namespace_spine.html">Spine</a> preferences parameter <span class="tt">Use Blend Duration</span> has been added which can be disabled to default to the previous behaviour before this update.</li>
<li>Additional <span class="tt">SpriteMask and RectMask2D</span> example scene added for demonstration of mask setup and interaction.</li>
<li><span class="tt">Real physics hinge chains</span> for both 2D and 3D physics. The <a href="http://esotericsoftware.com/spine-unity#SkeletonUtilityBone">SkeletonUtilityBone</a> Inspector provides an interface to create 2D and 3D hinge chains. Previously created chains have only been respecting gravity, but not momentum of the skeleton or parent bones. The new physics rig created when pressing <span class="tt">Create 3D Hinge Chain</span> and <span class="tt">Create 2D Hinge Chain</span> creates a more complex setup that also works when flipping the skeleton. Note that the chain root node is no longer parented to bones of the skeleton. This is a requirement in Unity to have momentum applied properly - do not reparent the chain root to bones of your skeleton, or you will loose any momentum applied by the skeleton's movement.</li>
<li><span class="tt">Outline rendering functionality for all shaders.</span> Every shader now provides an additional set of <span class="tt">Outline</span> parameters to enable custom outline rendering. When outline rendering is enabled via the <span class="tt">Material</span> inspector, it automatically switches the shader to the respective <span class="tt">Spine/Outline</span> shader variant. Outlines are generated by sampling neighbour pixels, so be sure to add enough transparent padding when exporting your atlas textures to fit the desired outline width. In order to enable outline rendering at a skeleton, it is recommended to first prepare an additional outline material copy and then switch the material of the target skeleton to this material. This prevents unnecessary additional runtime material copies and drawcalls. Material switching can be prepared via a <a href="http://esotericsoftware.com/spine-unity#SkeletonRendererCustomMaterials">SkeletonRendererCustomMaterials</a> component and then enabled or disabled at runtime. Alternatively, you can also directly modify the <span class="tt">SkeletonRenderer.CustomMaterialOverride</span> property. Outline rendering is fully supported on <span class="tt">SkeletonGraphic</span> shaders as well.</li>
<li>Added <span class="tt">SkeletonRenderer.EditorSkipSkinSync</span> scripting API property to be able to set custom skins in editor scripts. Enable this property when overwriting the Skeleton's skin from an editor script. Without setting this parameter, changes will be overwritten by the next inspector update. Only affects Inspector synchronisation of skin with <span class="tt">initialSkinName</span>, not startup initialization.</li>
<li><span class="tt">AtlasUtilities.GetRepackedAttachments()</span> and <span class="tt">AtlasUtilities.GetRepackedSkin()</span> provide support for additional texture channels such as normal maps via the optional parameter <span class="tt">additionalTexturePropertyIDsToCopy </span>. See the spine-unity runtime documentation, section <a href="http://esotericsoftware.com/spine-unity#Combining-Skins">Combining Skins - Advanced - Runtime Repacking with Normalmaps</a> for further info and example usage code.</li>
<li><span class="tt">BoneFollower</span> can now optionally follow (uniform) world scale of the reference bone. There is now a <span class="tt">Mode</span> dropdown selector in the Inspector which can be set to either <span class="tt">Local</span> or <span class="tt">World Uniform</span>.</li>
<li>All <span class="tt">Spine/SkeletonGraphic</span> shaders now provide a parameter <span class="tt">CanvasGroup Compatible</span> which can be enabled to support <span class="tt">CanvasGroup</span> alpha blending. For correct results, you should then disable <span class="tt">Pma Vertex Colors</span> in the <span class="tt">SkeletonGraphic</span> Inspector, in section <span class="tt">Advanced</span> (otherwise Slot alpha will be applied twice).</li>
<li><b>Now supporting Universal Render Pipeline (URP), including the 2D Renderer pipeline, through an additional UPM package.</b><ul>
<li><p class="startli"><b>Installation:</b> You can download the Unity Package Manager (UPM) package via the <a href="http://esotericsoftware.com/spine-unity-download">download page</a> or find it in the <a href="https://github.com/EsotericSoftware/spine-runtimes/tree/3.8-beta/spine-unity/Modules">spine-runtimes/spine-unity/Modules</a> subdirectory on the git repository. You can then either unzip (copy if using git) the package to</p><ul>
<li>a) the <span class="tt">Packages</span> directory in your project where it will automatically be loaded, or</li>
<li>b) to an arbitrary directory outside the Assets directory and then open Package Manager in Unity, select the <span class="tt">+</span> icon, choose <span class="tt">Add package from disk..</span> and point it to the package.json file.</li>
</ul>
<p class="startli">The Project panel should now show an entry <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Universal RP Shaders</span> under <span class="tt">Packages</span>. If the directory is not yet listed, you will need to close and re-open Unity to have it display the directory and its contents.</p>
</li>
<li><b>Usage:</b> The package provides two shaders specifically built for the universal render pipeline:<ul>
<li><span class="tt">Universal Render Pipeline/Spine/Skeleton</span>, as a universal variant of the <span class="tt">Spine/Skeleton</span> shader,</li>
<li><span class="tt">Universal Render Pipeline/Spine/Skeleton Lit</span>, as a universal variant of the <span class="tt">Spine/Skeleton Lit</span> shader,</li>
<li><span class="tt">Universal Render Pipeline/Spine/Sprite</span>, as a universal variant of the <span class="tt">Spine/Sprite/Vertex Lit</span> and <span class="tt">Pixel Lit</span> shaders, which were not functioning in the universal render pipeline,</li>
</ul>
</li>
<li><span class="tt">Universal Render Pipeline/2D/Spine/Skeleton Lit</span>, as a universal 2D Renderer variant of the <span class="tt">Spine/Skeleton Lit</span> shader, and<ul>
<li><span class="tt">Universal Render Pipeline/2D/Spine/Sprite</span>, as a universal 2D Renderer variant of the <span class="tt">Spine/Sprite/Vertex Lit</span> and <span class="tt">Pixel Lit</span> shaders. The shaders can be assigned to materials as usual and will respect your settings of the assigned <span class="tt">UniversalRenderPipelineAsset</span> under <span class="tt">Project Settings - Graphics</span>.</li>
</ul>
</li>
<li><b>Restrictions</b> As all <a class="el" href="namespace_spine.html">Spine</a> shaders, the URP shaders <b>do not support <span class="tt">Premultiply alpha</span> (PMA) atlas textures in Linear color space</b>. Please export your atlas textures as <span class="tt">straight alpha</span> textures with disabled <span class="tt">Premultiply alpha</span> setting when using Linear color space. You can check the current color space via <span class="tt">Project Settings - <a class="el" href="class_player.html">Player</a> - Other Settings - Color Space.</span>.</li>
<li><b>Example:</b> You can find an example scene in the package under <span class="tt">com.esotericsoftware.spine.urp-shaders-3.8/Examples/URP Shaders.unity</span> that demonstrates usage of the URP shaders.</li>
</ul>
</li>
<li><a class="el" href="namespace_spine.html">Spine</a> Preferences now provide an <b><span class="tt">Atlas Texture Settings</span></b> parameter for applying customizable texture import settings at all newly imported <a class="el" href="namespace_spine.html">Spine</a> atlas textures. When exporting atlas textures from <a class="el" href="namespace_spine.html">Spine</a> with <span class="tt">Premultiply alpha</span> enabled (the default), you can leave it at <span class="tt">PMATexturePreset</span>. If you have disabled <span class="tt">Premultiply alpha</span>, set it to the included <span class="tt">StraightAlphaTexturePreset</span> asset. You can also create your own <span class="tt">TextureImporter</span> <span class="tt">Preset</span> asset and assign it here (include <span class="tt">PMA</span> or <span class="tt">Straight</span> in the name). In Unity versions before 2018.3 you can use <span class="tt">Texture2D</span> template assets instead of the newer <span class="tt">Preset</span> assets. Materials created for imported textures will also have the <span class="tt">Straight Alpha Texture</span> parameter configured accordingly.</li>
<li>All <span class="tt">Sprite</span> shaders (including URP and LWRP extension packages) now provide an additional <span class="tt">Fixed Normal Space</span> option <span class="tt">World-Space</span>. PReviously options were limited to <span class="tt">View-Space</span> and <span class="tt">Model-Space</span>.</li>
<li><span class="tt">SkeletonGraphic</span> now fully supports <a href="http://esotericsoftware.com/spine-unity#SkeletonUtility"><span class="tt">SkeletonUtility</span></a> for generating a hierarchy of <a href="http://esotericsoftware.com/spine-unity#SkeletonUtilityBone"><span class="tt">SkeletonUtilityBones</span></a> in both modes <span class="tt">Follow</span> and <span class="tt">Override</span>. This also enables creating hinge chain physics rigs and using <span class="tt">SkeletonUtilityConstraints</span> such as <span class="tt">SkeletonUtilityGroundConstraint</span> and <span class="tt">SkeletonUtilityEyeConstraint</span> on <span class="tt">SkeletonGraphic</span>.</li>
<li>Added <b>native support for slot blend modes</b> <span class="tt">Additive</span>, <span class="tt">Multiply</span> and <span class="tt">Screen</span> with automatic assignment at newly imported skeleton assets. <span class="tt">BlendModeMaterialAssets</span> are now obsolete and replaced by the native properties at <span class="tt">SkeletonDataAsset</span>. The <span class="tt">SkeletonDataAsset</span> Inspector provides a new <span class="tt">Blend Modes - Upgrade</span> button to upgrade an obsolete <span class="tt">BlendModeMaterialAsset</span> to the native blend modes properties. This upgrade will be performed automatically on imported and re-imported assets.</li>
<li><span class="tt">BoneFollower</span> and <span class="tt">BoneFollowerGraphic</span> components now provide better support for following bones when the skeleton's Transform is not the parent of the follower's Transform. Previously e.g. rotating a common parent Transform did not lead to the desired result, as well as negatively scaling a skeleton's Transform when it is not a parent of the follower's Transform.</li>
<li><b>Linear color space:</b> Previously Slot colors were not displayed the same in Unity as in the <a class="el" href="namespace_spine.html">Spine</a> Editor (when configured to display as <span class="tt">Linear</span> color space in <a class="el" href="namespace_spine.html">Spine</a> Editor Settings). This is now fixed at all shaders, including URP and LWRP shaders.</li>
<li>All <a class="el" href="namespace_spine.html">Spine</a> shaders (also including URP and LWRP shaders) now support <span class="tt">PMA Vertex Colors</span> in combination with <span class="tt">Linear</span> color space. Thus when using <a class="el" href="namespace_spine.html">Spine</a> shaders, you should always enable <span class="tt">PMA Vertex Colors</span> at the <span class="tt">SkeletonRenderer</span> component. This allows using single pass <span class="tt">Additive</span> Slots rendering. Note that textures shall still be exported as <span class="tt">Straight alpha</span> when using <span class="tt">Linear</span> color space, so combine <span class="tt">PMA Vertex Colors</span> with <span class="tt">Straight Texture</span>. All <span class="tt">Sprite</span> shaders now provide an additional blend mode for this, named <span class="tt">PMA Vertex, Straight Texture</span> which shall be the preferred Sprite shader blend mode in <span class="tt">Linear</span> color space.</li>
<li>Additive Slots have always been lit before they were written to the target buffer. Now all lit shaders provide an additional parameter <span class="tt">Light Affects Additive</span> which defaults to <span class="tt">false</span>, as it is the more intuitive default value. You can enable the old behaviour by setting this parameter to <span class="tt">true</span>.</li>
<li><span class="tt">SkeletonRootMotion</span> and <span class="tt">SkeletonMecanimRootMotion</span> components now support arbitrary bones in the hierarchy as <span class="tt">Root Motion Bone</span>. Previously there were problems when selecting a non-root bone as <span class="tt">Root Motion Bone</span>. <span class="tt">Skeleton.ScaleX</span> and <span class="tt">.ScaleY</span> and parent bone scale is now respected as well.</li>
<li>URP and LWRP <span class="tt">Sprite</span> and <span class="tt">SkeletonLit</span> shaders no longer require <span class="tt">Advanced - Add Normals</span> enabled to properly cast and receive shadows. It is recommended to disable <span class="tt">Add Normals</span> if normals are otherwise not needed.</li>
<li>Added an example component <span class="tt">RootMotionDeltaCompensation</span> located in <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Examples/Scripts/Sample Components</span> which can be used for applying simple delta compensation. You can enable and disable the component to toggle delta compensation of the currently playing animation on and off.</li>
<li><span class="tt">SkeletonRagdoll</span> and <span class="tt">SkeletonRagdoll2D</span> now support bone scale at any bone in the skeleton hierarchy. This includes negative scale and root bone scale.</li>
<li><span class="tt">Attachment.GetRemappedClone(Sprite)</span> method now provides an additional optional parameter <span class="tt">useOriginalRegionScale</span>. When set to <span class="tt">true</span>, the replaced attachment's scale is used instead of the Sprite's <span class="tt">Pixel per Unity</span> setting, allowing for more consistent scaling. <em>Note:</em> When remapping Sprites, be sure to set the Sprite's <span class="tt">Mesh Type</span> to <span class="tt">Full Rect</span> and not <span class="tt">Tight</span>, otherwise the scale will be wrong.</li>
<li><span class="tt">SkeletonGraphic</span> now <b>supports all Slot blend modes</b> when <span class="tt">Advanced - Multiple Canvas Renderers</span> is enabled in the Inspector. The <span class="tt">SkeletonGraphic</span> Inspector now provides a <span class="tt">Blend Mode Materials</span> section where you can assign <span class="tt">SkeletonGraphic</span> materials for each blend mode, or use the new default materials. New <span class="tt">SkeletonGraphic</span> shaders and materials have been added for each blend mode. The <span class="tt">BlendModes.unity</span> example scene has been extended to demonstrate this new feature. For detailed information see the <a href="http://esotericsoftware.com/spine-unity#Parameters"><span class="tt">SkeletonGraphic documentation page</span></a>.</li>
<li>Timeline clips now also offer <span class="tt">Don't End with Clip</span> and <span class="tt">Clip End Mix Out Duration</span> parameters. By default when empty space follows the clip on the timeline, the empty animation is set on the track with a MixDuration of <span class="tt">Clip End Mix Out Duration</span>. Set <span class="tt">Don't End with Clip</span> to <span class="tt">true</span> to continue playing the clip's animation instead and mimic the old 3.8 behaviour. If you prefer pausing the animation instead of mixing out to the empty animation, set <span class="tt">Clip End Mix Out Duration</span> to a value less than 0, then the animation is paused instead.</li>
<li>Prefabs containing <span class="tt">SkeletonRenderer</span>, <span class="tt">SkeletonAnimation</span> and <span class="tt">SkeletonMecanim</span> now provide a proper Editor preview, including the preview thumbnail.</li>
<li><span class="tt">SkeletonRenderer</span> (and subclasses<span class="tt">SkeletonAnimation</span> and <span class="tt">SkeletonMecanim</span>) now provide a property <span class="tt">Advanced - Fix Prefab Override MeshFilter</span>, which when enabled fixes the prefab always being marked as changed. It sets the MeshFilter's hide flags to <span class="tt">DontSaveInEditor</span>. Unfortunately this comes at the cost of references to the <span class="tt">MeshFilter</span> by other components being lost, therefore this parameter defaults to <span class="tt">false</span> to keep the safe existing behaviour.</li>
<li><span class="tt">BoundingBoxFollower</span> and <span class="tt">BoundingBoxFollowerGraphic</span> now provide previously missing <span class="tt">usedByEffector</span> and <span class="tt">usedByComposite</span> parameters to be set at all generated colliders.</li>
<li><span class="tt">BoneFollower</span> and <span class="tt">BoneFollowerGraphic</span> now provide an additional <span class="tt">Follow Parent World Scale</span> parameter to allow following simple scale of parent bones (rotated/skewed scale can't be supported).</li>
<li>Improved <span class="tt">Advanced - Fix Prefab Override MeshFilter</span> property for <span class="tt">SkeletonRenderer</span> (and subclasses<span class="tt">SkeletonAnimation</span> and <span class="tt">SkeletonMecanim</span>), now providing an additional option to use a global value which can be set in <span class="tt">Edit - Preferences - <a class="el" href="namespace_spine.html">Spine</a></span>.</li>
<li>Timeline naming improvements: <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> AnimationState Clip</span> Inspector parameter <span class="tt">Custom Duration</span> changed and inverted to <span class="tt">Default Mix Duration</span> for more clarity. Shortened all Timeline add track menu entries from: <span class="tt">Spine.Unity.Playables - &lt;track type&gt;</span> to <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> - &lt;track type&gt;</span>, <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Animation State Track</span> to <span class="tt">SkeletonAnimation Track</span>, <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> AnimationState Graphic Track</span> to <span class="tt">SkeletonGraphic Track</span>, and <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Skeleton Flip Track</span> to <span class="tt">Skeleton Flip Track</span>.</li>
<li>Timeline track appearance and Inspector: Tracks now show icons and track colors to make them easier to distinguish. When a Track is selected, the Inspector now shows an editable track name which was previously only editable at the Timeline asset.</li>
<li>Added example component <span class="tt">SkeletonRenderTexture</span> to render a <span class="tt">SkeletonRenderer</span> to a <span class="tt">RenderTexture</span>, mainly for proper transparency. Added an example scene named <span class="tt">RenderTexture FadeOut Transparency</span> that demonstrates usage for a fadeout transparency effect.</li>
<li>Added another fadeout example component named <span class="tt">SkeletonRenderTextureFadeout</span> which takes over transparency fadeout when enabled. You can use this component as-is, attach it in disabled state and enable it to start a fadeout effect.</li>
<li>Timeline clips now offer an additional <span class="tt">Alpha</span> parameter for setting a custom constant mix alpha value other than 1.0, just as <span class="tt">TrackEntry.Alpha</span>. Defaults to 1.0.</li>
<li><span class="tt">SkeletonGraphic</span> now provides additional render callback delegates <span class="tt">OnInstructionsPrepared</span>, <span class="tt">AssignMeshOverrideSingleRenderer</span> and <span class="tt">AssignMeshOverrideMultipleRenderers</span>. <span class="tt">OnInstructionsPrepared</span> is raised at the end of LateUpdate after render instructions are done, target renderers are prepared, and the mesh is ready to be generated. The two <span class="tt">AssignMeshOverride</span> delegates allow separate code to take over mesh and material assignment of a <span class="tt">SkeletonGraphic</span> component.</li>
<li>Added example component <span class="tt">SkeletonGraphicRenderTexture</span> to render a <span class="tt">SkeletonGraphic</span> to a <span class="tt">RenderTexture</span> (similar as <span class="tt">SkeletonRenderTexture</span>), mainly for proper transparency. Extended example scene <span class="tt">RenderTexture FadeOut Transparency</span> accordingly.</li>
</ul>
</li>
<li><b>Changes of default values</b></li>
<li><b>Deprecated</b></li>
<li><b>Restructuring (Non-Breaking)</b></li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md54"></a>
XNA/MonoGame</h3>
<ul>
<li>Added normalmap support via <span class="tt">SpineEffectNormalmap</span> and support for loading multiple texture layers following a suffix-pattern. Please see the example code on how to use them.</li>
<li>Added <span class="tt">Z</span> property to <span class="tt">SkeletonRenderer</span> to provide a constant Z offset that's added to all vertices.</li>
<li>Added <span class="tt">ZSpacing</span> property to <span class="tt">SkeletonRenderer</span> to allow specifying the distance on the z-axis between attachments.</li>
<li>SkeletonDebugRenderer bone color attributes are now public and modifiable by user.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md55"></a>
Java</h2>
<ul>
<li>Timeline API has been extended to support component-wise timelines exported by <a class="el" href="namespace_spine.html">Spine</a> 4.0.</li>
<li>Added <span class="tt">AnimationState.clearNext()</span> which removes the given <span class="tt">TrackEntry</span> and all entries after it.</li>
<li>Added support for texture atlas key value pairs, see <span class="tt">Region.names</span> and <span class="tt">Region.values</span>.</li>
<li>Added support for reverse animation playback via <span class="tt">TrackEntry.getReverse()</span> and <span class="tt">TrackEntry.setReverse()</span>.</li>
<li>Added proportional spacing mode support for path constraints.</li>
<li>Added support for uniform scaling for two bone IK.</li>
<li>Fixed applying a constraint reverting changes from other constraints.</li>
<li><b>Breaking change:</b> Removed <span class="tt">SkeletonData</span> and <span class="tt">Skeleton</span> methods: <span class="tt">findBoneIndex</span>, <span class="tt">findSlotIndex</span>. Bones and slots have an <span class="tt">index</span> field that should be used instead.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md56"></a>
libGDX</h3>
<ul>
<li>Exposed colors in <span class="tt">SkeletonRendererDebug</span>.</li>
<li>Updated to libGDX 1.10.0.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md57"></a>
Lua</h2>
<ul>
<li>Expose non-essential colors on bones, bounding box, clipping, and path attachments.</li>
<li>Timeline API has been extended to support component-wise timelines exported by <a class="el" href="namespace_spine.html">Spine</a> 4.0.</li>
<li>Added <span class="tt">AnimationState.clearNext()</span> which removes the given <span class="tt">TrackEntry</span> and all entries after it.</li>
<li>Added support for texture atlas key value pairs, see <span class="tt">AtlasRegion.names</span> and <span class="tt">AtlasRegion.values</span>.</li>
<li>Added support for reverse animation playback via <span class="tt">TrackEntry.reverse</span>.</li>
<li>Added proportional spacing mode support for path constraints.</li>
<li>Added support for uniform scaling for two bone IK.</li>
<li>Fixed applying a constraint reverting changes from other constraints.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md58"></a>
Love2D</h3>
<h3 class="doxsection"><a class="anchor" id="autotoc_md59"></a>
Corona</h3>
<ul>
<li><b>Breaking change:</b> spine-corona has been renamed to spine-solar2d. Change your <span class="tt">require "spine-corona.spine"</span> statements to <span class="tt">require "spine-solar2d.spine"</span></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md60"></a>
Typescript/Javascript</h2>
<ul>
<li><b>Breaking change:</b> refactored to ECMAScript modules. See this <a href="http://esotericsoftware.com/blog/spine-goes-npm">blog post</a> as well as the updated README.md.</li>
<li><b>Breaking change:</b> the <span class="tt">build/</span> folder and compiled artifacts are no longer part of the repository. Instead, <span class="tt">npm run build</span> in <span class="tt">spine-ts/</span> to generate ECMAScript modules and IIFE modules in <span class="tt">spine-&lt;module-name&gt;/dist</span>.</li>
<li><b>Breaking change:</b> the <span class="tt">.npmignore</span> and <span class="tt">package.json</span> files in the root directory have been deleted. Use the corresponding files in <span class="tt">spine-ts/</span> instead, or better, depend on the packages from the NPM registry.</li>
<li>Updated runtime to be compatible with TypeScript 3.6.3.</li>
<li>Added <span class="tt">AssetManager#setRawDataURI(path, data)</span>. Allows to set raw data URIs for a specific path, which in turn enables embedding assets into JavaScript/HTML.</li>
<li>Expose non-essential colors on bones, bounding box, clipping, and path attachments.</li>
<li>Timeline API has been extended to support component-wise timelines exported by <a class="el" href="namespace_spine.html">Spine</a> 4.0.</li>
<li>Added <span class="tt">AnimationState.clearNext()</span> which removes the given <span class="tt">TrackEntry</span> and all entries after it.</li>
<li>Added support for texture atlas key value pairs, see <span class="tt">AtlasRegion.names</span> and <span class="tt">AtlasRegion.values</span>.</li>
<li>Added support for reverse animation playback via <span class="tt">TrackEntry.reverse</span>.</li>
<li>Added proportional spacing mode support for path constraints.</li>
<li>Added support for uniform scaling for two bone IK.</li>
<li>Fixed applying a constraint reverting changes from other constraints.</li>
<li><span class="tt">AssetManager</span> constructor now takes an option <span class="tt">Downloader</span> instance. Used to download assets only once and share them between <span class="tt">AssetManager</span> instances.</li>
<li>Added web worker support to <span class="tt">AssetManager</span>.</li>
<li>Added various default parameters to <span class="tt">AnimationState</span> methods for ease of use.</li>
<li>Added <span class="tt">SpineCanvas</span>, a simpler way to render a scene via spine-webgl. See <span class="tt">spine-ts/spine-webgl/examples/barebones.html</span> and <span class="tt">spine-ts/spine-webgl/examples/mix-and-match.html</span>.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md61"></a>
WebGL backend</h3>
<ul>
<li><b>Breaking change:</b> removed <span class="tt">SharedAssetManager</span>. Use <span class="tt">AssetManager</span> with a shared <span class="tt">Downloader</span> instance instead.</li>
<li><b>Breaking change:</b> the global object <span class="tt">spine.webgl</span> no longer exists. All classes and functions are now exposed on the global <span class="tt">spine</span> object directly. Simply replace any reference to <span class="tt">spine.webgl.</span> in your source code with <span class="tt">spine.</span>.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md62"></a>
Canvas backend</h3>
<ul>
<li>Renderer now accounts for whitespace stripping.</li>
<li><b>Breaking change:</b> the global object <span class="tt">spine.canvas</span> no longer exists. All classes and functions are now exposed on the global <span class="tt">spine</span> object directly. Simply replace any reference to <span class="tt">spine.canvas.</span> in your source code with <span class="tt">spine.</span>.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md63"></a>
Three.js backend</h3>
<ul>
<li><span class="tt">SkeletonMesh</span> now takes an optional <span class="tt">SkeletonMeshMaterialParametersCustomizer</span> function that allows you to modify the <span class="tt">ShaderMaterialParameters</span> before the material is finalized. Use it to modify things like THREEJS' <span class="tt">Material.depthTest</span> etc. See #1590.</li>
<li><b>Breaking change:</b> the global object <span class="tt">spine.canvas</span> no longer exists. All classes and functions are now exposed on the global <span class="tt">spine</span> object directly. Simply replace any reference to <span class="tt">spine.threejs.</span> in your source code with <span class="tt">spine.</span>.</li>
<li><b>Breaking change:</b> the default fragment shader of <span class="tt">SkeletonMeshMaterial</span> now explicitely discards fragments with alpha &lt; 0.5. See <a href="https://github.com/EsotericSoftware/spine-runtimes/issues/1985">https://github.com/EsotericSoftware/spine-runtimes/issues/1985</a></li>
<li><b>Breaking change:</b> reversal of the previous breaking change: the default fragment shader of <span class="tt">SkeletonMeshMaterial</span> does no longer discard fragments with alpha &lt; 0.5. Pass a <span class="tt">SkeletonMeshMaterialParametersCustomizer</span> to the <span class="tt">SkeletonMesh</span> constructor, and modify <span class="tt">parameters.alphaTest</span> to be &gt; 0.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md64"></a>
Player</h3>
<ul>
<li>Added <span class="tt">SpinePlayerConfig.rawDataURIs</span>. Allows to embed data URIs for skeletons, atlases and atlas page images directly in the HTML/JS without needing to load it from a separate file. See the example for a demonstration.</li>
<li>Added <span class="tt">SpinePlayerConfig.frame</span>. If set, the callback is called each frame, before the skeleton is posed or drawn.</li>
<li>Added <span class="tt">SpinePlayerConfig.update</span>. If set, the callback is called each frame, just after the skeleton is posed.</li>
<li>Added <span class="tt">SpinePlayerConfig.draw</span>. If set, the callback is called each frame, just after the skeleton is drawn.</li>
<li>Added <span class="tt">SpinePlayerConfig.downloader</span>. The <span class="tt">spine.Downloader</span> instance can be shared between players so assets are only downloaded once.</li>
<li>If <span class="tt">SpinePlayerConfig.jsonURL</span> ends with an anchor, the anchor text is used to find the skeleton in the specified JSON file.</li>
<li>Added <span class="tt">SpinePlayer.dispose()</span>, disposes all CPU and GPU side resources, removes all listeners, and removes the player DOM from the parent.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md65"></a>
3.8</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md66"></a>
AS3</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li>Renamed <span class="tt">Slot#getAttachmentVertices()</span> to <span class="tt">Slot#getDeform()</span>.</li>
<li>Changed the <span class="tt">.json</span> curve format and added more assumptions for omitted values, reducing the average size of JSON exports.</li>
<li>Renamed <span class="tt">Skin#addAttachment()</span> to <span class="tt">Skin#setAttachment()</span>.</li>
<li>Removed <span class="tt">VertexAttachment#applyDeform()</span> and replaced it with <span class="tt">VertexAttachment#deformAttachment</span>. The attachment set on this field is used to decide if a <span class="tt">DeformTimeline</span> should be applied to the attachment active on the slot to which the timeline is applied.</li>
<li>Removed <span class="tt">inheritDeform</span> field, getter, and setter from <span class="tt">MeshAttachment</span>.</li>
<li>Changed <span class="tt">.skel</span> binary format, added a string table. References to strings in the data resolve to this string table, reducing storage size of binary files considerably.</li>
<li>Changed the <span class="tt">.json</span> and <span class="tt">.skel</span> file formats to accomodate the new feature and file size optimiations. Old projects must be exported with <a class="el" href="namespace_spine.html">Spine</a> 3.8.20+ to be compatible with the 3.8 <a class="el" href="namespace_spine.html">Spine</a> runtimes.</li>
<li>Switched projects from FDT to Visual Studio Code. See updated <span class="tt">README.md</span> files for instructions.</li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added <span class="tt">SkeletonBinary</span> to load binary <span class="tt">.skel</span> files. See <span class="tt">MixAndMatchExample.as</span> in <span class="tt">spine-startling-example</span>.</li>
<li>Added <span class="tt">x</span> and <span class="tt">y</span> coordinates for setup pose AABB in <span class="tt">SkeletonData</span>.</li>
<li>Added support for rotated mesh region UVs.</li>
<li>Added skin-specific bones and constraints which are only updated if the skeleton's current skin contains them.</li>
<li>Improved Skin API to make it easier to handle mix-and-match use cases.<ul>
<li>Added <span class="tt">Skin#getAttachments()</span>. Returns all attachments in the skin.</li>
<li>Added <span class="tt">Skin#getAttachments(int slotIndex)</span>. Returns all attachements in the skin for the given slot index.</li>
<li>Added <span class="tt">Skin#addSkin(Skin skin)</span>. Adds all attachments, bones, and skins from the specified skin to this skin.</li>
<li>Added <span class="tt">Skin#copySkin(Skin skin)</span>. Adds all attachments, bones, and skins from the specified skin to this skin. <span class="tt">VertexAttachment</span> are shallowly copied and will retain any parent mesh relationship. All other attachment types are deep copied.</li>
</ul>
</li>
<li>Added <span class="tt">Attachment#copy()</span> to all attachment type implementations. This lets you deep copy an attachment to modify it independently from the original, i.e. when programmatically changing texture coordinates or mesh vertices.</li>
<li>Added <span class="tt">MeshAttachment#newLinkedMesh()</span>, creates a linked mesh linkted to either the original mesh, or the parent of the original mesh.</li>
<li>Added IK softness.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md67"></a>
Starling</h3>
<ul>
<li>Added <span class="tt">MixAndMatchExample.as</span> to demonstrate the new Skin API additions and how to load binary <span class="tt">.skel</span> files.</li>
<li>Switched projects from FDT to Visual Studio Code. See updated <span class="tt">README.md</span> files for instructions.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md68"></a>
C</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li>Renamed <span class="tt">spSlot#attachmentVertices</span> to <span class="tt">spSlot#deform</span>.</li>
<li>Changed the <span class="tt">.json</span> curve format and added more assumptions for omitted values, reducing the average size of JSON exports.</li>
<li>Renamed <span class="tt">spSkin_addAttachment()</span> to <span class="tt">Skin#spSkin_addAttachment()</span>.</li>
<li>Removed <span class="tt">spVertexAttachment_applyDeform()</span> and replaced it with <span class="tt">VertexAttachment#deformAttachment</span>. The attachment set on this field is used to decide if a <span class="tt">spDeformTimeline</span> should be applied to the attachment active on the slot to which the timeline is applied.</li>
<li>Removed <span class="tt">inheritDeform</span> field, getter, and setter from <span class="tt">spMeshAttachment</span>.</li>
<li>Changed <span class="tt">.skel</span> binary format, added a string table. References to strings in the data resolve to this string table, reducing storage size of binary files considerably.</li>
<li>Changed the <span class="tt">.json</span> and <span class="tt">.skel</span> file formats to accomodate the new feature and file size optimiations. Old projects must be exported with <a class="el" href="namespace_spine.html">Spine</a> 3.8.20+ to be compatible with the 3.8 <a class="el" href="namespace_spine.html">Spine</a> runtimes.</li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added <span class="tt">x</span> and <span class="tt">y</span> coordinates for setup pose AABB in <span class="tt">spSkeletonData</span>.</li>
<li>Added support for rotated mesh region UVs.</li>
<li>Added skin-specific bones and constraints which are only updated if the skeleton's current skin contains them.</li>
<li>Improved Skin API to make it easier to handle mix-and-match use cases.<ul>
<li>Added <span class="tt">spSkin_getAttachments()</span>. Returns all attachments in the skin.</li>
<li>Added <span class="tt">spSkin_getAttachments(int slotIndex)</span>. Returns all attachements in the skin for the given slot index.</li>
<li>Added <span class="tt">spSkin_addSkin(spSkin* skin)</span>. Adds all attachments, bones, and skins from the specified skin to this skin.</li>
<li>Added <span class="tt">spSkin_copySkin(spSkin* skin)</span>. Adds all attachments, bones, and skins from the specified skin to this skin. <span class="tt">spVertexAttachment</span> are shallowly copied and will retain any parent mesh relationship. All other attachment types are deep copied.</li>
<li>All attachments inserted into skins are reference counted. When the last skin referencing an attachment is disposed, the attachment will also be disposed.</li>
</ul>
</li>
<li>Added <span class="tt">spAttachment_copy()</span> to all attachment type implementations. This lets you deep copy an attachment to modify it independently from the original, i.e. when programmatically changing texture coordinates or mesh vertices.</li>
<li>Added <span class="tt">spMeshAttachment_newLinkedMesh()</span>, creates a linked mesh linkted to either the original mesh, or the parent of the original mesh.</li>
<li>Added IK softness.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md69"></a>
Cocos2d-Objc</h3>
<ul>
<li>Added mix-and-match example to demonstrate the new Skin API.</li>
<li>Added <span class="tt">IKExample</span>.</li>
<li>Added <span class="tt">SkeletonAnimation preUpdateWorldTransformsListener</span> and <span class="tt">SkeletonAnimation postUpdateWorldTransformsListener</span>. When set, these callbacks will be invokved before and after the skeleton's <span class="tt">updateWorldTransforms()</span> method is called. See the <span class="tt">IKExample</span> how it can be used.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md70"></a>
SFML</h3>
<ul>
<li>Added mix-and-match example to demonstrate the new Skin API.</li>
<li>Added <span class="tt">IKExample</span>.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md71"></a>
C++</h2>
<ul>
<li><b>Breaking Changes</b><ul>
<li>Renamed <span class="tt">Slot::getAttachmentVertices()</span> to <span class="tt">Slot::getDeform()</span>.</li>
<li>Changed the <span class="tt">.json</span> curve format and added more assumptions for omitted values, reducing the average size of JSON exports.</li>
<li>Renamed <span class="tt">Skin::addAttachment()</span> to <span class="tt">Skin::setAttachment()</span>.</li>
<li>Removed <span class="tt">VertexAttachment::applyDeform()</span> and replaced it with <span class="tt">VertexAttachment::getDeformAttachment()</span>. The attachment set on this field is used to decide if a <span class="tt">DeformTimeline</span> should be applied to the attachment active on the slot to which the timeline is applied.</li>
<li>Removed <span class="tt">_inheritDeform</span> field, getter, and setter from <span class="tt">MeshAttachment</span>.</li>
<li>Changed <span class="tt">.skel</span> binary format, added a string table. References to strings in the data resolve to this string table, reducing storage size of binary files considerably.</li>
<li>Changed the <span class="tt">.json</span> and <span class="tt">.skel</span> file formats to accomodate the new feature and file size optimiations. Old projects must be exported with <a class="el" href="namespace_spine.html">Spine</a> 3.8.20+ to be compatible with the 3.8 <a class="el" href="namespace_spine.html">Spine</a> runtimes.</li>
</ul>
</li>
<li><b>Additions</b><ul>
<li><span class="tt">AnimationState</span> and <span class="tt">TrackEntry</span> now also accept a subclass of <span class="tt">AnimationStateListenerObject</span> as a listener for animation events in the overloaded <span class="tt">setListener()</span> method.</li>
<li><span class="tt">SkeletonBinary</span> and <span class="tt">SkeletonJson</span> now parse and set all non-essential data like audio path.</li>
<li>Added <span class="tt">x</span> and <span class="tt">y</span> coordinates for setup pose AABB in <span class="tt">SkeletonData</span>.</li>
<li>Added support for rotated mesh region UVs.</li>
<li>Added skin-specific bones and constraints which are only updated if the skeleton's current skin contains them.</li>
<li>Improved Skin API to make it easier to handle mix-and-match use cases.<ul>
<li>Added <span class="tt">Skin#getAttachments()</span>. Returns all attachments in the skin.</li>
<li>Added <span class="tt">Skin#getAttachments(int slotIndex)</span>. Returns all attachements in the skin for the given slot index.</li>
<li>Added <span class="tt">Skin#addSkin(Skin &amp;skin)</span>. Adds all attachments, bones, and skins from the specified skin to this skin.</li>
<li>Added <span class="tt">Skin#copySkin(Skin &amp;skin)</span>. Adds all attachments, bones, and skins from the specified skin to this skin. <span class="tt">VertexAttachment</span> are shallowly copied and will retain any parent mesh relationship. All other attachment types are deep copied.</li>
<li>All attachments inserted into skins are reference counted. When the last skin referencing an attachment is disposed, the attachment will also be disposed.</li>
</ul>
</li>
<li>Added <span class="tt">Attachment#copy()</span> to all attachment type implementations. This lets you deep copy an attachment to modify it independently from the original, i.e. when programmatically changing texture coordinates or mesh vertices.</li>
<li>Added <span class="tt">MeshAttachment#newLinkedMesh()</span>, creates a linked mesh linkted to either the original mesh, or the parent of the original mesh.</li>
<li>Added IK softness.</li>
<li>Exposed <span class="tt">x</span> and <span class="tt">y</span> on <span class="tt">SkeletonData</span> through getters and setters.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md72"></a>
Cocos2d-x</h3>
<ul>
<li>Updated to cocos2d-x 3.17.1</li>
<li>Added mix-and-match example to demonstrate the new Skin API.</li>
<li>Exmaple project requires Visual Studio 2019 on Windows</li>
<li>Added <span class="tt">IKExample</span>.</li>
<li>Added <span class="tt">SkeletonAnimation::setPreUpdateWorldTransformsListener()</span> and <span class="tt">SkeletonAnimation::setPreUpdateWorldTransformsListener()</span>. When set, these callbacks will be invokved before and after the skeleton's <span class="tt">updateWorldTransforms()</span> method is called. See the <span class="tt">IKExample</span> how it can be used.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md73"></a>
SFML</h3>
<ul>
<li>Added mix-and-match example to demonstrate the new Skin API.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md74"></a>
UE4</h3>
<ul>
<li>Added <span class="tt">bAutoPlaying</span> flag to <span class="tt">USpineSkeletonAnimationComponent</span>. When <span class="tt">false</span>, the component will not update the internal animation state and skeleton.</li>
<li>Updated example project to UE 4.22.</li>
<li>(Re-)Importing <a class="el" href="namespace_spine.html">Spine</a> assets will perform a version compatibility check and alert users about mismatches in editor mode.</li>
<li><span class="tt">USpineSkeletonRendererComponent</span> allows passing a <span class="tt">USpineSkeletonComponent</span> to update it. This way, the renderer component can be used without a skeleton component on the same actor.</li>
<li>Added blueprint-callable methods to <span class="tt">SpineSkeletonComponent</span> and <span class="tt">SpineSkeletonAnimationComponent</span> to query and set skins, and enumerate bones, slots, and animations.</li>
<li>Extended skeleton data editor preview. The preview now shows bones, slots, animations, and skins found in the skeleton data. See this <a href="http://esotericsoftware.com/blog/Unreal-Engine-4-quality-of-life-improvements">blog post</a>.</li>
<li>Added preview animation and skin fields, allowing you to preview animations and skins right in the editor. See this <a href="http://esotericsoftware.com/blog/Unreal-Engine-4-quality-of-life-improvements">blog post</a>.</li>
<li>Removed dependency on <span class="tt">RHI</span>, <span class="tt">RenderCore</span>, and <span class="tt">ShaderCore</span>.</li>
<li>Re-importing atlases and their textures now works consistently in all situations.</li>
<li>Added mix-and-match example to demonstrate the new Skin API.</li>
<li>Materials on <span class="tt">SkeletonRendererComponent</span> are now blueprint read and writeable. This allows setting dynamic material instances at runtime.</li>
<li>Added <span class="tt">InitialSkin</span> property to <span class="tt">USpineWidget</span>. This allows previewing different skins in the UMG Designer. Initial skins can still be overridden via blueprint events such as <span class="tt">On Initialized</span>.</li>
<li><span class="tt">USpineWidget</span> will now report its own desired size based on the setup pose dimensions of the skeleton. This is used when selecting <span class="tt">Size to content</span> on a <span class="tt">USpineWidget</span> in the designer.</li>
<li>Updated example project to UE 5.2.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md75"></a>
C</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li><b>Changed <span class="tt">IkConstraintData.Bones</span> type from <span class="tt">List&lt;BoneData&gt;</span> to <span class="tt">ExposedList&lt;BoneData&gt;</span></b> for unification reasons. <em>Note: this modification will most likely not affect user code.</em></li>
<li>Renamed <span class="tt">Slot.AttachmentVertices</span> to <span class="tt">Slot.Deform</span>.</li>
<li>Changed the <span class="tt">.json</span> curve format and added more assumptions for omitted values, reducing the average size of JSON exports.</li>
<li>Renamed <span class="tt">Skin.AddAttachment()</span> to <span class="tt">Skin.SetAttachment()</span>.</li>
<li>Removed <span class="tt">FindAttachmentsForSlot(int slotIndex, List&lt;Attachment&gt; attachments)</span> and <span class="tt">FindNamesForSlot (int slotIndex, List&lt;string&gt; names)</span> and replaced it with <span class="tt">Skin.GetAttachments(int slotIndex, List&lt;SkinEntry&gt; attachments)</span> which returns the combined <span class="tt">SkinEntry</span> object holding both name and attachment.</li>
<li>Removed <span class="tt">VertexAttachment.ApplyDeform()</span> and replaced it with <span class="tt">VertexAttachment.DeformAttachment</span>. The attachment set on this field is used to decide if a <span class="tt">DeformTimeline</span> should be applied to the attachment active on the slot to which the timeline is applied.</li>
<li>Removed <span class="tt">inheritDeform</span> field, getter, and setter from <span class="tt">MeshAttachment</span>.</li>
<li>Changed <span class="tt">.skel</span> binary format, added a string table. References to strings in the data resolve to this string table, reducing storage size of binary files considerably.</li>
<li>Changed the <span class="tt">.json</span> and <span class="tt">.skel</span> file formats to accomodate the new feature and file size optimiations. Old projects must be exported with <a class="el" href="namespace_spine.html">Spine</a> 3.8.20+ to be compatible with the 3.8 <a class="el" href="namespace_spine.html">Spine</a> runtimes.</li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added <span class="tt">x</span> and <span class="tt">y</span> coordinates for setup pose AABB in <span class="tt">SkeletonData</span>.</li>
<li>Added support for rotated mesh region UVs.</li>
<li>Added skin-specific bones and constraints which are only updated if the skeleton's current skin contains them.</li>
<li>Improved Skin API to make it easier to handle mix-and-match use cases.<ul>
<li>Added <span class="tt">Skin.GetAttachments()</span>. Returns all attachments in the skin.</li>
<li>Added <span class="tt">Skin.GetAttachments(int slotIndex, List&lt;SkinEntry&gt; attachments)</span>. Returns all attachements in the skin for the given slot index. This method replaces <span class="tt">FindAttachmentsForSlot</span> and <span class="tt">FindNamesForSlot</span>.</li>
<li>Added <span class="tt">Skin.AddSkin(Skin skin)</span>. Adds all attachments, bones, and skins from the specified skin to this skin.</li>
<li>Added <span class="tt">Skin.CopySkin(Skin skin)</span>. Adds all attachments, bones, and skins from the specified skin to this skin. <span class="tt">VertexAttachment</span> are shallowly copied and will retain any parent mesh relationship. All other attachment types are deep copied.</li>
</ul>
</li>
<li>Added <span class="tt">Attachment.Copy()</span> to all attachment type implementations. This lets you deep copy an attachment to modify it independently from the original, i.e. when programmatically changing texture coordinates or mesh vertices.</li>
<li>Added <span class="tt">MeshAttachment.NewLinkedMesh()</span>, creates a linked mesh linkted to either the original mesh, or the parent of the original mesh.</li>
<li>Added IK softness.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md76"></a>
Unity</h3>
<ul>
<li><b>Breaking changes</b><ul>
<li><b>Officially supported Unity versions are 2017.1-2020.2</b>.</li>
<li><b><a class="el" href="namespace_spine.html">Spine</a> <span class="tt">.asmdef</span> files are again active by default</b>. They have previously been deactivated to <span class="tt">.txt</span> extension which is now no longer necessary.</li>
<li><b>Removed PoseSkeleton() and PoseWithAnimation()</b> extension methods to prevent issues where animations are not mixed out. Problem was that these methods did not set AnimationState, leaving incorrect state at e.g. attachments enabled at slots when starting subsequent animations. As a replacement you can use <span class="tt">AnimationState.ClearTrack(0);</span> followed by <span class="tt">var entry = AnimationState.SetAnimation(0, animation, loop); entry.TrackTime = time</span> to achieve similar behaviour.</li>
<li><b>The <span class="tt">Shadow alpha cutoff</span> shader parameter is now respecting slot-color alpha</b> values at all <a class="el" href="namespace_spine.html">Spine</a> shaders. A fragment's texture color alpha is multiplied with slot-color alpha before the result is tested against the <span class="tt">Shadow alpha cutoff</span> threshold.</li>
<li><b>Removed redundant <span class="tt">Attachment.GetClone()</span> and <span class="tt">MeshAttachment.GetLinkedClone()</span> extension methods</b>. Use methods <span class="tt">Attachment.Copy</span> and <span class="tt">MeshAttachment.NewLinkedMesh()</span> instead.</li>
<li><b>Renamed extension method <span class="tt">Attachment.GetClone(bool cloneMeshesAsLinked)</span> to <span class="tt">Attachment.GetCopy(bool cloneMeshesAsLinked)</span></b> to follow the naming scheme of the <a class="el" href="namespace_spine.html">Spine</a> API.</li>
<li><span class="tt">SkeletonDataAsset.atlasAssets</span> is now an array of the base class <span class="tt">AtlasAssetBase</span> instead of <span class="tt">SpineAtlasAsset</span>, which provides <span class="tt">IEnumerable&lt;&gt; Materials</span> instead of <span class="tt">List&lt;&gt; materials</span>. Replace any access via <span class="tt">atlasAsset.materials[0]</span> with <span class="tt">atlasAsset.Materials.First()</span> and add a <span class="tt">using System.Linq;</span> statement.</li>
<li><b>Changed <span class="tt">MeshAttachment.GetLinkedMesh()</span> method signatures:</b> removed optional parameters <span class="tt">bool inheritDeform = true, bool copyOriginalProperties = false</span>.</li>
<li>Changed namespace <span class="tt">Spine.Unity.Modules</span> to <span class="tt"><a class="el" href="namespace_spine_1_1_unity.html">Spine.Unity</a></span> and <span class="tt"><a class="el" href="namespace_spine_1_1_unity_1_1_examples.html">Spine.Unity.Examples</a></span> after restructuring (see section below) in respective classes:<ul>
<li>When receiving namespace related errors, replace using statements of <span class="tt">using Spine.Unity.Modules.AttachmentTools;</span> with <span class="tt">using <a class="el" href="namespace_spine_1_1_unity_1_1_attachment_tools.html">Spine.Unity.AttachmentTools</a>;</span>. You can remove <span class="tt">using Spine.Unity.Modules;</span> statements when a <span class="tt">using <a class="el" href="namespace_spine_1_1_unity.html">Spine.Unity</a></span> statement is already present in the file.</li>
<li><span class="tt">AttachmentTools</span>, <span class="tt">SkeletonPartsRenderer</span>, <span class="tt">SkeletonRenderSeparator</span>, <span class="tt">SkeletonRendererCustomMaterials</span> changed to namespace <span class="tt"><a class="el" href="namespace_spine_1_1_unity.html">Spine.Unity</a></span>.</li>
<li><span class="tt">SkeletonGhost</span>, <span class="tt">SkeletonGhostRenderer</span>, <span class="tt">AtlasRegionAttacher</span>, <span class="tt">SkeletonGraphicMirror</span>, <span class="tt">SkeletonRagdoll</span>, <span class="tt">SkeletonRagdoll2D</span>, <span class="tt">SkeletonUtilityEyeConstraint</span>, <span class="tt">SkeletonUtilityGroundConstraint</span>, <span class="tt">SkeletonUtilityKinematicShadow</span> changed to namespace <span class="tt"><a class="el" href="namespace_spine_1_1_unity_1_1_examples.html">Spine.Unity.Examples</a></span>.</li>
</ul>
</li>
<li>Split <span class="tt">Editor/Utility/SpineEditorUtilities</span> class into multiple files with partial class qualifier.<ul>
<li>Nested classes <span class="tt">SpineEditorUtilities.AssetUtility</span> and <span class="tt">SpineEditorUtilities.EditorInstantiation</span> are now no longer nested. If you receive namespace related errors, replace any occurrance of<ul>
<li><span class="tt">SpineEditorUtilities.AssetUtility</span> with <span class="tt">AssetUtility</span> and</li>
<li><span class="tt">SpineEditorUtilities.EditorInstantiation</span> with <span class="tt">EditorInstantiation</span>.</li>
</ul>
</li>
</ul>
</li>
<li><b>Timeline Support has been moved to a separate UPM Package</b> Previously the <a class="el" href="namespace_spine.html">Spine</a> Timeline integration was located in the <span class="tt">Modules/Timeline</span> directory and was deactivated by default, making it necessary to activate it via the <a class="el" href="namespace_spine.html">Spine</a> Preferences. Now the Timeline integration has been moved to an additional UPM package which can be found under <span class="tt">Modules/com.esotericsoftware.spine.timeline</span>.</li>
<li><b>Installation:</b> You can download the Unity Package Manager (UPM) package via the <a href="http://esotericsoftware.com/spine-unity-download">download page</a> or find it in the <a href="https://github.com/EsotericSoftware/spine-runtimes/tree/3.8-beta/spine-unity/Modules">spine-runtimes/spine-unity/Modules</a> subdirectory on the git repository. You can then either unzip (copy if using git) the package to a) the <span class="tt">Packages</span> directory in your project where it will automatically be loaded, or b) to an arbitrary directory outside the Assets directory and then open Package Manager in Unity, select the <span class="tt">+</span> icon, choose <span class="tt">Add package from disk..</span> and point it to the package.json file. The Project panel should now show an entry <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Timeline Extensions</span> under <span class="tt">Packages</span>. If the directory is not yet listed, you will need to close and re-open Unity to have it display the directory and its contents.</li>
<li><span class="tt">SkeletonMecanim</span>'s <span class="tt">Layer Mix Mode</span> enum name <span class="tt">MixMode.SpineStyle</span> has been renamed to <span class="tt">MixMode.Hard</span>. This is most likely not set via code and thus unlikely to be a problem. Serialized scenes and prefabs are unaffected.</li>
<li><span class="tt">SkeletonRootMotion</span> and <span class="tt">SkeletonMecanimRootMotion</span> components now support arbitrary bones in the hierarchy as <span class="tt">Root Motion Bone</span>. Previously there were problems when selecting a non-root bone as <span class="tt">Root Motion Bone</span>. <span class="tt">Skeleton.ScaleX</span> and <span class="tt">.ScaleY</span> and parent bone scale is now respected as well.</li>
</ul>
</li>
<li><b>Additions</b><ul>
<li><b><a class="el" href="namespace_spine.html">Spine</a> Preferences stored in Assets/Editor/SpineSettings.asset</b> Now <a class="el" href="namespace_spine.html">Spine</a> uses the new <span class="tt">SettingsProvider</span> API, storing settings in a SpineSettings.asset file which can be shared with team members. Your old preferences are automatically migrated to the new system.</li>
<li>Added support for Unity's SpriteMask to <span class="tt">SkeletonAnimation</span> and <span class="tt">SkeletonMecanim</span>. All mask interaction modes are supported. See this <a href="http://esotericsoftware.com/blog/Unity-SpriteMask-and-RectMask2D-support">blog post</a>.</li>
<li>Added support for Unity's RectMask2D to SkeletonGraphics. See this <a href="http://esotericsoftware.com/blog/Unity-SpriteMask-and-RectMask2D-support">blog post</a>.</li>
<li>Added <span class="tt">Create 2D Hinge Chain</span> button at <span class="tt">SkeletonUtilityBone</span> inspector, previously only <span class="tt">Create 3D Hinge Chain</span> was available.</li>
<li><b>Now supporting Lightweight Render Pipeline (LWRP) through an additional UPM package.</b><ul>
<li><p class="startli"><b>Installation:</b> You can download the Unity Package Manager (UPM) package via the <a href="http://esotericsoftware.com/spine-unity-download">download page</a> or find it in the <a href="https://github.com/EsotericSoftware/spine-runtimes/tree/3.8-beta/spine-unity/Modules">spine-runtimes/spine-unity/Modules</a> subdirectory on the git repository. You can then either unzip (copy if using git) the package to</p><ul>
<li>a) the <span class="tt">Packages</span> directory in your project where it will automatically be loaded, or</li>
<li>b) to an arbitrary directory outside the Assets directory and then open Package Manager in Unity, select the <span class="tt">+</span> icon, choose <span class="tt">Add package from disk..</span> and point it to the package.json file.</li>
</ul>
<p class="startli">&gt; If you are using git and Unity 2019.2 or newer versions and receive an error that dependencies could not be resolved by the package manager (only higher versions of Unity's <span class="tt">Lightweight RP</span> package are available, e.g. <span class="tt">6.9.0</span> and up), please copy the prepared package-UNITYVERSION.json file for your Unity version (e.g. <span class="tt">package-2019.2.json</span>) over the existing package.json file to change the dependency accordingly. Unfortunately Unity's Package Manager does not provide a way to specify a version range for a dependency like "5.7.2 - 6.9.0" yet, so this manual step is necessary for git users.</p>
<p class="startli">The Project panel should now show an entry <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Lightweight RP Shaders</span> under <span class="tt">Packages</span>. If the directory is not yet listed, you will need to close and re-open Unity to have it display the directory and its contents.</p>
</li>
<li><b>Usage:</b> The package provides two shaders specifically built for the lightweight render pipeline:<ul>
<li><span class="tt">Lightweight Render Pipeline/Spine/Skeleton</span>, as a lightweight variant of the <span class="tt">Spine/Skeleton</span> shader,</li>
<li><span class="tt">Lightweight Render Pipeline/Spine/Skeleton Lit</span>, as a lightweight variant of the <span class="tt">Spine/Skeleton Lit</span> shader and</li>
<li><span class="tt">Lightweight Render Pipeline/Spine/Sprite</span>, as a lightweight variant of the <span class="tt">Spine/Sprite/Vertex Lit</span> and <span class="tt">Pixel Lit</span> shaders, which were not functioning in the lightweight render pipeline. The shaders can be assigned to materials as usual and will respect your settings of the assigned <span class="tt">LightweightRenderPipelineAsset</span> under <span class="tt">Project Settings - Graphics</span>.</li>
</ul>
</li>
<li><b>Restrictions</b> As all <a class="el" href="namespace_spine.html">Spine</a> shaders, the LWRP shaders <b>do not support <span class="tt">Premultiply alpha</span> (PMA) atlas textures in Linear color space</b>. Please export your atlas textures as <span class="tt">straight alpha</span> textures with disabled <span class="tt">Premultiply alpha</span> setting when using Linear color space. You can check the current color space via <span class="tt">Project Settings - <a class="el" href="class_player.html">Player</a> - Other Settings - Color Space.</span>.</li>
<li><b>Example:</b> You can find an example scene in the package under <span class="tt">com.esotericsoftware.spine.lwrp-shaders-3.8/Examples/LWRP Shaders.unity</span> that demonstrates usage of the LWRP shaders.</li>
</ul>
</li>
<li>Added <span class="tt">Spine/Skeleton Lit ZWrite</span> shader. This variant of the <span class="tt">Spine/Skeleton Lit</span> shader writes to the depth buffer with configurable depth alpha threshold. Apart from that it is identical to <span class="tt">Spine/Skeleton Lit</span>.</li>
<li>Additional yield instructions to wait for animation track events <span class="tt">End</span>, <span class="tt">Complete</span> and <span class="tt">Interrupt</span>.<ul>
<li><span class="tt">WaitForSpineAnimationComplete</span> now proves an additional <span class="tt">bool includeEndEvent</span> parameter, defaults to <span class="tt">false</span> (previous behaviour).</li>
<li>Added a new <span class="tt">WaitForSpineAnimationEnd</span> yield instruction.</li>
<li>Added a new generic <span class="tt">WaitForSpineAnimation</span> yield instruction which can be configured to wait for any combination of animation track events. It is now used as base class for <span class="tt">WaitForSpineAnimationComplete</span> and <span class="tt">WaitForSpineAnimationEnd</span>.</li>
</ul>
</li>
<li>Additional <b>Fix Draw Order</b> parameter at SkeletonRenderer, defaults to <span class="tt">disabled</span> (previous behaviour). Applies only when 3+ submeshes are used (2+ materials with alternating order, e.g. "A B A"). If true, MaterialPropertyBlocks are assigned at each material to prevent aggressive batching of submeshes by e.g. the LWRP renderer, leading to incorrect draw order (e.g. "A1 B A2" changed to "A1A2 B"). You can leave this parameter disabled when everything is drawn correctly to save the additional performance cost.</li>
<li><b>Additional Timeline features.</b> SpineAnimationStateClip now provides a <span class="tt">Speed Multiplier</span>, a start time offset parameter <span class="tt">Clip In</span>, support for blending successive animations by overlapping tracks. An additional <span class="tt">Use Blend Duration</span> parameter <em>(defaults to true)</em> allows for automatic synchronisation of MixDuration with the current overlap blend duration. An additional <a class="el" href="namespace_spine.html">Spine</a> preferences parameter <span class="tt">Use Blend Duration</span> has been added which can be disabled to default to the previous behaviour before this update.</li>
<li>Additional <span class="tt">SpriteMask and RectMask2D</span> example scene added for demonstration of mask setup and interaction.</li>
<li><span class="tt">Real physics hinge chains</span> for both 2D and 3D physics. The <a href="http://esotericsoftware.com/spine-unity#SkeletonUtilityBone">SkeletonUtilityBone</a> Inspector provides an interface to create 2D and 3D hinge chains. Previously created chains have only been respecting gravity, but not momentum of the skeleton or parent bones. The new physics rig created when pressing <span class="tt">Create 3D Hinge Chain</span> and <span class="tt">Create 2D Hinge Chain</span> creates a more complex setup that also works when flipping the skeleton. Note that the chain root node is no longer parented to bones of the skeleton. This is a requirement in Unity to have momentum applied properly - do not reparent the chain root to bones of your skeleton, or you will loose any momentum applied by the skeleton's movement.</li>
<li><span class="tt">Outline rendering functionality for all shaders.</span> Every shader now provides an additional set of <span class="tt">Outline</span> parameters to enable custom outline rendering. When outline rendering is enabled via the <span class="tt">Material</span> inspector, it automatically switches the shader to the respective <span class="tt">Spine/Outline</span> shader variant. Outlines are generated by sampling neighbour pixels, so be sure to add enough transparent padding when exporting your atlas textures to fit the desired outline width. In order to enable outline rendering at a skeleton, it is recommended to first prepare an additional outline material copy and then switch the material of the target skeleton to this material. This prevents unnecessary additional runtime material copies and drawcalls. Material switching can be prepared via a <a href="http://esotericsoftware.com/spine-unity#SkeletonRendererCustomMaterials">SkeletonRendererCustomMaterials</a> component and then enabled or disabled at runtime. Alternatively, you can also directly modify the <span class="tt">SkeletonRenderer.CustomMaterialOverride</span> property. Outline rendering is fully supported on <span class="tt">SkeletonGraphic</span> shaders as well.</li>
<li>Added <span class="tt">SkeletonRenderer.EditorSkipSkinSync</span> scripting API property to be able to set custom skins in editor scripts. Enable this property when overwriting the Skeleton's skin from an editor script. Without setting this parameter, changes will be overwritten by the next inspector update. Only affects Inspector synchronisation of skin with <span class="tt">initialSkinName</span>, not startup initialization.</li>
<li>All <span class="tt">Spine/SkeletonGraphic</span> shaders now provide a parameter <span class="tt">CanvasGroup Compatible</span> which can be enabled to support <span class="tt">CanvasGroup</span> alpha blending. For correct results, you should then disable <span class="tt">Pma Vertex Colors</span> in the <span class="tt">SkeletonGraphic</span> Inspector, in section <span class="tt">Advanced</span> (otherwise Slot alpha will be applied twice).</li>
<li><b>Now supporting Universal Render Pipeline (URP), including the 2D Renderer pipeline, through an additional UPM package.</b><ul>
<li><p class="startli"><b>Installation:</b> You can download the Unity Package Manager (UPM) package via the <a href="http://esotericsoftware.com/spine-unity-download">download page</a> or find it in the <a href="https://github.com/EsotericSoftware/spine-runtimes/tree/3.8-beta/spine-unity/Modules">spine-runtimes/spine-unity/Modules</a> subdirectory on the git repository. You can then either unzip (copy if using git) the package to</p><ul>
<li>a) the <span class="tt">Packages</span> directory in your project where it will automatically be loaded, or</li>
<li>b) to an arbitrary directory outside the Assets directory and then open Package Manager in Unity, select the <span class="tt">+</span> icon, choose <span class="tt">Add package from disk..</span> and point it to the package.json file.</li>
</ul>
<p class="startli">The Project panel should now show an entry <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Universal RP Shaders</span> under <span class="tt">Packages</span>. If the directory is not yet listed, you will need to close and re-open Unity to have it display the directory and its contents.</p>
</li>
<li><b>Usage:</b> The package provides two shaders specifically built for the universal render pipeline:<ul>
<li><span class="tt">Universal Render Pipeline/Spine/Skeleton</span>, as a universal variant of the <span class="tt">Spine/Skeleton</span> shader,</li>
<li><span class="tt">Universal Render Pipeline/Spine/Skeleton Lit</span>, as a universal variant of the <span class="tt">Spine/Skeleton Lit</span> shader,</li>
<li><span class="tt">Universal Render Pipeline/Spine/Sprite</span>, as a universal variant of the <span class="tt">Spine/Sprite/Vertex Lit</span> and <span class="tt">Pixel Lit</span> shaders, which were not functioning in the universal render pipeline,</li>
</ul>
</li>
<li><span class="tt">Universal Render Pipeline/2D/Spine/Skeleton Lit</span>, as a universal 2D Renderer variant of the <span class="tt">Spine/Skeleton Lit</span> shader, and<ul>
<li><span class="tt">Universal Render Pipeline/2D/Spine/Sprite</span>, as a universal 2D Renderer variant of the <span class="tt">Spine/Sprite/Vertex Lit</span> and <span class="tt">Pixel Lit</span> shaders. The shaders can be assigned to materials as usual and will respect your settings of the assigned <span class="tt">UniversalRenderPipelineAsset</span> under <span class="tt">Project Settings - Graphics</span>.</li>
</ul>
</li>
<li><b>Restrictions</b> As all <a class="el" href="namespace_spine.html">Spine</a> shaders, the URP shaders <b>do not support <span class="tt">Premultiply alpha</span> (PMA) atlas textures in Linear color space</b>. Please export your atlas textures as <span class="tt">straight alpha</span> textures with disabled <span class="tt">Premultiply alpha</span> setting when using Linear color space. You can check the current color space via <span class="tt">Project Settings - <a class="el" href="class_player.html">Player</a> - Other Settings - Color Space.</span>.</li>
<li><b>Example:</b> You can find an example scene in the package under <span class="tt">com.esotericsoftware.spine.urp-shaders-3.8/Examples/URP Shaders.unity</span> that demonstrates usage of the URP shaders.</li>
</ul>
</li>
<li><a class="el" href="namespace_spine.html">Spine</a> Preferences now provide an <b><span class="tt">Atlas Texture Settings</span></b> parameter for applying customizable texture import settings at all newly imported <a class="el" href="namespace_spine.html">Spine</a> atlas textures. When exporting atlas textures from <a class="el" href="namespace_spine.html">Spine</a> with <span class="tt">Premultiply alpha</span> enabled (the default), you can leave it at <span class="tt">PMATexturePreset</span>. If you have disabled <span class="tt">Premultiply alpha</span>, set it to the included <span class="tt">StraightAlphaTexturePreset</span> asset. You can also create your own <span class="tt">TextureImporter</span> <span class="tt">Preset</span> asset and assign it here (include <span class="tt">PMA</span> or <span class="tt">Straight</span> in the name). In Unity versions before 2018.3 you can use <span class="tt">Texture2D</span> template assets instead of the newer <span class="tt">Preset</span> assets. Materials created for imported textures will also have the <span class="tt">Straight Alpha Texture</span> parameter configured accordingly.</li>
<li>All <span class="tt">Sprite</span> shaders (including URP and LWRP extension packages) now provide an additional <span class="tt">Fixed Normal Space</span> option <span class="tt">World-Space</span>. PReviously options were limited to <span class="tt">View-Space</span> and <span class="tt">Model-Space</span>.</li>
<li><span class="tt">SkeletonGraphic</span> now fully supports <a href="http://esotericsoftware.com/spine-unity#SkeletonUtility"><span class="tt">SkeletonUtility</span></a> for generating a hierarchy of <a href="http://esotericsoftware.com/spine-unity#SkeletonUtilityBone"><span class="tt">SkeletonUtilityBones</span></a> in both modes <span class="tt">Follow</span> and <span class="tt">Override</span>. This also enables creating hinge chain physics rigs and using <span class="tt">SkeletonUtilityConstraints</span> such as <span class="tt">SkeletonUtilityGroundConstraint</span> and <span class="tt">SkeletonUtilityEyeConstraint</span> on <span class="tt">SkeletonGraphic</span>.</li>
<li>Added <span class="tt">OnMeshAndMaterialsUpdated</span> callback event to <span class="tt">SkeletonRenderer</span> and <span class="tt">SkeletonGraphic</span>. It is issued at the end of <span class="tt">LateUpdate</span>, before rendering.</li>
<li>Added <span class="tt">Skeleton-OutlineOnly</span> single pass shader to LWRP and URP extension modules. It can be assigned to materials as <span class="tt">Universal Render Pipeline/Spine/Outline/Skeleton-OutlineOnly</span>. This allows for separate outline child <em>GameObjects</em> that reference the existing Mesh of their parent, and re-draw the mesh using this outline shader.</li>
<li>Added example component <span class="tt">RenderExistingMesh</span> to render a mesh again with different materials, as required by the new <span class="tt">Skeleton-OutlineOnly</span> shaders. In URP the outline has to be rendered via a separate GameObject as URP does not allow multiple render passes. To add an outline to your SkeletenRenderer:<ol type="1">
<li>Add a child GameObject and move it a bit back (e.g. position Z = 0.01).</li>
<li>Add a <span class="tt">RenderExistingMesh</span> component, provided in the <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Examples/Scripts/Sample Components</span> directory.</li>
<li>Copy the original material, add __Outline_ to its name and set the shader to <span class="tt">Universal Render Pipeline/Spine/Outline/Skeleton-OutlineOnly</span>.</li>
<li>Assign this __Outline_ material at the <span class="tt">RenderExistingMesh</span> component under <em>Replacement Materials</em>.</li>
</ol>
</li>
<li>Added <span class="tt">Outline Shaders URP</span> example scene to URP extension module to demonstrate the above additions.</li>
<li>Added support for Unity's <a href="https://docs.unity3d.com/Manual/class-SpriteAtlas.html"><span class="tt">SpriteAtlas</span></a> as atlas provider (as an alternative to <span class="tt">.atlas.txt</span> and <span class="tt">.png</span> files) alongside a skeleton data file. There is now an additional <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> SpriteAtlas Import</span> tool window accessible via <span class="tt">Window - <a class="el" href="namespace_spine.html">Spine</a> - SpriteAtlas Import</span>. Additional information can be found in a new section on the <a href="http://esotericsoftware.com/spine-unity#Advanced---Using-Unity-SpriteAtlas-as-Atlas-Provider">spine-unity documentation page</a>.</li>
<li>Added support for <b>multiple atlas textures at <span class="tt">SkeletonGraphic</span></b>. You can enable this feature by enabling the parameter <span class="tt">Multiple CanvasRenders</span> in the <span class="tt">Advanced</span> section of the <span class="tt">SkeletonGraphic</span> Inspector. This automatically creates the required number of child <span class="tt">CanvasRenderer</span> GameObjects for each required draw call (submesh).</li>
<li>Added support for <b>Render Separator Slots</b> at <span class="tt">SkeletonGraphic</span>. Render separation can be enabled directly in the <span class="tt">Advanced</span> section of the <span class="tt">SkeletonGraphic</span> Inspector, it does not require any additional components (like <span class="tt">SkeletonRenderSeparator</span> or <span class="tt">SkeletonPartsRenderer</span> for <span class="tt">SkeletonRenderer</span> components). When enabled, additional separator GameObjects will be created automatically for each separation part, and <span class="tt">CanvasRenderer</span> GameObjects re-parented to them accordingly. The separator GameObjects can be moved around and re-parented in the hierarchy according to your requirements to achieve the desired draw order within your <span class="tt">Canvas</span>. A usage example can be found in the updated <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Examples/Other Examples/SkeletonRenderSeparator</span> scene.</li>
<li>Added <span class="tt">SkeletonGraphicCustomMaterials</span> component, providing functionality to override materials and textures of a <span class="tt">SkeletonGraphic</span>, similar to <span class="tt">SkeletonRendererCustomMaterials</span>. Note: overriding materials or textures per slot is not provided due to structural limitations.</li>
<li>Added <b>Root Motion support</b> for <span class="tt">SkeletonAnimation</span>, <span class="tt">SkeletonMecanim</span> and <span class="tt">SkeletonGraphic</span> via new components <span class="tt">SkeletonRootMotion</span> and <span class="tt">SkeletonMecanimRootMotion</span>. The <span class="tt">SkeletonAnimation</span> and <span class="tt">SkeletonGraphic</span> component Inspector now provides a line <span class="tt">Root Motion</span> with <span class="tt">Add Component</span> and <span class="tt">Remove Component</span> buttons to add/remove the new <span class="tt">SkeletonRootMotion</span> component to your GameObject. The <span class="tt">SkeletonMecanim</span> Inspector detects whether root motion is enabled at the <span class="tt">Animator</span> component and adds a <span class="tt">SkeletonMecanimRootMotion</span> component automatically.</li>
<li><span class="tt">SkeletonMecanim</span> now provides an additional <span class="tt">Custom MixMode</span> parameter under <span class="tt">Mecanim Translator</span>. It is enabled by default in version 3.8 to maintain current behaviour, using the set <span class="tt">Mix Mode</span> for each Mecanim layer. When disabled, <span class="tt">SkeletonMecanim</span> will use the recommended <span class="tt">MixMode</span> according to the layer blend mode. Additional information can be found in the <a href="http://esotericsoftware.com/spine-unity#Parameters-for-animation-blending-control">Mecanim Translator section</a> on the spine-unity documentation pages.</li>
<li>Added <b>SkeletonGraphic Timeline support</b>. Added supprot for multi-track Timeline preview in the Editor outside of play mode (multi-track scrubbing). See the <a href="http://esotericsoftware.com/spine-unity#Timeline-Extension-UPM-Package">Timeline-Extension-UPM-Package</a> section of the spine-unity documentation for more information.</li>
<li>Added support for double-sided lighting at all <span class="tt">SkeletonLit</span> shaders (including URP and LWRP packages).</li>
<li>Added frustum culling update mode parameters <span class="tt">Update When Invisible</span> (Inspector parameter) and <span class="tt">UpdateMode</span> (available via code) to all Skeleton components. This provides a simple way to disable certain updates when the <span class="tt">Renderer</span> is no longer visible (outside all cameras, culled in frustum culling). The new <span class="tt">UpdateMode</span> property allows disabling updates at a finer granularity level than disabling the whole component. Available modes are: <span class="tt">Nothing</span>, <span class="tt">OnlyAnimationStatus</span>, <span class="tt">EverythingExceptMesh</span> and <span class="tt">FullUpdate</span>.</li>
<li>Added a new <span class="tt">Spine/Outline/OutlineOnly-ZWrite</span> shader to provide correct outline-only rendering. Note: the shader requires two render passes and is therefore not compatible with URP. The <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Examples/Other Examples/Outline Shaders</span> example scene has been updated to demonstrate the new shader.</li>
<li>Added <span class="tt">OnMeshAndMaterialsUpdated</span> callback event to <span class="tt">SkeletonRenderSeparator</span> and <span class="tt">SkeletonPartsRenderer</span>. It is issued at the end of <span class="tt">LateUpdate</span>, before rendering.</li>
<li>Added <span class="tt">Root Motion Scale X/Y</span> parameters to <span class="tt">SkeletonRootMotionBase</span> subclasses (<span class="tt">SkeletonRootMotion</span> and <span class="tt">SkeletonMecanimRootMotion</span>). Also providing <span class="tt">AdjustRootMotionToDistance()</span> and other methods to allow for easy delta compensation. Delta compensation can be used to e.g. stretch a jump to a given distance. Root motion can be adjusted at the start of an animation or every frame via <span class="tt">skeletonRootMotion.AdjustRootMotionToDistance(targetPosition - transform.position, trackIndex);</span>.</li>
<li>Now providing a <span class="tt">Canvas Group Tint Black</span> parameter at the <span class="tt">SkeletonGraphic</span> Inspector in the <span class="tt">Advanced</span> section. When using the <span class="tt">Spine/SkeletonGraphic Tint Black</span> shader you can enable this parameter to receive proper blending results when using <span class="tt">Additive</span> blend mode under a <span class="tt">CanvasGroup</span>. Be sure to also have the parameter <span class="tt">CanvasGroup Compatible</span> enabled at the shader. Note that the normal <span class="tt">Spine/SkeletonGraphic</span> does not support <span class="tt">Additive</span> blend mode at a <span class="tt">CanvasGroup</span>, as it requires additional shader channels to work.</li>
<li>Added <span class="tt">Mix and Match Skins</span> example scene to demonstrate how the 3.8 Skin API and combining skins can be used for a wardrobe and equipment use case.</li>
<li><a class="el" href="namespace_spine.html">Spine</a> Timeline Extensions: Added <span class="tt">Hold Previous</span> parameter at <span class="tt">SpineAnimationStateClip</span>.</li>
<li>Added more warning messages at incompatible SkeletonRenderer/SkeletonGraphic Component vs Material settings. They appear both as an info box in the Inspector as well as upon initialization in the Console log window. The Inspector box warnings can be disabled via <span class="tt">Edit - Preferences - <a class="el" href="namespace_spine.html">Spine</a></span>.</li>
<li>Now providing <span class="tt">BeforeApply</span> update callbacks at all skeleton animation components (<span class="tt">SkeletonAnimation</span>, <span class="tt">SkeletonMecanim</span> and <span class="tt">SkeletonGraphic</span>).</li>
<li>Added <span class="tt">BoundingBoxFollowerGraphic</span> component. This class is a counterpart of <span class="tt">BoundingBoxFollower</span> that can be used with <span class="tt">SkeletonGraphic</span>.</li>
<li>Added Inspector context menu functions <span class="tt">SkeletonRenderer - Add all BoundingBoxFollower GameObjects</span> and <span class="tt">SkeletonGraphic - Add all BoundingBoxFollowerGraphic GameObjects</span> that automatically generate bounding box follower GameObjects for every <span class="tt">BoundingBoxAttachment</span> for all skins of a skeleton.</li>
<li><span class="tt">GetRemappedClone()</span> now provides an additional parameter <span class="tt">pivotShiftsMeshUVCoords</span> for <span class="tt">MeshAttachment</span> to prevent uv shifts at a non-central Sprite pivot. This parameter defaults to <span class="tt">true</span> to maintain previous behaviour.</li>
<li><span class="tt">SkeletonRenderer</span> components now provide an additional update mode <span class="tt">Only Event Timelines</span> at the <span class="tt">Update When Invisible</span> property. This mode saves additional timeline updates compared to update mode <span class="tt">Everything Except Mesh</span>.</li>
<li>Now all URP (Universal Render Pipeline) and LWRP (Lightweight Render Pipeline) shaders support SRP (Scriptable Render Pipeline) batching. See <a href="https://docs.unity3d.com/Manual/SRPBatcher.html">Unity SRPBatcher documentation pages</a> for additional information.</li>
<li>Sprite shaders now provide four <span class="tt">Diffuse Ramp</span> modes as an Inspector Material parameter: <span class="tt">Hard</span>, <span class="tt">Soft</span>, <span class="tt">Old Hard</span> and <span class="tt">Old Soft</span>. In spine-unity 3.8 it defaults to <span class="tt">Old Hard</span> to keep the behaviour of existing projects unchanged. From 4.0 on it defaults to <span class="tt">Hard</span> for newly created materials while existing ones remain unchanged. Note that <span class="tt">Old Hard</span> and <span class="tt">Old Soft</span> ramp versions were using only the right half of the ramp texture, and additionally multiplying the light intensity by 2, both leading to brighter lighting than without a ramp texture active. The new ramp modes <span class="tt">Hard</span> and <span class="tt">Soft</span> use the full ramp texture and do not modify light intensity, being consistent with lighting without a ramp texture active.</li>
<li>Added <b>native support for slot blend modes</b> <span class="tt">Additive</span>, <span class="tt">Multiply</span> and <span class="tt">Screen</span> with automatic assignment at newly imported skeleton assets. <span class="tt">BlendModeMaterialAssets</span> are now obsolete and replaced by the native properties at <span class="tt">SkeletonDataAsset</span>. The <span class="tt">SkeletonDataAsset</span> Inspector provides a new <span class="tt">Blend Modes - Upgrade</span> button to upgrade an obsolete <span class="tt">BlendModeMaterialAsset</span> to the native blend modes properties. This upgrade will be performed automatically on imported and re-imported assets in Unity 2020.1 and newer to prevent reported <span class="tt">BlendModeMaterialAsset</span> issues in these Unity versions. spine-unity 4.0 and newer will automatically perform this upgrade regardless of the Unity version.</li>
<li><span class="tt">BoneFollower</span> and <span class="tt">BoneFollowerGraphic</span> components now provide better support for following bones when the skeleton's Transform is not the parent of the follower's Transform. Previously e.g. rotating a common parent Transform did not lead to the desired result, as well as negatively scaling a skeleton's Transform when it is not a parent of the follower's Transform.</li>
<li>URP and LWRP <span class="tt">Sprite</span> and <span class="tt">SkeletonLit</span> shaders no longer require <span class="tt">Advanced - Add Normals</span> enabled to properly cast and receive shadows. It is recommended to disable <span class="tt">Add Normals</span> if normals are otherwise not needed.</li>
<li>Added an example component <span class="tt">RootMotionDeltaCompensation</span> located in <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Examples/Scripts/Sample Components</span> which can be used for applying simple delta compensation. You can enable and disable the component to toggle delta compensation of the currently playing animation on and off.</li>
<li>Root motion delta compensation now allows to only adjust X or Y components instead of both. Adds two parameters to <span class="tt">SkeletonRootMotionBase.AdjustRootMotionToDistance()</span> which default to adjusting both X and Y as before. The <span class="tt">RootMotionDeltaCompensation</span> example component exposes these parameters as public attributes.</li>
<li>Root motion delta compensation now allows to also add translation root motion to e.g. adjust a horizontal jump upwards or downwards over time. This is necessary because a Y root motion of zero cannot be scaled to become non-zero.</li>
<li><span class="tt">Attachment.GetRemappedClone(Sprite)</span> method now provides an additional optional parameter <span class="tt">useOriginalRegionScale</span>. When set to <span class="tt">true</span>, the replaced attachment's scale is used instead of the Sprite's <span class="tt">Pixel per Unity</span> setting, allowing for more consistent scaling. <em>Note:</em> When remapping Sprites, be sure to set the Sprite's <span class="tt">Mesh Type</span> to <span class="tt">Full Rect</span> and not <span class="tt">Tight</span>, otherwise the scale will be wrong.</li>
</ul>
</li>
<li><b>Changes of default values</b><ul>
<li><span class="tt">SkeletonMecanim</span>'s <span class="tt">Layer Mix Mode</span> now defaults to <span class="tt">MixMode.MixNext</span> instead of <span class="tt">MixMode.MixAlways</span>.</li>
<li><span class="tt">BlendModeMaterialAsset</span> and it's instance <span class="tt">Default BlendModeMaterials.asset</span> now have <span class="tt">Apply Additive Material</span> set to <span class="tt">true</span> by default in order to apply all blend modes by default.</li>
</ul>
</li>
<li><b>Deprecated</b><ul>
<li>Deprecated <span class="tt">Modules/SlotBlendModes/SlotBlendModes</span> component. Changed namespace from <span class="tt">Spine.Unity.Modules</span> to <span class="tt">Spine.Unity.Deprecated</span>. Moved to <span class="tt">Deprecated/SlotBlendModes</span>.</li>
</ul>
</li>
<li><p class="startli"><b>Restructuring (Non-Breaking)</b></p>
<p class="startli">Note: The following changes will most likely not affect users of the Spine-Unity runtime as the API remains unchanged and no references are invalidated.</p><ul>
<li>Removed duplicates of <span class="tt">.cginc</span> files in <span class="tt">Modules/Shaders/Sprite</span> that were also present in the <span class="tt">Modules/Shaders/Sprite/CGIncludes</span> directory.</li>
<li>Moved shaders from <span class="tt">Modules/Shaders</span> to <span class="tt">Shaders</span> directory.</li>
<li>Moved shaders from <span class="tt">Modules/SkeletonGraphic/Shaders</span> to <span class="tt">Shaders/SkeletonGraphic</span>.</li>
<li>Renamed shader <span class="tt">Shaders/Spine-SkeletonLit.shader</span> to <span class="tt">Shaders/Spine-Skeleton-Lit.shader</span>.</li>
<li>Moved components from <span class="tt">SkeletonGraphic</span> to <span class="tt">Components</span> and <span class="tt">Components/Following</span> except for <span class="tt">SkeletonGraphicMirror</span> which was moved to <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Examples/Scripts/Sample Components</span>.</li>
<li>Moved <span class="tt">BoneFollower</span>, <span class="tt">BoneFollowerGraphic</span> and <span class="tt">PointFollower</span> from <span class="tt">Components</span> directory to <span class="tt">Components/Following</span>.</li>
<li>Moved <span class="tt">BoundingBoxFollower</span> component from <span class="tt">Modules/BoundingBoxFollower</span> to <span class="tt">Components/Following</span>.</li>
<li>Moved <span class="tt">Modules/SkeletonRenderSeparator</span> directory to <span class="tt">Components/SkeletonRenderSeparator</span>.</li>
<li>Moved <span class="tt">Modules/CustomMaterials</span> directory to <span class="tt">Components/SkeletonRendererCustomMaterials</span>.</li>
<li>Moved <span class="tt">Asset Types/BlendModeMaterialsAsset.cs</span> class, <span class="tt">Shaders/BlendModes/Default BlendModeMaterials.asset</span> and materials from <span class="tt">Shaders/BlendModes</span> to <span class="tt">SkeletonDataModifierAssets/BlendModeMaterials</span> directory.</li>
<li>Moved <span class="tt">Modules/Ghost</span> directory to <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Examples/Scripts/Sample Components/Ghost</span>.</li>
<li>Moved <span class="tt">Modules/SkeletonUtility Modules</span> directory to <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Examples/Scripts/Sample Components/SkeletonUtility Modules</span>.</li>
<li>Moved <span class="tt">Modules/AnimationMatchModifier</span> directory to <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Examples/Scripts/MecanimAnimationMatchModifier</span>.</li>
<li>Moved <span class="tt">SkeletonRagdoll</span> and <span class="tt">SkeletonRagdoll2D</span> components from <span class="tt">Modules/Ragdoll</span> directory to <span class="tt"><a class="el" href="namespace_spine.html">Spine</a> Examples/Scripts/Sample Components/SkeletonUtility Modules</span>.</li>
<li>Moved <span class="tt">AttachmentTools.cs</span> to <span class="tt">Utility</span> directory.</li>
<li>Split the file <span class="tt">AttachmentTools</span> into 5 separate files for each contained class. No namespace or other API changes performed.</li>
<li>Split the file <span class="tt">Mesh Generation/SpineMesh</span> into 4 separate files for each contained class. No namespace or other API changes performed.</li>
<li>Moved <span class="tt"><a class="el" href="_skeleton_extensions_8cs_source.html">SkeletonExtensions.cs</a></span> to <span class="tt">Utility</span> directory.</li>
<li>Moved <span class="tt">Modules/YieldInstructions</span> directory to <span class="tt">Utility/YieldInstructions</span>.</li>
<li>Moved corresponding editor scripts of the above components to restructured directories as well.</li>
<li>Renamed inspector editor class <span class="tt">PointFollowerEditor</span> to <span class="tt">PointFollowerInspector</span> for consistency reasons.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md77"></a>
XNA/MonoGame</h3>
<ul>
<li>Updated to latest MonoGame version 3.7.1</li>
<li>Rewrote example project to be cleaner and better demonstrate basic <a class="el" href="namespace_spine.html">Spine</a> features.</li>
<li>Added mix-and-match example to demonstrate the new Skin API.</li>
<li>Added normalmap support via <span class="tt">SpineEffectNormalmap</span> and support for loading multiple texture layers following a suffix-pattern. Please see the example code on how to use them.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md78"></a>
Java</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li>Renamed <span class="tt">Slot#getAttachmentVertices()</span> to <span class="tt">Slot#getDeform()</span>.</li>
<li>Changed the <span class="tt">.json</span> curve format and added more assumptions for omitted values, reducing the average size of JSON exports.</li>
<li>Renamed <span class="tt">Skin#addAttachment()</span> to <span class="tt">Skin#setAttachment()</span>.</li>
<li>Removed <span class="tt">VertexAttachment#applyDeform()</span> and replaced it with <span class="tt">VertexAttachment#deformAttachment</span>. The attachment set on this field is used to decide if a <span class="tt">DeformTimeline</span> should be applied to the attachment active on the slot to which the timeline is applied.</li>
<li>Removed <span class="tt">inheritDeform</span> field, getter, and setter from <span class="tt">MeshAttachment</span>.</li>
<li>Changed <span class="tt">.skel</span> binary format, added a string table. References to strings in the data resolve to this string table, reducing storage size of binary files considerably.</li>
<li><span class="tt">JsonRollback</span> tool now converts from 3.8 JSON to 3.7.</li>
<li>Changed the <span class="tt">.json</span> and <span class="tt">.skel</span> file formats to accomodate the new feature and file size optimiations. Old projects must be exported with <a class="el" href="namespace_spine.html">Spine</a> 3.8.20+ to be compatible with the 3.8 <a class="el" href="namespace_spine.html">Spine</a> runtimes.</li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added <span class="tt">x</span> and <span class="tt">y</span> coordinates for setup pose AABB in <span class="tt">SkeletonData</span>.</li>
<li>Added support for rotated mesh region UVs.</li>
<li>Added skin-specific bones and constraints which are only updated if the skeleton's current skin contains them.</li>
<li>Improved Skin API to make it easier to handle mix-and-match use cases.<ul>
<li>Added <span class="tt">Skin#getAttachments()</span>. Returns all attachments in the skin.</li>
<li>Added <span class="tt">Skin#getAttachments(int slotIndex)</span>. Returns all attachements in the skin for the given slot index.</li>
<li>Added <span class="tt">Skin#addSkin(Skin skin)</span>. Adds all attachments, bones, and skins from the specified skin to this skin.</li>
<li>Added <span class="tt">Skin#copySkin(Skin skin)</span>. Adds all attachments, bones, and skins from the specified skin to this skin. <span class="tt">VertexAttachment</span> are shallowly copied and will retain any parent mesh relationship. All other attachment types are deep copied.</li>
</ul>
</li>
<li>Added <span class="tt">Attachment#copy()</span> to all attachment type implementations. This lets you deep copy an attachment to modify it independently from the original, i.e. when programmatically changing texture coordinates or mesh vertices.</li>
<li>Added <span class="tt">MeshAttachment#newLinkedMesh()</span>, creates a linked mesh linkted to either the original mesh, or the parent of the original mesh.</li>
<li>Added IK softness.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md79"></a>
libGDX</h3>
<ul>
<li><span class="tt">SkeletonViewer</span> can load a skeleton by specifying it as the first argument on the command line.</li>
<li>Added mix-and-match example to demonstrate the new Skin API.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md80"></a>
Lua</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li>Renamed <span class="tt">Slot:getAttachmentVertices()</span> to <span class="tt">Slot#deform</span>.</li>
<li>Changed the <span class="tt">.json</span> curve format and added more assumptions for omitted values, reducing the average size of JSON exports.</li>
<li>Renamed <span class="tt">Skin:addAttachment()</span> to <span class="tt">Skin#setAttachment()</span>.</li>
<li>Removed <span class="tt">VertexAttachment:applyDeform()</span> and replaced it with <span class="tt">VertexAttachment#deformAttachment</span>. The attachment set on this field is used to decide if a <span class="tt">DeformTimeline</span> should be applied to the attachment active on the slot to which the timeline is applied.</li>
<li>Removed <span class="tt">inheritDeform</span> field, getter, and setter from <span class="tt">MeshAttachment</span>.</li>
<li>Changed the <span class="tt">.json</span> file format to accomodate the new feature and file size optimiations. Old projects must be exported with <a class="el" href="namespace_spine.html">Spine</a> 3.8.20+ to be compatible with the 3.8 <a class="el" href="namespace_spine.html">Spine</a> runtimes.</li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added <span class="tt">x</span> and <span class="tt">y</span> coordinates for setup pose AABB in <span class="tt">SkeletonData</span>.</li>
<li>Added support for rotated mesh region UVs.</li>
<li>Added skin-specific bones and constraints which are only updated if the skeleton's current skin contains them.</li>
<li>Improved Skin API to make it easier to handle mix-and-match use cases.<ul>
<li>Added <span class="tt">Skin:getAttachments()</span>. Returns all attachments in the skin.</li>
<li>Added <span class="tt">Skin:getAttachments(slotIndex)</span>. Returns all attachements in the skin for the given slot index.</li>
<li>Added <span class="tt">Skin:addSkin(Skin skin)</span>. Adds all attachments, bones, and skins from the specified skin to this skin.</li>
<li>Added <span class="tt">Skin:copySkin(Skin skin)</span>. Adds all attachments, bones, and skins from the specified skin to this skin. <span class="tt">VertexAttachment</span> are shallowly copied and will retain any parent mesh relationship. All other attachment types are deep copied.</li>
</ul>
</li>
<li>Added <span class="tt">Attachment:copy()</span> to all attachment type implementations. This lets you deep copy an attachment to modify it independently from the original, i.e. when programmatically changing texture coordinates or mesh vertices.</li>
<li>Added <span class="tt">MeshAttachment:newLinkedMesh()</span>, creates a linked mesh linkted to either the original mesh, or the parent of the original mesh.</li>
<li>Added IK softness.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md81"></a>
Love2D</h3>
<ul>
<li>Added support for 0-1 RGBA color component range change in Lve 0.11+. Older Lve versions using the 0-255 range are still supported!</li>
<li>Added mix-and-match example to demonstrate the new Skin API.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md82"></a>
Corona</h3>
<ul>
<li>Added mix-and-match example to demonstrate the new Skin API.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md83"></a>
Typescript/Javascript</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li>Renamed <span class="tt">MixDirection.in/out</span> to <span class="tt">MixDirection.mixIn/mixOut</span> as it was crashing a JS compressor.</li>
<li>Renamed <span class="tt">Slot#getAttachmentVertices()</span> to <span class="tt">Slot#getDeform()</span>.</li>
<li>Changed the <span class="tt">.json</span> curve format and added more assumptions for omitted values, reducing the average size of JSON exports.</li>
<li>Renamed <span class="tt">Skin#addAttachment()</span> to <span class="tt">Skin#setAttachment()</span>.</li>
<li>Removed <span class="tt">VertexAttachment#applyDeform()</span> and replaced it with <span class="tt">VertexAttachment#deformAttachment</span>. The attachment set on this field is used to decide if a <span class="tt">DeformTimeline</span> should be applied to the attachment active on the slot to which the timeline is applied.</li>
<li>Removed <span class="tt">inheritDeform</span> field, getter, and setter from <span class="tt">MeshAttachment</span>.</li>
<li>Changed <span class="tt">.skel</span> binary format, added a string table. References to strings in the data resolve to this string table, reducing storage size of binary files considerably.</li>
<li>Changed the <span class="tt">.json</span> and <span class="tt">.skel</span> file formats to accomodate the new feature and file size optimiations. Old projects must be exported with <a class="el" href="namespace_spine.html">Spine</a> 3.8.20+ to be compatible with the 3.8 <a class="el" href="namespace_spine.html">Spine</a> runtimes.</li>
<li>Updated runtime to be compatible with TypeScript 3.6.3.</li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added support for loading binary data via <span class="tt">AssetManager#loadBinary()</span>. <span class="tt">AssetManager#get()</span> will return a <span class="tt">Uint8Array</span> for such assets.</li>
<li>Added support for loading binaries via new <span class="tt">SkeletonBinary</span>. Parses a <span class="tt">Uint8Array</span>.</li>
<li>Added <span class="tt">x</span> and <span class="tt">y</span> coordinates for setup pose AABB in <span class="tt">SkeletonData</span>.</li>
<li>Added support for rotated mesh region UVs.</li>
<li>Added skin-specific bones and constraints which are only updated if the skeleton's current skin contains them.</li>
<li>Improved Skin API to make it easier to handle mix-and-match use cases.<ul>
<li>Added <span class="tt">Skin#getAttachments()</span>. Returns all attachments in the skin.</li>
<li>Added <span class="tt">Skin#getAttachments(slotIndex: number)</span>. Returns all attachements in the skin for the given slot index.</li>
<li>Added <span class="tt">Skin#addSkin(skin: Skin)</span>. Adds all attachments, bones, and skins from the specified skin to this skin.</li>
<li>Added <span class="tt">Skin#copySkin(skin: Skin)</span>. Adds all attachments, bones, and skins from the specified skin to this skin. <span class="tt">VertexAttachment</span> are shallowly copied and will retain any parent mesh relationship. All other attachment types are deep copied.</li>
</ul>
</li>
<li>Added <span class="tt">Attachment#copy()</span> to all attachment type implementations. This lets you deep copy an attachment to modify it independently from the original, i.e. when programmatically changing texture coordinates or mesh vertices.</li>
<li>Added <span class="tt">MeshAttachment#newLinkedMesh()</span>, creates a linked mesh linkted to either the original mesh, or the parent of the original mesh.</li>
<li>Added IK softness.</li>
<li>Added <span class="tt">AssetManager.setRawDataURI(path, data)</span>. Allows to embed data URIs for skeletons, atlases and atlas page images directly in the HTML/JS without needing to load it from a separate file.</li>
<li>Added <span class="tt">AssetManager.loadAll()</span> to allow Promise/async/await based waiting for completion of asset load. See the <span class="tt">spine-canvas</span> examples.</li>
<li>Added <span class="tt">Skeleton.getBoundRect()</span> helper method to calculate the bouding rectangle of the current pose, returning the result as <span class="tt">{ x, y, width, height }</span>. Note that this method will create temporary objects which can add to garbage collection pressure.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md84"></a>
WebGL backend</h3>
<ul>
<li><span class="tt">Input</span> can now take a partially defined implementation of <span class="tt">InputListener</span>.</li>
<li>Added mix-and-match example to demonstrate the new Skin API.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md85"></a>
Canvas backend</h3>
<h3 class="doxsection"><a class="anchor" id="autotoc_md86"></a>
Three.js backend</h3>
<ul>
<li><span class="tt">SkeletonMesh</span> now takes an optional <span class="tt">SkeletonMeshMaterialParametersCustomizer</span> function that allows you to modify the <span class="tt">ShaderMaterialParameters</span> before the material is finalized. Use it to modify things like THREEJS' <span class="tt">Material.depthTest</span> etc. See #1590.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md87"></a>
Player</h3>
<ul>
<li><span class="tt">SpinePlayer#setAnimation()</span> can now be called directly to set the animation being displayed.</li>
<li>The player supports loading <span class="tt">.skel</span> binary skeleton files by setting the <span class="tt">SpinePlayerConfig#skelUrl</span> field instead of <span class="tt">SpinePlayerConfig#jsonUrl</span>.</li>
<li>Added <span class="tt">SpinePlayerConfig#rawDataURIs</span>. Allows to embed data URIs for skeletons, atlases and atlas page images directly in the HTML/JS without needing to load it from a separate file. See the example for a demonstration.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md88"></a>
3.7</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md89"></a>
AS3</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li>The completion event will fire for looped 0 duration animations every frame.</li>
<li><span class="tt">MixPose</span> is now called <span class="tt">MixBlend</span></li>
<li>Skeleton <span class="tt">flipX/flipY</span> has been replaced with <span class="tt">scaleX/scaleY</span>. This cleans up applying transforms and is more powerful. Allows scaling a whole skeleton which has bones that disallow scale inheritance</li>
<li>Mix time is no longer affected by <span class="tt">TrackEntry#timeScale</span>. See <a href="https://github.com/EsotericSoftware/spine-runtimes/issues/1194">https://github.com/EsotericSoftware/spine-runtimes/issues/1194</a></li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added additive animation blending. When playing back multiple animations on different tracks, where each animation modifies the same skeleton property, the results of tracks with lower indices are discarded, and only the result from the track with the highest index is used. With animation blending, the results of all tracks are mixed together. This allows effects like mixing multiple facial expressions (angry, happy, sad) with percentage mixes. By default the old behaviour is retained (results from lower tracks are discarded). To enable additive blending across animation tracks, call <span class="tt">TrackEntry#setMixBlend(MixBlend.add)</span> on each track. To specify the blend percentage, set <span class="tt">TrackEntry#alpha</span>. See <a href="http://esotericsoftware.com/forum/morph-target-track-animation-mix-mode-9459">http://esotericsoftware.com/forum/morph-target-track-animation-mix-mode-9459</a> for a discussion.</li>
<li>Support for stretchy IK</li>
<li>Support for audio events, see <span class="tt">audioPath</span>, <span class="tt">volume</span> and <span class="tt">balance</span> fields on event (data).</li>
<li><span class="tt">TrackEntry</span> has an additional field called <span class="tt">holdPrevious</span>. It can be used to counter act a limitation of <span class="tt">AnimationState</span> resulting in "dipping" of parts of the animation. For a full discussion of the problem and the solution we've implemented, see this <a href="http://esotericsoftware.com/forum/Probably-Easy-Animation-mixing-with-multiple-tracks-10682?p=48130&amp;hilit=holdprevious#p48130">forum thread</a>.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md90"></a>
Starling</h3>
<ul>
<li>Added support for vertex effects. See <span class="tt">RaptorExample.as</span></li>
<li>Added 'getTexture()' method to 'StarlingTextureAtlasAttachmentLoader'</li>
<li>Breaking change: if a skeleton requires two color tinting, you have to enable it via <span class="tt">SkeletonSprite.twoColorTint = true</span>. In this case the skeleton will use the <span class="tt">TwoColorMeshStyle</span>, which internally uses a different vertex layout and shader. This means that skeletons with two color tinting enabled will break batching and hence increase the number of draw calls in your app.</li>
<li>Added <span class="tt">VertexEffect</span> and implementations <span class="tt">JitterEffect</span> and <span class="tt">SwirlEffect</span>. Allows you to modify vertices before they are submitted for drawing. See Starling changes.</li>
<li>Fix issues with StarlingAtlasAttachmentLoader, see <a href="https://github.com/EsotericSoftware/spine-runtimes/issues/939">https://github.com/EsotericSoftware/spine-runtimes/issues/939</a></li>
<li>Fix issues with region trimming support, see <a href="https://github.com/EsotericSoftware/spine-runtimes/commit/262bc26c64d4111002d80e201cb1a3345e6727df">https://github.com/EsotericSoftware/spine-runtimes/commit/262bc26c64d4111002d80e201cb1a3345e6727df</a></li>
<li>Added support for overriding <span class="tt">StarlingAtlasAttachmentLoader#getTexture()</span>, see <a href="https://github.com/EsotericSoftware/spine-runtimes/commit/ea7dbecb98edc74e439aa9ef90dcf6eed865f718">https://github.com/EsotericSoftware/spine-runtimes/commit/ea7dbecb98edc74e439aa9ef90dcf6eed865f718</a></li>
<li>Texture atlas operations are no longer handled in <span class="tt">Starling#newRegionAttachment</span> and <span class="tt">Starling#newMeshAttachment</span> but delegated to the atlas.</li>
<li>Added sample for additive animation blending, see <a href="https://github.com/EsotericSoftware/spine-runtimes/blob/6a556de01429878df47bb276a97959a8bdbbe32f/spine-starling/spine-starling-example/src/spine/examples/OwlExample.as">https://github.com/EsotericSoftware/spine-runtimes/blob/6a556de01429878df47bb276a97959a8bdbbe32f/spine-starling/spine-starling-example/src/spine/examples/OwlExample.as</a></li>
<li>Added sample on how to use bounding box attachment vertices <a href="https://github.com/EsotericSoftware/spine-runtimes/commit/e20428b02699226164fa73ba4b12f7d029ae6f4d">https://github.com/EsotericSoftware/spine-runtimes/commit/e20428b02699226164fa73ba4b12f7d029ae6f4d</a></li>
<li>Fully transparent meshes are not submitted for rendering.</li>
<li>No hit-tests are performed when a skeleton is invisible.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md91"></a>
C</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li>Listeners on <span class="tt">spAnimationState</span> and <span class="tt">spTrackEntry</span> will now also be called if a track entry gets disposed as part of disposing an animation state.</li>
<li>The completion event will fire for looped 0 duration animations every frame.</li>
<li>The spine-cocos2dx and spine-ue4 runtimes are now based on spine-cpp. See below for changes.</li>
<li>Skeleton <span class="tt">flipX/flipY</span> has been replaced with <span class="tt">scaleX/scaleY</span>. This cleans up applying transforms and is more powerful. Allows scaling a whole skeleton which has bones that disallow scale inheritance</li>
<li>Mix time is no longer affected by <span class="tt">TrackEntry#timeScale</span>. See <a href="https://github.com/EsotericSoftware/spine-runtimes/issues/1194">https://github.com/EsotericSoftware/spine-runtimes/issues/1194</a></li>
<li><span class="tt">spMeshAttachment</span> has two new fields <span class="tt">regionTextureWith</span> and <span class="tt">regionTextureHeight</span>. These must be set in custom attachment loader. See <span class="tt">AtlasAttachmentLoader</span>.</li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added support for local and relative transform constraint calculation, including additional fields in <span class="tt">spTransformConstraintData</span>.</li>
<li><span class="tt">Animation#apply</span> and <span class="tt"> Timeline#apply`` now take enums  </span>MixPose<span class="tt">and</span>MixDirection<span class="tt"> instead of booleans</span></li>
<li><span class="tt">Added </span>spVertexEffect<span class="tt"> and corresponding implementations </span>spJitterVertexEffect<span class="tt"> and </span>spSwirlVertexEffect<span class="tt">. Create/dispose through the corresponding </span>spXXXVertexEffect_create()/dispose()<span class="tt"> functions. Set on framework/engine specific renderer.</span></li>
<li><span class="tt">Functions in </span>extension.h<span class="tt"> are not prefixed with </span>_sp<span class="tt"> instead of just </span>_<span class="tt"> to avoid interference with other libraries.</span></li>
<li><span class="tt">Introduced </span>SP_API<span class="tt"> macro. Every spine-c function is prefixed with this macro. By default, it is an empty string. Can be used to markup spine-c functions with e.g. ``__declspec</span> when compiling to a dll or linking to that dll.</li>
<li>Added <span class="tt">void *userData</span> to <span class="tt">spAnimationState</span>to be consumed in callbacks.</li>
<li>Added additive animation blending. When playing back multiple animations on different tracks, where each animation modifies the same skeleton property, the results of tracks with lower indices are discarded, and only the result from the track with the highest index is used. With animation blending, the results of all tracks are mixed together. This allows effects like mixing multiple facial expressions (angry, happy, sad) with percentage mixes. By default the old behaviour is retained (results from lower tracks are discarded). To enable additive blending across animation tracks, call <span class="tt">spTrackEntry-&gt;mixBlend = SP_MIXBLEND_ADD)</span> on each track. To specify the blend percentage, set <span class="tt">spTrackEntry-&gt;alpha</span>. See <a href="http://esotericsoftware.com/forum/morph-target-track-animation-mix-mode-9459">http://esotericsoftware.com/forum/morph-target-track-animation-mix-mode-9459</a> for a discussion.</li>
<li>Optimized attachment lookup to give a 40x speed-up. See <a href="https://github.com/EsotericSoftware/spine-runtimes/commit/cab81276263890b65d07fa2329ace16db1e365ff">https://github.com/EsotericSoftware/spine-runtimes/commit/cab81276263890b65d07fa2329ace16db1e365ff</a></li>
<li>Support for stretchy IK</li>
<li>Support for audio events, see <span class="tt">audioPath</span>, <span class="tt">volume</span> and <span class="tt">balance</span> fields on event (data).</li>
<li><span class="tt">spTrackEntry</span> has an additional field called <span class="tt">holdPrevious</span>. It can be used to counter act a limitation of <span class="tt">AnimationState</span> resulting in "dipping" of parts of the animation. For a full discussion of the problem and the solution we've implemented, see this <a href="http://esotericsoftware.com/forum/Probably-Easy-Animation-mixing-with-multiple-tracks-10682?p=48130&amp;hilit=holdprevious#p48130">forum thread</a>.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md92"></a>
Cocos2d-Objc</h3>
<ul>
<li>Added vertex effect support to modify vertices of skeletons on the CPU. See <span class="tt">RaptorExample.m</span>.</li>
<li>Explanation how to handle ARC, see <a href="https://github.com/EsotericSoftware/spine-runtimes/commit/a4f122b08c5e2a51d6aad6fc5a947f7ec31f2eb8">https://github.com/EsotericSoftware/spine-runtimes/commit/a4f122b08c5e2a51d6aad6fc5a947f7ec31f2eb8</a></li>
<li>The super class <span class="tt">::update()</span> method of <span class="tt">SkeletonRenderer</span> is now called, see <a href="https://github.com/EsotericSoftware/spine-runtimes/commit/f7bb98185236a6d8f35bfefc70afe4f31e9ec9d2">https://github.com/EsotericSoftware/spine-runtimes/commit/f7bb98185236a6d8f35bfefc70afe4f31e9ec9d2</a></li>
<li>Added improved tint-black shader.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md93"></a>
SFML</h3>
<ul>
<li><span class="tt">spine-sfml.h</span> no longer defines <span class="tt">SPINE_SHORT_NAMES</span> to avoid collisions with other APIs. See #1058.</li>
<li>Added support for vertex effects. See raptor example.</li>
<li>Added premultiplied alpha support to <span class="tt">SkeletonDrawable</span>. Use <span class="tt">SkeletonDrawable::setUsePremultipliedAlpha()</span>, see <a href="https://github.com/EsotericSoftware/spine-runtimes/commit/34086c1f41415309b2ecce86055f6656fcba2950">https://github.com/EsotericSoftware/spine-runtimes/commit/34086c1f41415309b2ecce86055f6656fcba2950</a></li>
<li>Added additive animation blending sample, see <a href="https://github.com/EsotericSoftware/spine-runtimes/blob/b7e712d3ca1d6be3ebcfe3254dc2cea9c44dda71/spine-sfml/example/main.cpp#L369">https://github.com/EsotericSoftware/spine-runtimes/blob/b7e712d3ca1d6be3ebcfe3254dc2cea9c44dda71/spine-sfml/example/main.cpp#L369</a></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md94"></a>
C++</h2>
<ul>
<li>** Additions **<ul>
<li>Added C++ <a class="el" href="namespace_spine.html">Spine</a> runtime. See the <a href="https://esotericsoftware.com/spine-cpp">spine-cpp Runtime Guide</a> for more information on spine-cpp.</li>
<li>Added parsing of non-essential data (fps, images path, audio path) to for <span class="tt">.json</span>/<span class="tt">.skel</span> parsers.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md95"></a>
Cocos2d-x</h3>
<ul>
<li>Added ETC1 alpha support, thanks @halx99! Does not work when two color tint is enabled.</li>
<li>Added <span class="tt">spAtlasPage_setCustomTextureLoader()</span> which let's you do texture loading manually. Thanks @jareguo.</li>
<li>Added <span class="tt">SkeletonRenderer:setSlotsRange()</span> and <span class="tt">SkeletonRenderer::createWithSkeleton()</span>. This allows you to split rendering of a skeleton up into multiple parts, and render other nodes in between. See <span class="tt">SkeletonRendererSeparatorExample.cpp</span> for an example.</li>
<li>Fully transparent attachments will not be rendered, improving rendering performance.</li>
<li>Added improved tint-black shader.</li>
<li>Updated to cocos2d-x 3.16</li>
<li>The skeleton setup pose and world transform are now calculated on initialization to avoid flickering on start-up.</li>
<li>Updated to cocos2d-x 3.17.1</li>
<li><b>Breaking change</b>: Switched from [spine-c](spine-c) to [spine-cpp](spine-cpp) as the underlying <a class="el" href="namespace_spine.html">Spine</a> runtime. See the <a href="https://esotericsoftware.com/spine-cpp">spine-cpp Runtime Guide</a> for more information on spine-cpp.<ul>
<li>Added <span class="tt">Cocos2dAttachmentLoader</span> to be used when constructing an <span class="tt">Atlas</span>. Used by default by <span class="tt">SkeletonAnimation</span> and <span class="tt">SkeletonRenderer</span> when creating instances via the <span class="tt">createXXX</span> methods.</li>
<li>All C structs and enums <span class="tt">spXXX</span> have been replaced with their C++ equivalents <span class="tt">spine::XXX</span> in all public interfaces.</li>
<li>All instantiations via <span class="tt">new</span> of C++ classes from spine-cpp should contain <span class="tt">(__FILE__, __LINE__)</span>. This allows the tracking of instantations and detection of memory leaks via the <span class="tt">spine::DebugExtension</span>.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md96"></a>
SFML</h3>
<ul>
<li>Create a second SFML backend using <a href="spine-cpp/">spine-cpp</a>. See the <a href="https://esotericsoftware.com/spine-cpp">spine-cpp Runtime Guide</a> for more information on spine-cpp.</li>
<li>Added support for vertex effects. See raptor example.</li>
<li>Added premultiplied alpha support to <span class="tt">SkeletonDrawable</span>. Use <span class="tt">SkeletonDrawable::setUsePremultipliedAlpha()</span>, see <a href="https://github.com/EsotericSoftware/spine-runtimes/commit/34086c1f41415309b2ecce86055f6656fcba2950">https://github.com/EsotericSoftware/spine-runtimes/commit/34086c1f41415309b2ecce86055f6656fcba2950</a></li>
<li>Added additive animation blending sample, see <a href="https://github.com/EsotericSoftware/spine-runtimes/blob/b7e712d3ca1d6be3ebcfe3254dc2cea9c44dda71/spine-sfml/example/main.cpp#L369">https://github.com/EsotericSoftware/spine-runtimes/blob/b7e712d3ca1d6be3ebcfe3254dc2cea9c44dda71/spine-sfml/example/main.cpp#L369</a></li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md97"></a>
UE4</h3>
<ul>
<li>spine-c is now exposed from the plugin shared library on Windows via __declspec.</li>
<li>Updated to Unreal Engine 4.18</li>
<li>Added C++ example, see <a href="https://github.com/EsotericSoftware/spine-runtimes/commit/15011e81b7061495dba45e28b4d3f4efb10d7f40">https://github.com/EsotericSoftware/spine-runtimes/commit/15011e81b7061495dba45e28b4d3f4efb10d7f40</a></li>
<li><span class="tt">SkeletonRendererComponent</span> generates collision meshes by default.</li>
<li>Disabled generation of collision meshes by <span class="tt">SkeletonRendererComponent</span>. Both <span class="tt">ProceduralMeshComponent</span> and <span class="tt">RuntimeMeshComponent</span> have a bug that generates a new PhysiX file every frame per component. Users are advised to add a separate collision shape to the root scene component of an actor instead.</li>
<li>Using UE4 <span class="tt">FMemory</span> allocator by default. This should fix issues on some consoles.</li>
<li><b>Breaking change</b> moved away from <span class="tt">RuntimeMeshComponent</span>, as its maintainance has seized, back to <span class="tt">ProceduralMeshComponent</span>. Existing projects should just work. However, if you run into issues, you may have to remove the old <span class="tt">SpineSkeletonRendererComponent</span> and add a new one to your existing actors.</li>
<li><b>Breaking change</b> due to the removal of <span class="tt">RuntimeMeshComponent</span> and reversal to <span class="tt">ProceduralMeshComponent</span>, two color tinting is currently not supported. <span class="tt">ProceduralMeshComponent</span> does not support enough vertex attributes for us to encode the second color in the vertex stream. You can remove the <span class="tt">RuntimeMeshComponent/</span> directory from your plugins directory and remove the component from any <span class="tt">build.cs</span> files that may reference it.</li>
<li><b>Breaking change</b>: Switched from [spine-c](spine-c) to [spine-cpp](spine-cpp) as the underlying <a class="el" href="namespace_spine.html">Spine</a> runtime. See the <a href="https://esotericsoftware.com/spine-cpp">spine-cpp Runtime Guide</a> for more information on spine-cpp.</li>
<li>All C structs and enums <span class="tt">spXXX</span> have been replaced with their C++ equivalents <span class="tt">spine::XXX</span> in all public interfaces.</li>
<li>All instantiations via <span class="tt">new</span> of C++ classes from spine-cpp should contain <span class="tt">(__FILE__, __LINE__)</span>. This allows the tracking of instantations and detection of memory leaks via the <span class="tt">spine::DebugExtension</span>.</li>
<li>Updated to Unreal Engine 4.20 (samples require 4.17+), see the <span class="tt">spine-ue4/Plugins/SpinePlugin/Source/SpinePlugin/SpinePlugin.build.cs</span> file on how to compile in 4.20 with the latest UBT API changes.</li>
<li>Updated to Unreal Engine 4.21 (samples require 4.21).</li>
<li><b>Breaking change</b>: <span class="tt">UBoneDriverComponent</span> and <span class="tt">UBoneFollowerComponent</span> are now <span class="tt">USceneComponent</span> instead of <span class="tt">UActorComponent</span>. They either update only themselves, or also the owning <span class="tt">UActor</span>, depending on whether the new flag <span class="tt">UseComponentTransform</span> is set. See <a href="https://github.com/EsotericSoftware/spine-runtimes/pull/1175">https://github.com/EsotericSoftware/spine-runtimes/pull/1175</a></li>
<li>Added query methods for slots, bones, skins and animations to <span class="tt">SpineSkeletonComponent</span> and <span class="tt">UTrackEntry</span>. These allow you to query these objects by name in both C++ and blueprints.</li>
<li>Added <span class="tt">Preview Animation</span> and <span class="tt">Preview Skin</span> properties to <span class="tt">SpineSkeletonAnimationComponent</span>. Enter an animation or skin name to live-preview it in the editor. Enter an empty string to reset the animation or skin.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md98"></a>
C</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li>The completion event will fire for looped 0 duration animations every frame.</li>
<li>Skeleton <span class="tt">flipX/flipY</span> has been replaced with <span class="tt">scaleX/scaleY</span>. This cleans up applying transforms and is more powerful. Allows scaling a whole skeleton which has bones that disallow scale inheritance</li>
<li>Mix time is no longer affected by <span class="tt">TrackEntry#timeScale</span>. See <a href="https://github.com/EsotericSoftware/spine-runtimes/issues/1194">https://github.com/EsotericSoftware/spine-runtimes/issues/1194</a></li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added additive animation blending. When playing back multiple animations on different tracks, where each animation modifies the same skeleton property, the results of tracks with lower indices are discarded, and only the result from the track with the highest index is used. With animation blending, the results of all tracks are mixed together. This allows effects like mixing multiple facial expressions (angry, happy, sad) with percentage mixes. By default the old behaviour is retained (results from lower tracks are discarded). To enable additive blending across animation tracks, call <span class="tt">TrackEntry#MixBlend = MixBlend.add</span> on each track. To specify the blend percentage, set <span class="tt">TrackEntry#Alpha</span>. See <a href="http://esotericsoftware.com/forum/morph-target-track-animation-mix-mode-9459">http://esotericsoftware.com/forum/morph-target-track-animation-mix-mode-9459</a> for a discussion.</li>
<li>Support for stretchy IK</li>
<li>Support for audio events, see <span class="tt">audioPath</span>, <span class="tt">volume</span> and <span class="tt">balance</span> fields on event (data).</li>
<li><span class="tt">TrackEntry</span> has an additional field called <span class="tt">holdPrevious</span>. It can be used to counter act a limitation of <span class="tt">AnimationState</span> resulting in "dipping" of parts of the animation. For a full discussion of the problem and the solution we've implemented, see this <a href="http://esotericsoftware.com/forum/Probably-Easy-Animation-mixing-with-multiple-tracks-10682?p=48130&amp;hilit=holdprevious#p48130">forum thread</a>.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md99"></a>
Unity</h3>
<ul>
<li><b>Runtime and Editor, and Assembly Definition</b> Files and folders have been reorganized into "Runtime" and "Editor". Each of these have an <span class="tt">.asmdef</span> file that defines these separately as their own assembly in Unity <em>(Note: <a class="el" href="namespace_spine.html">Spine</a> <span class="tt">.asmdef</span> files are currently deactivated to <span class="tt">.txt</span> extension, see below)</em>. For projects not using assembly definition, you may delete the <span class="tt">.asmdef</span> files. These assembly definitions will be ignored by older versions of Unity that don't support it.<ul>
<li>In this scheme, the entirety of the base spine-csharp runtime is inside the "Runtime" folder, to be compiled in the same assembly as spine-unity so they can continue to share internal members.</li>
</ul>
</li>
<li><b><a class="el" href="namespace_spine.html">Spine</a> <span class="tt">.asmdef</span> files are now deactivated (using <span class="tt">.txt</span> extension) by default</b> This prevents problems when updating <a class="el" href="namespace_spine.html">Spine</a> through unitypackages, overwriting the Timeline reference entry in <span class="tt">spine-unity.asmdef</span> (added automatically when enabling Unity 2019 Timeline support, see <span class="tt">Timeline Support for Unity 2019</span>), causing compile errors. In case you want to enable the <span class="tt">.asmdef</span> files, rename the files: <span class="tt">Spine/Runtime/spine-unity.txt</span> to <span class="tt">Spine/Runtime/spine-unity.asmdef</span> and <span class="tt">Spine/Editor/spine-unity-editor.txt</span> to <span class="tt">Spine/Editor/spine-unity-editor.asmdef</span>.</li>
<li><b>SkeletonAnimator is now SkeletonMecanim</b> The Spine-Unity Mecanim-driven component <span class="tt">SkeletonAnimator</span> has been renamed <span class="tt">SkeletonMecanim</span> to make it more autocomplete-friendly and more obvious at human-glance. The .meta files and guids should remain intact so existing projects and prefabs should not break. However, user code needs to be updated to use <span class="tt">SkeletonMecanim</span>.</li>
<li><b>SpineAtlasAsset</b> The existing <span class="tt">AtlasAsset</span> type has been renamed to <span class="tt">SpineAtlasAsset</span> to signify that it specifically uses a Spine/libGDX atlas as its source. Serialization should be intact but user code will need to be updated to refer to existing atlases as <span class="tt">SpineAtlasAsset</span>.<ul>
<li><b>AtlasAssetBase</b> <span class="tt">SpineAtlasAsset</span> now has an abstract base class called <span class="tt">SpineAtlasAsset</span>. This is the base class to derive when using alternate atlas sources. Existing SkeletonDataAsset field "atlasAssets" now have the "AtlasAssetBase" type. Serialization should be intact, but user code will need to be updated to refer to the atlas assets accordingly.</li>
<li>This change is in preparation for alternate atlas options such as Unity's SpriteAtlas.</li>
</ul>
</li>
<li><b>Optional Straight Alpha for shaders</b> Spine-Unity's included Unity shaders now have a <span class="tt">_STRAIGHT_ALPHA_INPUT</span> shader_feature, toggled as a checkbox in the Material's inspector. This allows the Material to use a non-premultiplied alpha/straight alpha input texture.<ul>
<li>The following shaders now have the "Straight Alpha Texture" checkbox when used on a material:<ul>
<li><span class="tt">Spine/Skeleton</span></li>
<li><span class="tt">Spine/Skeleton Tint Black</span></li>
<li><span class="tt">Spine/Skeleton Lit</span></li>
<li><span class="tt">Spine/Skeleton Tint</span></li>
<li><span class="tt">Spine/Skeleton Fill</span></li>
<li><span class="tt">Spine/SkeletonGraphic (Premultiply Alpha)</span> was renamed to <span class="tt">Spine/SkeletonGraphic</span></li>
<li><span class="tt">Spine/SkeletonGraphic Tint Black (Premultiply Alpha)</span> was renamed to <span class="tt">Spine/SkeletonGraphic Tint Black</span></li>
<li><span class="tt">Spine/Skeleton PMA Multiply</span></li>
<li><span class="tt">Spine/Skeleton PMA Screen</span></li>
</ul>
</li>
<li>Dedicated straight alpha shaders were removed from the runtime.<ul>
<li><span class="tt">Spine/Straight Alpha/Skeleton Fill</span></li>
<li><span class="tt">Spine/Straight Alpha/Skeleton Tint</span></li>
</ul>
</li>
</ul>
</li>
<li><b>Detection of Incorrect Texture Settings</b> Especially when atlas textures are exported with setting <span class="tt">Premultiply alpha</span> enabled, it is important to configure Unity's texture import settings correctly. By default, you will now receive warnings where texture settings are expected to cause incorrect rendering.<ul>
<li>The following rules apply:<ul>
<li><span class="tt">sRGB (Color Texture)</span> shall be disabled when <span class="tt">Generate Mip Maps</span> is enabled, otherwise you will receive white border outlines.</li>
<li><span class="tt">Alpha Is Transparency</span> shall be disabled on <span class="tt">Premultiply alpha</span> textures, otherwise you will receive light ghosting artifacts in transparent areas.</li>
</ul>
</li>
<li>These warnings can be disabled in <span class="tt">Edit - Preferences - <a class="el" href="namespace_spine.html">Spine</a></span>.</li>
</ul>
</li>
<li><b>Sprite Mask Support for all Included Shaders</b> The <span class="tt">Skeleton Animation</span> and <span class="tt">Skeleton Mecanim</span> components now provide an additional <span class="tt">Mask Interaction</span> field in the Inspector, covering identical functionality as Unity's built in <span class="tt">Sprite Renderer</span> component:<ul>
<li><span class="tt">Mask Interaction</span> modes:<ul>
<li><span class="tt">None</span> - The sprite will not interact with the masking system. Default behavior.</li>
<li><span class="tt">Visible Inside Mask</span> - The sprite will be visible only in areas where a mask is present.</li>
<li><span class="tt">Visible Outside Mask</span> - The sprite will be visible only in areas where no mask is present.</li>
</ul>
</li>
<li><span class="tt">Automatically Generated Materials</span> When switching <span class="tt">Mask Interaction</span> modes in the Inspector outside of Play mode, the required additional material assets are generated for the respective <span class="tt">Stencil Compare</span> parameters - with file suffixes <span class="tt">'_InsideMask'</span> and <span class="tt">'_OutsideMask'</span>, placed in the same folder as the original materials. By default all generated materials are kept as references by the <span class="tt">Skeleton Animation</span> component for switching at runtime. These materials can be managed and optimized via the <span class="tt">SkeletonAnimation</span>'s <span class="tt">Advanced</span> section:<ul>
<li>Using the <span class="tt">Clear</span> button you can clear the reference to unneeded materials,</li>
<li>Using the <span class="tt">Delete</span> button the respective assets are deleted as well as references cleared. Note that other <span class="tt">Skeleton Animation</span> GameObjects might still reference the materials, so use with caution!</li>
<li>With the <span class="tt">Set</span> button you can again assign a link to the respective materials to prepare them for runtime use. If the materials were not present or have been deleted, they are generated again based on the default materials.</li>
</ul>
</li>
<li>When switching <span class="tt">Mask Interaction</span> mode at runtime, the previously prepared materials are switched active automatically. When the respective materials have not been prepared, material copies of the default materials are created on the fly. Note that these materials are not shared between similar <span class="tt">Skeleton Animation</span> GameObjects, so it is recommended to use the generated material assets where possible.</li>
<li><b>Every shader now exposes the <span class="tt">Stencil Compare</span> parameter</b> for further customization. This way you have maximum flexibility to use custom mechanisms to switch materials at runtime if you should ever need more than the three materials generated by <span class="tt">Skeleton Animation</span>'s <span class="tt">Mask Interaction</span> parameter. Reference <span class="tt">Stencil Compare</span> values are:<ul>
<li><span class="tt">CompareFunction.Disabled</span> for <span class="tt">Mask Interaction - None</span></li>
<li><span class="tt">CompareFunction.LessEqual</span> for <span class="tt">Mask Interaction - Visible Inside Mask</span></li>
<li><span class="tt">CompareFunction.Greater</span> for <span class="tt">Mask Interaction - Visible Outside Mask</span></li>
</ul>
</li>
</ul>
</li>
<li><b>RectMask2D Support for SkeletonGraphic</b> Both <span class="tt">SkeletonGraphic</span> shaders '<span class="tt">Spine/SkeletonGraphic</span>' and '<span class="tt">Spine/SkeletonGraphic Tint Black</span>' now respect masking areas defined via Unity's <span class="tt">RectMask2D</span> component.</li>
<li><b>Timeline Support for Unity 2019</b> using the existing Timeline components. By default, all <a class="el" href="namespace_spine.html">Spine</a> Timeline components are deactivated in Unity 2019 and <b>can be activated via the <a class="el" href="namespace_spine.html">Spine</a> Preferences menu</b>. This step became necessary because in Unity 2019, Timeline has been moved to a separate Package and is no longer included in the Unity core. Please visit <span class="tt">Edit - Preferences - <a class="el" href="namespace_spine.html">Spine</a></span> and at <span class="tt">Timeline Package Support</span> hit <span class="tt">Enable</span> to automatically perform all necessary steps to activate the Timeline components. This will automatically:<ol type="1">
<li>download the Unity Timeline package</li>
<li>activate the <a class="el" href="namespace_spine.html">Spine</a> Timeline components by setting the compile definition <span class="tt">SPINE_TIMELINE_PACKAGE_DOWNLOADED</span> for all platforms</li>
<li>modify the <span class="tt">spine-unity.asmdef</span> file by adding the reference to the Unity Timeline library.</li>
</ol>
</li>
<li>Added <span class="tt">Create 2D Hinge Chain</span> functionality at <span class="tt">SkeletonUtilityBone</span> inspector, previously only <span class="tt">Create 3D Hinge Chain</span> was available.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md100"></a>
XNA/MonoGame</h3>
<ul>
<li>Added support for any <span class="tt">Effect</span> to be used by <span class="tt">SkeletonRenderer</span></li>
<li>Added support for <span class="tt">IVertexEffect</span> to modify vertices of skeletons on the CPU. <span class="tt">IVertexEffect</span> instances can be set on the <span class="tt">SkeletonRenderer</span>. See example project.</li>
<li>Added <span class="tt">SkeletonDebugRenderer</span></li>
<li>Made <span class="tt">MeshBatcher</span> of SkeletonRenderer accessible via a getter. Allows user to batch their own geometry together with skeleton meshes for maximum batching instead of using XNA SpriteBatcher.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md101"></a>
Java</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li>Skeleton attachments: Moved update of attached skeleton out of libGDX <span class="tt">SkeletonRenderer</span>, added overloaded method <span class="tt">Skeleton#updateWorldTransform(Bone)</span>, used for <span class="tt">SkeletonAttachment</span>. You now MUST call this new method with the bone of the parent skeleton to which the child skeleton is attached. See <span class="tt">SkeletonAttachmentTest</span> for and example.</li>
<li>The completion event will fire for looped 0 duration animations every frame.</li>
<li><span class="tt">MixPose</span> is now called <span class="tt">MixBlend</span>.</li>
<li>Skeleton <span class="tt">flipX/flipY</span> has been replaced with <span class="tt">scaleX/scaleY</span>. This cleans up applying transforms and is more powerful. Allows scaling a whole skeleton which has bones that disallow scale inheritance</li>
<li>Mix time is no longer affected by <span class="tt">TrackEntry#timeScale</span>. See <a href="https://github.com/EsotericSoftware/spine-runtimes/issues/1194">https://github.com/EsotericSoftware/spine-runtimes/issues/1194</a></li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added <span class="tt">EventData#audioPath</span> field. This field contains the file name of the audio file used for the event.</li>
<li>Added convenience method to add all attachments from one skin to another, see <a href="https://github.com/EsotericSoftware/spine-runtimes/commit/a0b7bb6c445efdfac12b0cdee2057afa3eff3ead">https://github.com/EsotericSoftware/spine-runtimes/commit/a0b7bb6c445efdfac12b0cdee2057afa3eff3ead</a></li>
<li>Added additive animation blending. When playing back multiple animations on different tracks, where each animation modifies the same skeleton property, the results of tracks with lower indices are discarded, and only the result from the track with the highest index is used. With animation blending, the results of all tracks are mixed together. This allows effects like mixing multiple facial expressions (angry, happy, sad) with percentage mixes. By default the old behaviour is retained (results from lower tracks are discarded). To enable additive blending across animation tracks, call <span class="tt">TrackEntry#setMixBlend(MixBlend.add)</span> on each track. To specify the blend percentage, set <span class="tt">TrackEntry#alpha</span>. See <a href="http://esotericsoftware.com/forum/morph-target-track-animation-mix-mode-9459">http://esotericsoftware.com/forum/morph-target-track-animation-mix-mode-9459</a> for a discussion.</li>
<li>Support for stretchy IK</li>
<li>Support for audio events, see <span class="tt">audioPath</span>, <span class="tt">volume</span> and <span class="tt">balance</span> fields on event (data).</li>
<li><span class="tt">TrackEntry</span> has an additional field called <span class="tt">holdPrevious</span>. It can be used to counter act a limitation of <span class="tt">AnimationState</span> resulting in "dipping" of parts of the animation. For a full discussion of the problem and the solution we've implemented, see this <a href="http://esotericsoftware.com/forum/Probably-Easy-Animation-mixing-with-multiple-tracks-10682?p=48130&amp;hilit=holdprevious#p48130">forum thread</a>.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md102"></a>
libGDX</h3>
<ul>
<li>Added <span class="tt">VertexEffect</span> interface, instances of which can be set on <span class="tt">SkeletonRenderer</span>. Allows to modify vertices before submitting them to GPU. See <span class="tt">SwirlEffect</span>, <span class="tt">JitterEffect</span> and <span class="tt">VertexEffectTest</span>.</li>
<li>Added improved tint-black shader.</li>
<li>Improved performance by avoiding batch flush when not switching between normal and additive rendering with PMA</li>
<li>Improvements to skeleton viewer.</li>
<li><span class="tt">TwoColorPolygonBatch</span> implements the <span class="tt">Batch</span> interface, allowing to the be used with other libGDX classes that require a batcher for drawing, potentially improving performance. See <a href="https://github.com/EsotericSoftware/spine-runtimes/commit/a46b3d1d0c135d51f9bef9ca17a5f8e5dda69927">https://github.com/EsotericSoftware/spine-runtimes/commit/a46b3d1d0c135d51f9bef9ca17a5f8e5dda69927</a></li>
<li>Added <span class="tt">SkeletonDrawable</span> to render skeletons in scene2d <a class="el" href="namespace_u_i.html">UI</a> <a href="https://github.com/EsotericSoftware/spine-runtimes/commit/b93686c185e2c9d5466969a8e07eee573ebe4b97">https://github.com/EsotericSoftware/spine-runtimes/commit/b93686c185e2c9d5466969a8e07eee573ebe4b97</a></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md103"></a>
Lua</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li>The completion event will fire for looped 0 duration animations every frame.</li>
<li>Skeleton <span class="tt">flipX/flipY</span> has been replaced with <span class="tt">scaleX/scaleY</span>. This cleans up applying transforms and is more powerful. Allows scaling a whole skeleton which has bones that disallow scale inheritance</li>
<li>Mix time is no longer affected by <span class="tt">TrackEntry#timeScale</span>. See <a href="https://github.com/EsotericSoftware/spine-runtimes/issues/1194">https://github.com/EsotericSoftware/spine-runtimes/issues/1194</a></li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added <span class="tt">JitterEffect</span> and <span class="tt">SwirlEffect</span> and support for vertex effects in Corona and Love</li>
<li>Added additive animation blending. When playing back multiple animations on different tracks, where each animation modifies the same skeleton property, the results of tracks with lower indices are discarded, and only the result from the track with the highest index is used. With animation blending, the results of all tracks are mixed together. This allows effects like mixing multiple facial expressions (angry, happy, sad) with percentage mixes. By default the old behaviour is retained (results from lower tracks are discarded). To enable additive blending across animation tracks, call <span class="tt">TrackEntry:setMixBlend(MixBlend.add)</span> on each track. To specify the blend percentage, set <span class="tt">TrackEntry.alpha</span>. See <a href="http://esotericsoftware.com/forum/morph-target-track-animation-mix-mode-9459">http://esotericsoftware.com/forum/morph-target-track-animation-mix-mode-9459</a> for a discussion.</li>
<li>Support for stretchy IK</li>
<li>Support for audio events, see <span class="tt">audioPath</span>, <span class="tt">volume</span> and <span class="tt">balance</span> fields on event (data).</li>
<li><span class="tt">TrackEntry</span> has an additional field called <span class="tt">holdPrevious</span>. It can be used to counter act a limitation of <span class="tt">AnimationState</span> resulting in "dipping" of parts of the animation. For a full discussion of the problem and the solution we've implemented, see this <a href="http://esotericsoftware.com/forum/Probably-Easy-Animation-mixing-with-multiple-tracks-10682?p=48130&amp;hilit=holdprevious#p48130">forum thread</a>.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md104"></a>
Love2D</h3>
<ul>
<li>Added support for vertex effects. Set an implementation like "JitterEffect" on <span class="tt">Skeleton.vertexEffect</span>. See <span class="tt">main.lua</span> for an example.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md105"></a>
Corona</h3>
<ul>
<li>Added support for vertex effects. Set an implementation like "JitterEffect" on <span class="tt">SkeletonRenderer.vertexEffect</span>. See <span class="tt">main.lua</span> for an example</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md106"></a>
Typescript/Javascript</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li>The completion event will fire for looped 0 duration animations every frame.</li>
<li>Skeleton <span class="tt">flipX/flipY</span> has been replaced with <span class="tt">scaleX/scaleY</span>. This cleans up applying transforms and is more powerful. Allows scaling a whole skeleton which has bones that disallow scale inheritance</li>
<li>Mix time is no longer affected by <span class="tt">TrackEntry#timeScale</span>. See <a href="https://github.com/EsotericSoftware/spine-runtimes/issues/1194">https://github.com/EsotericSoftware/spine-runtimes/issues/1194</a></li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added <span class="tt">AssetManager.loadTextureAtlas</span>. Instead of loading the <span class="tt">.atlas</span> and corresponding image files manually, you can simply specify the location of the <span class="tt">.atlas</span> file and AssetManager will load the atlas and all its images automatically. <span class="tt">AssetManager.get("atlasname.atlas")</span> will then return an instance of <span class="tt">spine.TextureAtlas</span>.</li>
<li>Added additive animation blending. When playing back multiple animations on different tracks, where each animation modifies the same skeleton property, the results of tracks with lower indices are discarded, and only the result from the track with the highest index is used. With animation blending, the results of all tracks are mixed together. This allows effects like mixing multiple facial expressions (angry, happy, sad) with percentage mixes. By default the old behaviour is retained (results from lower tracks are discarded). To enable additive blending across animation tracks, call <span class="tt">TrackEntry#setMixBlend(MixBlend.add)</span> on each track. To specify the blend percentage, set <span class="tt">TrackEntry#alpha</span>. See <a href="http://esotericsoftware.com/forum/morph-target-track-animation-mix-mode-9459">http://esotericsoftware.com/forum/morph-target-track-animation-mix-mode-9459</a> for a discussion. See <a href="https://github.com/EsotericSoftware/spine-runtimes/blob/f045d221836fa56191ccda73dd42ae884d4731b8/spine-ts/webgl/tests/test-additive-animation-blending.html">https://github.com/EsotericSoftware/spine-runtimes/blob/f045d221836fa56191ccda73dd42ae884d4731b8/spine-ts/webgl/tests/test-additive-animation-blending.html</a> for an example.</li>
<li>Added work-around for iOS WebKit JIT bug, see <a href="https://github.com/EsotericSoftware/spine-runtimes/commit/c28bbebf804980f55cdd773fed9ff145e0e7e76c">https://github.com/EsotericSoftware/spine-runtimes/commit/c28bbebf804980f55cdd773fed9ff145e0e7e76c</a></li>
<li>Support for stretchy IK</li>
<li>Support for audio events, see <span class="tt">audioPath</span>, <span class="tt">volume</span> and <span class="tt">balance</span> fields on event (data).</li>
<li><span class="tt">TrackEntry</span> has an additional field called <span class="tt">holdPrevious</span>. It can be used to counter act a limitation of <span class="tt">AnimationState</span> resulting in "dipping" of parts of the animation. For a full discussion of the problem and the solution we've implemented, see this <a href="http://esotericsoftware.com/forum/Probably-Easy-Animation-mixing-with-multiple-tracks-10682?p=48130&amp;hilit=holdprevious#p48130">forum thread</a>.</li>
<li>Added <span class="tt">AssetManager#setRawDataURI(path, data)</span>. Allows to set raw data URIs for a specific path, which in turn enables embedding assets into JavaScript/HTML.</li>
<li><span class="tt">PolygonBatcher</span> will now disable <span class="tt">CULL_FACE</span> and restore the state as it was before rendering.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md107"></a>
WebGL backend</h3>
<ul>
<li>Added <span class="tt">VertexEffect</span> interface, instances of which can be set on <span class="tt">SkeletonRenderer</span>. Allows to modify vertices before submitting them to GPU. See <span class="tt">SwirlEffect</span>, <span class="tt">JitterEffect</span>, and the example which allows to set effects.</li>
<li>Added <span class="tt">slotRangeStart</span> and <span class="tt">slotRangeEnd</span> parameters to <span class="tt">SkeletonRenderer#draw</span> and <span class="tt">SceneRenderer#drawSkeleton</span>. This allows you to render only a range of slots in the draw order. See <span class="tt">spine-ts/webgl/tests/test-slot-range.html</span> for an example.</li>
<li>Added improved tint-black shader.</li>
<li>Added <span class="tt">SceneRenderer#drawTextureUV()</span>, allowing to draw a texture with manually specified texture coordinates.</li>
<li>Exposed all renderers in <span class="tt">SceneRenderer</span>.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md108"></a>
Canvas backend</h3>
<ul>
<li>Added support for shearing and non-uniform scaling inherited from parent bones.</li>
<li>Added support for alpha tinting.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md109"></a>
Three.js backend</h3>
<ul>
<li>Added <span class="tt">VertexEffect</span> interface, instances of which can be set on <span class="tt">SkeletonMesh</span>. Allows to modify vertices before submitting them to GPU. See <span class="tt">SwirlEffect</span>, <span class="tt">JitterEffect</span>.</li>
<li>Added support for multi-page atlases</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md110"></a>
Widget backend</h3>
<ul>
<li>Added fields <span class="tt">atlasContent</span>, <span class="tt">atlasPagesContent</span>, and <span class="tt">jsonContent</span> to <span class="tt">WidgetConfiguration</span> allowing you to directly pass the contents of the <span class="tt">.atlas</span>, atlas page <span class="tt">.png</span> files, and the <span class="tt">.json</span> file without having to do a request. See <span class="tt">README.md</span> and the example for details.</li>
<li><span class="tt">SpineWidget.setAnimation()</span> now takes an additional optional parameter for callbacks when animations are completed/interrupted/etc.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md111"></a>
3.6</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md112"></a>
AS3</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li>Removed <span class="tt">Bone.worldToLocalRotationX</span> and <span class="tt">Bone.worldToLocalRotationY</span>. Replaced by <span class="tt">Bone.worldToLocalRotation</span> (rotation given relative to x-axis, counter-clockwise, in degrees).</li>
<li>Made <span class="tt">Bone</span> fields <span class="tt">_a</span>, <span class="tt">_b</span>, <span class="tt">_c</span>, <span class="tt">_d</span>, <span class="tt">_worldX</span> and <span class="tt">_worldY</span> public, removed underscore prefix.</li>
<li>Removed <span class="tt">VertexAttachment.computeWorldVertices</span> overload, changed <span class="tt">VertexAttachment.computeWorldVertices2</span> to <span class="tt">VertexAttachment.computeWorldVertices</span>, added <span class="tt">stride</span> parameter.</li>
<li>Removed <span class="tt">RegionAttachment.vertices</span> field. The vertices array is provided to <span class="tt">RegionAttachment.computeWorldVertices</span> by the API user now.</li>
<li>Removed <span class="tt">RegionAttachment.updateWorldVertices</span>, added <span class="tt">RegionAttachment.computeWorldVertices</span>. The new method now computes the x/y positions of the 4 vertices of the corner and places them in the provided <span class="tt">worldVertices</span> array, starting at <span class="tt">offset</span>, then moving by <span class="tt">stride</span> array elements when advancing to the next vertex. This allows to directly compose the vertex buffer and avoids a copy. The computation of the full vertices, including vertex colors and texture coordinates, is now done by the backend's respective renderer.</li>
<li>Replaced <span class="tt">r</span>, <span class="tt">g</span>, <span class="tt">b</span>, <span class="tt">a</span> fields with instances of new <span class="tt">Color</span> class in <span class="tt">RegionAttachment</span>, <span class="tt">MeshAttachment</span>, <span class="tt">Skeleton</span>, <span class="tt">SkeletonData</span>, <span class="tt">Slot</span> and <span class="tt">SlotData</span>.</li>
<li>The completion event will fire for looped 0 duration animations every frame.</li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added <span class="tt">Skeleton.getBounds</span> from reference implementation.</li>
<li>Added support for local and relative transform constraint calculation, including additional fields in <span class="tt">TransformConstraintData</span></li>
<li>Added <span class="tt">Bone.localToWorldRotation</span>(rotation given relative to x-axis, counter-clockwise, in degrees).</li>
<li>Added two color tinting support, including <span class="tt">TwoColorTimeline</span> and additional fields on <span class="tt">Slot</span> and <span class="tt">SlotData</span>.</li>
<li>Added <span class="tt">PointAttachment</span>, additional method <span class="tt">newPointAttachment</span> in <span class="tt">AttachmentLoader</span> interface.</li>
<li>Added <span class="tt">ClippingAttachment</span>, additional method <span class="tt">newClippingAttachment</span> in <span class="tt">AttachmentLoader</span> interface.</li>
<li><span class="tt">AnimationState#apply</span> returns boolean indicating if any timeline was applied or not.</li>
<li><span class="tt">Animation#apply</span> and <span class="tt"> Timeline#apply`` now take enums  </span>MixPose<span class="tt">and</span>MixDirection<span class="tt"> instead of booleans</span></li>
<li><span class="tt">Added </span>VertexEffect<span class="tt"> and implementations </span>JitterEffect<span class="tt"> and </span>SwirlEffect`. Allows you to modify vertices before they are submitted for drawing. See Starling changes.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md113"></a>
Starling</h3>
<ul>
<li>Fixed renderer to work with 3.6 changes.</li>
<li>Added support for two color tinting.</li>
<li>Added support for clipping.</li>
<li>Added support for rotated regions in texture atlas loaded via StarlingAtlasAttachmentLoader.</li>
<li>Added support for vertex effects. See <span class="tt">RaptorExample.as</span></li>
<li>Added 'getTexture()' method to 'StarlingTextureAtlasAttachmentLoader'</li>
<li>Breaking change: if a skeleton requires two color tinting, you have to enable it via <span class="tt">SkeletonSprite.twoColorTint = true</span>. In this case the skeleton will use the <span class="tt">TwoColorMeshStyle</span>, which internally uses a different vertex layout and shader. This means that skeletons with two color tinting enabled will break batching and hence increase the number of draw calls in your app.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md114"></a>
C</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li><span class="tt">spVertexAttachment_computeWorldVertices</span> and <span class="tt">spRegionAttachment_computeWorldVerticeS</span> now take new parameters to make it possible to directly output the calculated vertex positions to a vertex buffer. Removes the need for additional copies in the backends' respective renderers.</li>
<li>Removed <span class="tt">spBoundingBoxAttachment_computeWorldVertices</span>, superseded by <span class="tt">spVertexAttachment_computeWorldVertices</span>.</li>
<li>Removed <span class="tt">spPathAttachment_computeWorldVertices</span> and <span class="tt">spPathAttachment_computeWorldVertices1</span>, superseded by <span class="tt">spVertexAttachment_computeWorldVertices</span>.</li>
<li>Removed <span class="tt">sp_MeshAttachment_computeWorldVertices</span>, superseded by <span class="tt">spVertexAttachment_computeWorldVertices</span>.</li>
<li>Removed <span class="tt">spBone_worldToLocalRotationX</span> and <span class="tt">spBone_worldToLocalRotationY</span>. Replaced by <span class="tt">spBone_worldToLocalRotation</span> (rotation given relative to x-axis, counter-clockwise, in degrees).</li>
<li>Replaced <span class="tt">r</span>, <span class="tt">g</span>, <span class="tt">b</span>, <span class="tt">a</span> fields with instances of new <span class="tt">spColor</span> struct in <span class="tt">spRegionAttachment</span>, <span class="tt">spMeshAttachment</span>, <span class="tt">spSkeleton</span>, <span class="tt">spSkeletonData</span>, <span class="tt">spSlot</span> and <span class="tt">spSlotData</span>.</li>
<li>Removed <span class="tt">spVertexIndex</span>from public API.</li>
<li>Listeners on <span class="tt">spAnimationState</span> or <span class="tt">spTrackEntry</span> will now be also called in case a track entry is disposed as part of dispoing the <span class="tt">spAnimationState</span>.</li>
<li>The completion event will fire for looped 0 duration animations every frame.</li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added support for local and relative transform constraint calculation, including additional fields in <span class="tt">spTransformConstraintData</span>.</li>
<li>Added <span class="tt">spPointAttachment</span>, additional method <span class="tt">spAtlasAttachmentLoadeR_newPointAttachment</span>.</li>
<li>Added support for local and relative transform constraint calculation, including additional fields in <span class="tt">TransformConstraintData</span></li>
<li>Added <span class="tt">spBone_localToWorldRotation</span>(rotation given relative to x-axis, counter-clockwise, in degrees).</li>
<li>Added two color tinting support, including <span class="tt">spTwoColorTimeline</span> and additional fields on <span class="tt">spSlot</span> and <span class="tt">spSlotData</span>.</li>
<li>Added <span class="tt">userData</span> field to <span class="tt">spTrackEntry</span>, so users can expose data in <span class="tt">spAnimationState</span> callbacks.</li>
<li>Modified kvec.h used by SkeletonBinary.c to use <a class="el" href="namespace_spine.html">Spine</a>'s MALLOC/FREE macros. That way there's only one place to inject custom allocators (<a href="https://github.com/EsotericSoftware/spine-runtimes/blob/master/spine-c/spine-c/include/spine/extension.h">extension.h</a>) <a href="https://github.com/EsotericSoftware/spine-runtimes/commit/c2cfbc6cb8709daa082726222d558188d75a004f">commit</a></li>
<li>Added macros to define typed dynamic arrays, see <span class="tt">Array.h/.c</span></li>
<li>Added <span class="tt">spClippingAttachment</span> and respective enum.</li>
<li>Added <span class="tt">spSkeletonClipper</span> and <span class="tt">spTriangulator</span>, used to implement software clipping of attachments.</li>
<li><span class="tt">AnimationState#apply</span> returns boolean indicating if any timeline was applied or not.</li>
<li><span class="tt">Animation#apply</span> and <span class="tt"> Timeline#apply`` now take enums  </span>MixPose<span class="tt">and</span>MixDirection<span class="tt"> instead of booleans</span></li>
<li><span class="tt">Added </span>spVertexEffect<span class="tt"> and corresponding implementations </span>spJitterVertexEffect<span class="tt"> and </span>spSwirlVertexEffect<span class="tt">. Create/dispose through the corresponding </span>spXXXVertexEffect_create()/dispose()<span class="tt"> functions. Set on framework/engine specific renderer. See changes for spine-c based frameworks/engines below.</span></li>
<li><span class="tt">Functions in </span>extension.h<span class="tt"> are not prefixed with </span>_sp<span class="tt"> instead of just </span>_<span class="tt"> to avoid interference with other libraries.</span></li>
<li><span class="tt">Introduced </span>SP_API<span class="tt"> macro. Every spine-c function is prefixed with this macro. By default, it is an empty string. Can be used to markup spine-c functions with e.g. ``__declspec</span> when compiling to a dll or linking to that dll.</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md115"></a>
Cocos2d-X</h3>
<ul>
<li>Fixed renderer to work with 3.6 changes</li>
<li>Optimized rendering by removing all per-frame allocation in <span class="tt">SkeletonRenderer</span>, resulting in 15% performance increase for large numbers of skeletons being rendered per frame.</li>
<li>Added support for two color tinting. Tinting is enabled/disabled per <span class="tt">SkeletonRenderer</span>/<span class="tt">SkeletonAnimation</span> instance. Use <span class="tt">SkeletonRenderer::setTwoColorTint()</span>. Note that two color tinting requires the use of a non-standard shader and vertex format. This means that skeletons rendered with two color tinting will break batching. However, skeletons with two color tinting enabled and rendered after each other will be batched.</li>
<li>Updated example to use Cocos2d-x 3.14.1.</li>
<li>Added mesh debug rendering. Enable/Disable via <span class="tt">SkeletonRenderer::setDebugMeshesEnabled()</span>.</li>
<li>Added support for clipping.</li>
<li>SkeletonRenderer now combines the displayed color of the Node (cascaded from all parents) with the skeleton color for tinting.</li>
<li>Added support for vertex effects. See <span class="tt">RaptorExample.cpp</span>.</li>
<li>Added ETC1 alpha support, thanks @halx99! Does not work when two color tint is enabled.</li>
<li>Added <span class="tt">spAtlasPage_setCustomTextureLoader()</span> which let's you do texture loading manually. Thanks @jareguo.</li>
<li>Added <span class="tt">SkeletonRenderer:setSlotsRange()</span> and <span class="tt">SkeletonRenderer::createWithSkeleton()</span>. This allows you to split rendering of a skeleton up into multiple parts, and render other nodes in between. See <span class="tt">SkeletonRendererSeparatorExample.cpp</span> for an example.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md116"></a>
Cocos2d-Objc</h3>
<ul>
<li>Fixed renderer to work with 3.6 changes</li>
<li>Added support for two color tinting. Tinting is enabled/disabled per <span class="tt">SkeletonRenderer/SkeletonAnimation.twoColorTint = true</span>. Note that two color tinted skeletons do not batch with other nodes.</li>
<li>Added support for clipping.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md117"></a>
SFML</h3>
<ul>
<li>Fixed renderer to work with 3.6 changes. Sadly, two color tinting does not work, as the vertex format in SFML is fixed.</li>
<li>Added support for clipping.</li>
<li>Added support for vertex effects. See raptor example.</li>
<li>Added premultiplied alpha support to <span class="tt">SkeletonDrawable</span>.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md118"></a>
Unreal Engine 4</h3>
<ul>
<li>Fixed renderer to work with 3.6 changes</li>
<li>Added new UPROPERTY to SpineSkeletonRendererComponent called <span class="tt">Color</span>. This allows to set the tint color of the skeleton in the editor, C++ and Blueprints. Under the hood, the <span class="tt">spSkeleton-&gt;color</span> will be set on every tick of the renderer component.</li>
<li>Added support for clipping.</li>
<li>Switched from built-in ProceduralMeshComponent to RuntimeMeshComponent by Koderz (<a href="https://github.com/Koderz/UE4RuntimeMeshComponent">https://github.com/Koderz/UE4RuntimeMeshComponent</a>, MIT). Needed for more flexibility regarding vertex format, should not have an impact on existing code/assets. You need to copy the RuntimeMeshComponentPlugin from our repository in <span class="tt">spine-ue4\Plugins\</span> to your project as well!</li>
<li>Added support for two color tinting. All base materials, e.g. SpineUnlitNormalMaterial, now do proper two color tinting. No material parameters have changed.</li>
<li>Updated to Unreal Engine 4.16.1. Note that 4.16 has a regression which will make it impossible to compile plain .c files!</li>
<li>spine-c is now exposed from the plugin shared library on Windows via __declspec.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md119"></a>
C</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li><span class="tt">MeshAttachment.parentMesh</span> is now a private field to enforce using the <span class="tt">.ParentMesh</span> setter property in external code. The <span class="tt">MeshAttachment.ParentMesh</span> property is an appropriate replacement wherever <span class="tt">.parentMesh</span> was used.</li>
<li><span class="tt">Skeleton.GetBounds</span> takes a scratch array as input so it doesn't have to allocate a new array on each invocation itself. Reduces GC activity.</li>
<li>Removed <span class="tt">Bone.WorldToLocalRotationX</span> and <span class="tt">Bone.WorldToLocalRotationY</span>. Replaced by <span class="tt">Bone.WorldToLocalRotation</span> (rotation given relative to x-axis, counter-clockwise, in degrees).</li>
<li>Added <span class="tt">stride</span> parameter to <span class="tt">VertexAttachment.ComputeWorldVertices</span>.</li>
<li>Removed <span class="tt">RegionAttachment.Vertices</span> field. The vertices array is provided to <span class="tt">RegionAttachment.ComputeWorldVertices</span> by the API user now.</li>
<li>Removed <span class="tt">RegionAttachment.UpdateWorldVertices</span>, added <span class="tt">RegionAttachment.ComputeWorldVertices</span>. The new method now computes the x/y positions of the 4 vertices of the corner and places them in the provided <span class="tt">worldVertices</span> array, starting at <span class="tt">offset</span>, then moving by <span class="tt">stride</span> array elements when advancing to the next vertex. This allows to directly compose the vertex buffer and avoids a copy. The computation of the full vertices, including vertex colors and texture coordinates, is now done by the backend's respective renderer.</li>
<li>The completion event will fire for looped 0 duration animations every frame.</li>
</ul>
</li>
<li><b>Additions</b></li>
<li>Added support for local and relative transform constraint calculation, including additional fields in <span class="tt">TransformConstraintData</span></li>
<li>Added <span class="tt">Bone.localToWorldRotation</span>(rotation given relative to x-axis, counter-clockwise, in degrees).</li>
<li>Added two color tinting support, including <span class="tt">TwoColorTimeline</span> and additional fields on <span class="tt">Slot</span> and <span class="tt">SlotData</span>.</li>
<li>Added <span class="tt">PointAttachment</span>, additional method <span class="tt">NewPointAttachment</span> in <span class="tt">AttachmentLoader</span> interface.</li>
<li>Added <span class="tt">ClippingAttachment</span>, additional method <span class="tt">NewClippingAttachment</span> in <span class="tt">AttachmentLoader</span> interface.</li>
<li>Added <span class="tt">SkeletonClipper</span> and <span class="tt">Triangulator</span>, used to implement software clipping of attachments.</li>
<li><span class="tt">AnimationState.Apply</span> returns a bool indicating if any timeline was applied or not.</li>
<li><span class="tt">Animation.Apply</span> and <span class="tt"> Timeline.Apply`` now take enums  </span>MixPose<span class="tt">and</span>MixDirection` instead of bools.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md120"></a>
Unity</h3>
<ul>
<li>Refactored renderer to work with new 3.6 features.<ul>
<li><b>Two color tinting</b> is currently supported via extra UV2 and UV3 mesh vertex streams. To use Two color tinting, you need to:<ul>
<li>switch on "Tint Black" under "Advanced...",</li>
<li>use the new <span class="tt">Spine/Skeleton Tint Black</span> shader, or your own shader that treats the UV2 and UV3 streams similarly.</li>
<li>Additionally, for SkeletonGraphic, you can use <span class="tt">Spine/SkeletonGraphic Tint Black</span> (or the bundled SkeletonGraphicTintBlack material) or your own shader that uses UV2 and UV3 streams similarly. <b>Additional Shader Channels</b> TexCoord1 and TexCoord2 will need to be enabled from the Canvas component's inspector. These correspond to UV2 and UV3.</li>
</ul>
</li>
<li><b>Clipping</b> is now supported. Caution: The SkeletonAnimation switches to slightly slower mesh generation code when clipping so limit your use of <span class="tt">ClippingAttachment</span>s when using on large numbers of skeletons.</li>
</ul>
</li>
<li><b>SkeletonRenderer.initialFlip</b> <a class="el" href="namespace_spine.html">Spine</a> components such as SkeletonRenderer, SkeletonAnimation, SkeletonAnimator now has <span class="tt">initialFlipX</span> and <span class="tt">initialFlipY</span> fields which are also visible in the inspector under "Advanced...". It will allow you to set and preview a starting flip value for your skeleton component. This is applied immediately when the internal skeleton object is instantiated.</li>
<li><b>[SpineAttribute] Improvements</b><ul>
<li><b>Icons have been added to SpineAttributeDrawers</b>. This should make your default inspectors easier to understand at a glance.</li>
<li><b>Added Constraint Attributes</b> You can now use <span class="tt">[SpineIkConstraint]</span> <span class="tt">[SpineTransformConstraint]</span> <span class="tt">[SpinePathConstraint]</span></li>
<li><b>SpineAttribute dataField</b> parameter can also now detect sibling fields within arrays and serializable structs/classes.</li>
<li><b>[SpineAttribute(includeNone:false)]</b> SpineAttributes now have an <span class="tt">includeNone</span> optional parameter to specify if you want to include or exclude a none ("") value option in the dropdown menu. Default is <span class="tt">includeNone:true</span>.</li>
<li><b>[SpineAttachment(skinField:"mySkin")]</b> The SpineAttachment attribute now has a skinField optional parameter to limit the dropdown items to attachments in a specific skin instead of the just default skin or all the skins in SkeletonData.</li>
</ul>
</li>
<li><b>SkeletonDebugWindow</b>. Debugging tools have been moved from the SkeletonAnimation and SkeletonUtility component inspectors into its own utility window. You can access "Skeleton Debug" under the <span class="tt">Advanced...</span> foldout in the SkeletonAnimation inspector, or in SkeletonAnimation's right-click/context menu.<ul>
<li><b>Skeleton Baking Window</b> The old Skeleton Baking feature is also now accessible through the SkeletonDataAsset's right-click/context menu.</li>
</ul>
</li>
<li><b>AttachmentTools source material</b>. <span class="tt">AttachmentTools</span> methods can now accept a <span class="tt">sourceMaterial</span> argument to copy material properties from.</li>
<li><b>AttachmentTools Skin Extensions</b>. Using AttachmentTools, you can now add entries by slot name by also providing a skeleton argument. Also <span class="tt">Append(Skin)</span>, <span class="tt">RemoveAttachment</span> and <span class="tt">Clear</span> have been added.</li>
<li><b>BoneFollower and SkeletonUtilityBone Add RigidBody Button</b>. The BoneFollower and SkeletonUtilityBone component inspectors will now offer to add a <span class="tt">Rigidbody</span> or <span class="tt">Rigidbody2D</span> if it detects a collider of the appropriate type. Having a rigidbody on a moving transform with a collider fits better with the Unity physics systems and prevents excess calculations. It will not detect colliders on child objects so you have to add Rigidbody components manually accordingly.</li>
<li><b>SkeletonRenderer.OnPostProcessVertices</b> is a new callback that gives you a reference to the MeshGenerator after it has generated a mesh from the current skeleton pose. You can access <span class="tt">meshGenerator.VertexBuffer</span> or <span class="tt">meshGenerator.ColorBuffer</span> to modify these before they get pushed into the UnityEngine.Mesh for rendering. This can be useful for non-shader vertex effects.</li>
<li><b>Examples</b><ul>
<li><b>Examples now use properties</b>. The code in the example scripts have been switched over to using properties instead of fields to encourage their use for consistency. This is in anticipation of both users who want to move the <a class="el" href="namespace_spine.html">Spine</a> folders to the Unity Plugins folder (compiled as a different assembly), and of Unity 2017's ability to manually define different assemblies for shorter compilation times.</li>
<li><b>Mix And Match</b>. The mix-and-match example scene, code and data have been updated to reflect the current recommended setup for animation-compatible custom equip systems The underlying API has changed since 3.5 and the new API calls in MixAndMatch.cs is recommended. Documentation is in progress.</li>
<li><b>Sample Components</b>. <span class="tt">AtasRegionAttacher</span> and <span class="tt">SpriteAttacher</span> are now part of <span class="tt">Sample Components</span>, to reflect that they are meant to be used as sample code rather than production. A few other sample components have also been added. New imports of the unitypackage Examples folder will see a "Legacy" folder comprised of old sample components that no longer contain the most up-to-date and recommended workflows, but are kept in case old setups used them for production.</li>
</ul>
</li>
<li><b><a class="el" href="namespace_spine.html">Spine</a> folder</b>. In the unitypackage, the "spine-csharp" and "spine-unity" folders are now inside a "Spine" folder. This change will only affect fresh imports. Importing the unitypackage to update Spine-Unity in your existing project will update the appropriate files however you chose to arrange them, as long as the meta files are intact.</li>
<li><b>Breaking changes</b><ul>
<li>The Sprite shaders module was updated to the latest version from the <a href="https://github.com/traggett/UnitySpriteShaders/commits/master">source</a>. Some changes were made to the underlying keyword structure. You may need to review the settings of your lit materials. Particularly, your Fixed Normals settings.</li>
<li>The <span class="tt">Spine/Skeleton Lit</span> shader was switched over to non-fixed-function code. It now no longer requires mesh normals and has fixed normals at the shader level.</li>
<li>The old MeshGenerator classes, interfaces and code in <span class="tt">Spine.Unity.MeshGeneration</span> are now deprecated. All mesh-generating components now share the class <span class="tt"><a class="el" href="class_spine_1_1_unity_1_1_mesh_generator.html" title="Holds several methods to prepare and generate a UnityEngine mesh based on a skeleton....">Spine.Unity.MeshGenerator</a></span> defined in <span class="tt"><a class="el" href="_spine_mesh_8cs_source.html">SpineMesh.cs</a></span>. MeshGenerator is a serializable class.<ul>
<li>The <span class="tt">SkeletonRenderer.renderMeshes</span> optimization is currently non-functional.</li>
<li>Old triangle-winding code has been removed from <span class="tt">SkeletonRenderer</span>. Please use shaders that have backface culling off.</li>
<li>Render settings in <span class="tt">SkeletonGraphic</span> can now be accessed under <span class="tt">SkeletonGraphic.MeshGenerator.settings</span>. This is visible in the SkeletonGraphic inspector as <span class="tt">Advanced...</span></li>
<li>We will continue to bundle the unitypackage with the empty .cs files of deprecated classes until <a class="el" href="namespace_spine.html">Spine</a> 3.7 to ensure the upgrade process does not break.</li>
</ul>
</li>
<li>The [SpineAttachment(slotField:)] optional parameter found property value now acts as a Find(slotName) argument rather than Contains(slotName).</li>
<li><span class="tt">SkeletonAnimator</span> now uses a <span class="tt">SkeletonAnimator.MecanimTranslator</span> class to translate an Animator's Mecanim State Machine into skeleton poses. This makes code reuse possible for a Mecanim version of SkeletonGraphic.</li>
<li><span class="tt">SkeletonAnimator</span> <span class="tt">autoreset</span> and the <span class="tt">mixModes</span> array are now a part of SkeletonAnimator's MecanimTranslator <span class="tt">.Translator</span>. <span class="tt">autoReset</span> is set to <span class="tt">true</span> by default. Old prefabs and scene objects with Skeleton Animator may no longer have correct values set.</li>
<li>Warnings and conditionals checking for specific Unity 5.2-and-below incompatibility have been removed.</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md121"></a>
XNA/MonoGame</h2>
<ul>
<li>Added support for clipping</li>
<li>Removed <span class="tt">RegionBatcher</span> and <span class="tt">SkeletonRegionRenderer</span>, renamed <span class="tt">SkeletonMeshRenderer</span> to <span class="tt">SkeletonRenderer</span></li>
<li>Added support for two color tint. For it to work, you need to add the <span class="tt">SpineEffect.fx</span> file to your content project, then load it via <span class="tt">var effect = Content.Load&lt;Effect&gt;("SpineEffect");</span>, and set it on the <span class="tt">SkeletonRenderer</span>. See the example project for code.</li>
<li>Added support for any <span class="tt">Effect</span> to be used by <span class="tt">SkeletonRenderer</span></li>
<li>Added support for <span class="tt">IVertexEffect</span> to modify vertices of skeletons on the CPU. <span class="tt">IVertexEffect</span> instances can be set on the <span class="tt">SkeletonRenderer</span>. See example project.</li>
<li>Added <span class="tt">SkeletonDebugRenderer</span></li>
<li>Made <span class="tt">MeshBatcher</span> of SkeletonRenderer accessible via a getter. Allows user to batch their own geometry together with skeleton meshes for maximum batching instead of using XNA SpriteBatcher.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md122"></a>
Java</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li><span class="tt">Skeleton.getBounds</span> takes a scratch array as input so it doesn't have to allocate a new array on each invocation itself. Reduces GC activity.</li>
<li>Removed <span class="tt">Bone.worldToLocalRotationX</span> and <span class="tt">Bone.worldToLocalRotationY</span>. Replaced by <span class="tt">Bone.worldToLocalRotation</span> (rotation given relative to x-axis, counter-clockwise, in degrees).</li>
<li>Added <span class="tt">stride</span> parameter to <span class="tt">VertexAttachment.computeWorldVertices</span>.</li>
<li>Removed <span class="tt">RegionAttachment.vertices</span> field. The vertices array is provided to <span class="tt">RegionAttachment.computeWorldVertices</span> by the API user now.</li>
<li>Removed <span class="tt">RegionAttachment.updateWorldVertices</span>, added <span class="tt">RegionAttachment.computeWorldVertices</span>. The new method now computes the x/y positions of the 4 vertices of the corner and places them in the provided <span class="tt">worldVertices</span> array, starting at <span class="tt">offset</span>, then moving by <span class="tt">stride</span> array elements when advancing to the next vertex. This allows to directly compose the vertex buffer and avoids a copy. The computation of the full vertices, including vertex colors and texture coordinates, is now done by the backend's respective renderer.</li>
<li>Skeleton attachments: Moved update of attached skeleton out of libGDX <span class="tt">SkeletonRenderer</span>, added overloaded method <span class="tt">Skeleton#updateWorldTransform(Bone), used for </span>SkeletonAttachment<span class="tt">. You now MUST call this new method
with the bone of the parent skeleton to which the child skeleton is attached. See </span>SkeletonAttachmentTest` for and example.</li>
<li>The completion event will fire for looped 0 duration animations every frame.</li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added support for local and relative transform constraint calculation, including additional fields in <span class="tt">TransformConstraintData</span></li>
<li>Added <span class="tt">Bone.localToWorldRotation</span>(rotation given relative to x-axis, counter-clockwise, in degrees).</li>
<li>Added two color tinting support, including <span class="tt">TwoColorTimeline</span> and additional fields on <span class="tt">Slot</span> and <span class="tt">SlotData</span>.</li>
<li>Added <span class="tt">PointAttachment</span>, additional method <span class="tt">newPointAttachment</span> in <span class="tt">AttachmentLoader</span> interface.</li>
<li>Added <span class="tt">ClippingAttachment</span>, additional method <span class="tt">newClippingAttachment</span> in <span class="tt">AttachmentLoader</span> interface.</li>
<li>Added <span class="tt">SkeletonClipper</span> and <span class="tt">Triangulator</span>, used to implement software clipping of attachments.</li>
<li><span class="tt">AnimationState#apply</span> returns boolean indicating if any timeline was applied or not.</li>
<li><span class="tt">Animation#apply</span> and <span class="tt"> Timeline#apply`` now take enums  </span>MixPose<span class="tt">and</span>MixDirection` instead of booleans</li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md123"></a>
libGDX</h3>
<ul>
<li>Fixed renderer to work with 3.6 changes</li>
<li>Added support for two color tinting. Use the new <span class="tt">TwoColorPolygonBatch</span> together with <span class="tt">SkeletonRenderer</span></li>
<li>Added support for clipping. See <span class="tt">SkeletonClipper</span>. Used automatically by <span class="tt">SkeletonRenderer</span>. Does not work when using a <span class="tt">SpriteBatch</span> with <span class="tt">SkeletonRenderer</span>. Use <span class="tt">PolygonSpriteBatch</span> or <span class="tt">TwoColorPolygonBatch</span> instead.</li>
<li>Added <span class="tt">VertexEffect</span> interface, instances of which can be set on <span class="tt">SkeletonRenderer</span>. Allows to modify vertices before submitting them to GPU. See <span class="tt">SwirlEffect</span>, <span class="tt">JitterEffect</span> and <span class="tt">VertexEffectTest</span>.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md124"></a>
Lua</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li>Removed <span class="tt">Bone:worldToLocalRotationX</span> and <span class="tt">Bone:worldToLocalRotationY</span>. Replaced by <span class="tt">Bone:worldToLocalRotation</span> (rotation given relative to x-axis, counter-clockwise, in degrees).</li>
<li><span class="tt">VertexAttachment:computeWorldVertices</span> now takes offsets and stride to allow compositing vertices directly in a vertex buffer to be send to the GPU. The compositing is now performed in the backends' respective renderers. This also affects the subclasses <span class="tt">MeshAttachment</span>, <span class="tt">BoundingBoxAttachment</span> and <span class="tt">PathAttachment</span>.</li>
<li>Removed <span class="tt">RegionAttachment:updateWorldVertices</span>, added <span class="tt">RegionAttachment:computeWorldVertices</span>, which takes offsets and stride to allow compositing vertices directly in a vertex buffer to be send to the GPU. The compositing is now performed in the backends' respective renderers.</li>
<li>Removed <span class="tt">MeshAttachment.worldVertices</span> field. Computation is now performed in each backends' respective renderer. The <span class="tt">uv</span> coordinates are now stored in <span class="tt">MeshAttachment.uvs</span>.</li>
<li>Removed <span class="tt">RegionAttachment.vertices</span> field. Computation is now performed in each backends respective renderer. The <span class="tt">uv</span> coordinates for each vertex are now stored in the <span class="tt">RegionAttachment.uvs</span> field.</li>
<li>The completion event will fire for looped 0 duration animations every frame.</li>
</ul>
</li>
<li><b>Additions</b></li>
<li>Added <span class="tt">Bone:localToWorldRotation</span>(rotation given relative to x-axis, counter-clockwise, in degrees).</li>
<li>Added two color tinting support, including <span class="tt">TwoColorTimeline</span> and additional fields on <span class="tt">Slot</span> and <span class="tt">SlotData</span>.</li>
<li>Added <span class="tt">PointAttachment</span>, additional method <span class="tt">newPointAttachment</span> in <span class="tt">AttachmentLoader</span> interface.</li>
<li>Added support for local and relative transform constraint calculation, including additional fields in <span class="tt">TransformConstraintData</span></li>
<li>Added <span class="tt">ClippingAttachment</span>, additional method <span class="tt">newClippingAttachment</span> in <span class="tt">AttachmentLoader</span> interface.</li>
<li>Added <span class="tt">SkeletonClipper</span> and <span class="tt">Triangulator</span>, used to implement software clipping of attachments.</li>
<li><span class="tt">AnimationState#apply</span> returns boolean indicating if any timeline was applied or not.</li>
<li><span class="tt">Animation#apply</span> and <span class="tt"> Timeline#apply`` now take enums  </span>MixPose<span class="tt">and</span>MixDirection<span class="tt"> instead of booleans</span></li>
<li><span class="tt">Added </span>JitterEffect<span class="tt"> and </span>SwirlEffect` and support for vertex effects in Corona and Love</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md125"></a>
Love2D</h3>
<ul>
<li>Fixed renderer to work with 3.6 changes</li>
<li>Added support for two color tinting. Enable it via <span class="tt">SkeletonRenderer.new(true)</span>.</li>
<li>Added clipping support.</li>
<li>Added support for vertex effects. Set an implementation like "JitterEffect" on <span class="tt">Skeleton.vertexEffect</span>. See <span class="tt">main.lua</span> for an example.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md126"></a>
Corona</h3>
<ul>
<li>Fixed renderer to work with 3.6 changes. Sadly, two color tinting is not supported, as Corona doesn't let us change the vertex format needed and its doesn't allow to modify shaders in the way needed for two color tinting</li>
<li>Added clipping support.</li>
<li>Added support for vertex effects. Set an implementation like "JitterEffect" on <span class="tt">SkeletonRenderer.vertexEffect</span>. See <span class="tt">main.lua</span> for an example</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md127"></a>
Typescript/Javascript</h2>
<ul>
<li><b>Breaking changes</b><ul>
<li><span class="tt">Skeleton.getBounds</span> takes a scratch array as input so it doesn't have to allocate a new array on each invocation itself. Reduces GC activity.</li>
<li>Removed <span class="tt">Bone.worldToLocalRotationX</span> and <span class="tt">Bone.worldToLocalRotationY</span>. Replaced by <span class="tt">Bone.worldToLocalRotation</span> (rotation given relative to x-axis, counter-clockwise, in degrees).</li>
<li>Removed <span class="tt">VertexAttachment.computeWorldVertices</span> overload, changed <span class="tt">VertexAttachment.computeWorldVerticesWith</span> to <span class="tt">VertexAttachment.computeWorldVertices</span>, added <span class="tt">stride</span> parameter.</li>
<li>Removed <span class="tt">RegionAttachment.vertices</span> field. The vertices array is provided to <span class="tt">RegionAttachment.computeWorldVertices</span> by the API user now.</li>
<li>Removed <span class="tt">RegionAttachment.updateWorldVertices</span>, added <span class="tt">RegionAttachment.computeWorldVertices</span>. The new method now computes the x/y positions of the 4 vertices of the corner and places them in the provided <span class="tt">worldVertices</span> array, starting at <span class="tt">offset</span>, then moving by <span class="tt">stride</span> array elements when advancing to the next vertex. This allows to directly compose the vertex buffer and avoids a copy. The computation of the full vertices, including vertex colors and texture coordinates, is now done by the backend's respective renderer.</li>
<li>The completion event will fire for looped 0 duration animations every frame.</li>
<li>Removed the <a class="el" href="namespace_spine.html">Spine</a> Widget in favor of <a href="https://esotericsoftware.com/spine-player">Spine Web Player</a>.</li>
</ul>
</li>
<li><b>Additions</b><ul>
<li>Added support for local and relative transform constraint calculation, including additional fields in <span class="tt">TransformConstraintData</span></li>
<li>Added <span class="tt">Bone.localToWorldRotation</span>(rotation given relative to x-axis, counter-clockwise, in degrees).</li>
<li>Added two color tinting support, including <span class="tt">TwoColorTimeline</span> and additional fields on <span class="tt">Slot</span> and <span class="tt">SlotData</span>.</li>
<li>Added <span class="tt">PointAttachment</span>, additional method <span class="tt">newPointAttachment</span> in <span class="tt">AttachmentLoader</span> interface.</li>
<li>Added <span class="tt">ClippingAttachment</span>, additional method <span class="tt">newClippingAttachment</span> in <span class="tt">AttachmentLoader</span> interface.</li>
<li>Added <span class="tt">SkeletonClipper</span> and <span class="tt">Triangulator</span>, used to implement software clipping of attachments.</li>
<li><span class="tt">AnimationState#apply</span> returns boolean indicating if any timeline was applied or not.</li>
<li><span class="tt">Animation#apply</span> and <span class="tt"> Timeline#apply`` now take enums  </span>MixPose<span class="tt">and</span>MixDirection<span class="tt"> instead of booleans</span></li>
<li><span class="tt">Added </span>AssetManager.loadTextureAtlas<span class="tt">. Instead of loading the </span>.atlas<span class="tt"> and corresponding image files manually, you can simply specify the location of the </span>.atlas<span class="tt"> file and AssetManager will load the atlas and all its images automatically. </span>AssetManager.get("atlasname.atlas")<span class="tt"> will then return an instance of </span>spine.TextureAtlas`.</li>
<li>Added the <a href="https://esotericsoftware.com/spine-player">Spine Web Player</a></li>
</ul>
</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md128"></a>
WebGL backend</h3>
<ul>
<li>Fixed WebGL context loss<ul>
<li>Added <span class="tt">Restorable</span> interface, implemented by any WebGL resource that needs restoration after a context loss. All WebGL resource classes (<span class="tt">Shader</span>, <span class="tt">Mesh</span>, <span class="tt">GLTexture</span>) implement this interface.</li>
<li>Added <span class="tt">ManagedWebGLRenderingContext</span>. Handles setup of a <span class="tt">WebGLRenderingContext</span> given a canvas element and restoration of WebGL resources (<span class="tt">Shader</span>, <span class="tt">Mesh</span>, <span class="tt">GLTexture</span>) on WebGL context loss. WebGL resources register themselves with the <span class="tt">ManagedWebGLRenderingContext</span>. If the context is informed of a context loss and restoration, the registered WebGL resources' <span class="tt">restore()</span> method is called. The <span class="tt">restore()</span> method implementation on each resource type will recreate the GPU side objects.</li>
<li>All classes that previously took a <span class="tt">WebGLRenderingContext</span> in the constructor now also allow a <span class="tt">ManagedWebGLRenderingContext</span>. This ensures existing applications do not break.</li>
<li>To use automatic context restauration:</li>
</ul>
<ol type="1">
<li>Create or fetch a canvas element from the DOM</li>
<li>Instantiate a <span class="tt">ManagedWebGLRenderingContext</span>, passing the canvas to the constructor. This will setup a <span class="tt">WebGLRenderingContext</span> internally and manage context loss/restoration.</li>
<li>Pass the <span class="tt">ManagedWebGLRenderingContext</span> to the constructors of classes that you previously passed a <span class="tt">WebGLRenderingContext</span> to (<span class="tt">AssetManager</span>, <span class="tt">GLTexture</span>, <span class="tt">Mesh</span>, <span class="tt">Shader</span>, <span class="tt">PolygonBatcher</span>, <span class="tt">SceneRenderer</span>, <span class="tt">ShapeRenderer</span>, <span class="tt">SkeletonRenderer</span>, <span class="tt">SkeletonDebugRenderer</span>).</li>
</ol>
</li>
<li>Fixed renderer to work with 3.6 changes.</li>
<li>Added support for two color tinting.</li>
<li>Improved performance by using <span class="tt">DYNAMIC_DRAW</span> for vertex buffer objects and fixing bug that copied to much data to the GPU each frame in <span class="tt">PolygonBatcher</span>/<span class="tt">Mesh</span>.</li>
<li>Added two color tinting support, enabled by default. You can disable it via the constructors of <span class="tt">SceneRenderer</span>, <span class="tt">SkeletonRenderer</span>and <span class="tt">PolygonBatcher</span>. Note that you will need to use a shader created via <span class="tt">Shader.newTwoColoredTexturedShader</span> shader with <span class="tt">SkeletonRenderer</span> and <span class="tt">PolygonBatcher</span> if two color tinting is enabled.</li>
<li>Added clipping support</li>
<li>Added <span class="tt">VertexEffect</span> interface, instances of which can be set on <span class="tt">SkeletonRenderer</span>. Allows to modify vertices before submitting them to GPU. See <span class="tt">SwirlEffect</span>, <span class="tt">JitterEffect</span>, and the example which allows to set effects.</li>
<li>Added <span class="tt">slotRangeStart</span> and <span class="tt">slotRangeEnd</span> parameters to <span class="tt">SkeletonRenderer#draw</span> and <span class="tt">SceneRenderer#drawSkeleton</span>. This allows you to render only a range of slots in the draw order. See <span class="tt">spine-ts/webgl/tests/test-slot-range.html</span> for an example.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md129"></a>
Canvas backend</h3>
<ul>
<li>Fixed renderer to work for 3.6 changes. Sadly, we can't support two color tinting via the Canvas API.</li>
<li>Added support for shearing and non-uniform scaling inherited from parent bones.</li>
<li>Added support for alpha tinting.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md130"></a>
Three.js backend</h3>
<ul>
<li>Fixed renderer to work with 3.6 changes. Two color tinting is not supported.</li>
<li>Added clipping support</li>
<li>Added <span class="tt">VertexEffect</span> interface, instances of which can be set on <span class="tt">SkeletonMesh</span>. Allows to modify vertices before submitting them to GPU. See <span class="tt">SwirlEffect</span>, <span class="tt">JitterEffect</span>.</li>
<li>Added support for multi-page atlases</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md131"></a>
Widget backend</h3>
<ul>
<li>Fixed WebGL context loss (see WebGL backend changes). Enabled automatically.</li>
<li>Fixed renderer to work for 3.6 changes. Supports two color tinting &amp; clipping (see WebGL backend changes for details).</li>
<li>Added fields <span class="tt">atlasContent</span>, <span class="tt">atlasPagesContent</span>, and <span class="tt">jsonContent</span> to <span class="tt">WidgetConfiguration</span> allowing you to directly pass the contents of the <span class="tt">.atlas</span>, atlas page <span class="tt">.png</span> files, and the <span class="tt">.json</span> file without having to do a request. See <span class="tt">README.md</span> and the example for details.</li>
<li><span class="tt">SpineWidget.setAnimation()</span> now takes an additional optional parameter for callbacks when animations are completed/interrupted/etc. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
